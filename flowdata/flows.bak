{"device":"DESKTOP","widgets":{"Start#0":{"t":"Start","lX":215,"lY":320,"sX":1,"sY":1,"s":"Heartbeat","ps":{"enabled":false,"scalingType":"NOSCALE","width":"5.74%","height":"7.44%","x":"12.74%","y":"36.61%"},"ver":"200819c190915","dis":false,"tt":"","a":{"channel":"PESTCO/RODENTS/+/heartbeat","[object Attr]":"heartbeat","category":"PESTCO","class":"RODENTS","instance":"+","scope":"heartbeat"},"ev":{}},"Heartbeat#0":{"t":"Heartbeat","lX":375,"lY":280,"sX":1,"sY":1,"s":"Heartbeat","ps":{"enabled":false,"scalingType":"NOSCALE","width":"9.11%","height":"8.32%","x":"34.15%","y":"23.29%"},"ver":"200129c190915","dis":false,"tt":"","a":{"time elapsed":"2","timespan":"hours","alarm value":"5"},"ev":{}},"EmailController":{"t":"Scripting","lX":525,"lY":295,"sX":1,"sY":1,"s":"Heartbeat","ps":{"enabled":false,"scalingType":"NOSCALE","width":"9.11%","height":"8.32%","x":"47.81%","y":"24.54%"},"ver":"190104c190915","dis":false,"tt":"","a":{"code editor":"// Javascript flow scripting.\n/**\n * Description: \n * Create Author/Date: \n * Modified Author/Date: \n * Version: \n */\n\n// Declare global variables here to be initialised at server startup\n\n/**\n * Initialise script state (run once at startup). Pass in channels set in script node widget\n */\n Script.on(\"load\", function () {\n});\n\n/**\n * Response to incoming flow message. eventData object passed in with:\n * eventData.value - incoming data value (string)\n * eventData.startCh - state of channel that initiated the flow and the channel details (Object. Members {channel}, {value})\n * @return {string} return a value to continue the flow or to cancel flow return null\n */\nScript.on(\"flow\", function (eventData) {\n\t// Get the message source device name\n\tvar device = eventData.startCh.channel.instance.charAt(0).toUpperCase() + eventData.startCh.channel.instance.slice(1).toLowerCase();\n\tconsole.log(\"Device:\" +device);\n\tSystem.writeLog(\"Device '\" + device + \"' has not communicated. Sending email to alert.\");\n\tvar subject = \"Device offline alert - '\" + device + \"' has not communicated\";\n \tvar selectTraps = [\n\t\t{\n\t\t\t\"TableName\": \"Devices\", // Specify the primary table used to construct the join request\n\t\t\t\"Join\": 1, // Join type 1 - Inner Join, 2 - Outer Join, 3 - Left join, 4 - Right Join.\n\t\t\t\"Columns\":\n\t\t\t\t[\n\t\t\t\t\t\"Id\",\n\t\t\t\t\t\"Owner\",\n\t\t\t\t\t\"CommunicationError\",\n\t\t\t\t\t\"Status\"\n\n\t\t\t\t], // Specify the list of columns to take from the reference table.\n\t\t\t\t\"Filters\": // Filter options in case they are needed.\n\t\t\t\t[\n\t\t\t\t\t{\n\t\t\t\t\t\t\"Column\": \"DeviceNumber\", //Column that will be applied (don't include table name will be resolved if its contained within the reference table.\n\t\t\t\t\t\t\"ParamName\": \"DeviceNumber\", // Parameter name, must be unique and should not contain $ as its resolved by the mapper. \n\t\t\t\t\t\t\"Value\": device // Value that you want to pass for comparison (any object)\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t}];\n\n\n\tvar readRecord = Database.readCompound(\"rodent\", \"Devices\", selectTraps);\n\t// Get trapper associated with the trap\n\t//var dbResult = Database.readRecords(\"traps\",\"State\",\"Technician\", \"DeviceNumber='\" + device + \"'\");\n\t \n     var selected;\n     var oldRecord = JSON.parse(readRecord);\n\t \n\tconsole.log(\"PROGRESS 1\");\n \n\t for (var row in oldRecord.data) {\n\t\t selected = oldRecord.data[row];\n\t }\n\tconsole.log(\"SELECTED: \" + selected);\n\t // In case device doesn't exist in the relational database or has a missing id\n\t if (selected === undefined) {\n\n\t\t System.writeLog(\"Device data rejected, not associated with any bait box in rodent database!!!\");\n\t\t return null;\n\t }\t\n\tif(selected[3] === \"0\")\n\t{\n\t\tconsole.log(\"Email not sent, device inactive.\")\n\t\treturn null;\n\t}\n\tif(selected[2] === \"1\")\n\t{\n\t\n\t}\n\telse\n\t{\n\t\tconsole.log(\"PROGRESS 2\");\n\t\tvar trapId = selected[0];\n\t\tconsole.log(\"recordData[1]\"+ selected[1]);\n\t\tDatabase.saveRecordParam(\"Rodent\", \"Devices\", {\n\t\t\ttrapId: {\n\t\t\t\tId:selected[0],\n\t\t\t\tCommunicationError:1\n\t\t\t}\n\t\t}, function (data) {\n\n\t\t});\n\t\tconsole.log(\"PROGRESS 3\");\n\n\n\t\tvar selectUsers = [\n\t\t\t{\n\t\t\t\t\"TableName\": \"users\", // Specify the primary table used to construct the join request\n\t\t\t\t\"Join\": 1, // Join type 1 - Inner Join, 2 - Outer Join, 3 - Left join, 4 - Right Join.\n\t\t\t\t\"Columns\":\n\t\t\t\t\t[\n\t\t\t\t\t\t\"username\",\n\t\t\t\t\t\t\"email\",\n\t\t\t\t\t\t\"mobile\"\n\t\t\t\t\t], // Specify the list of columns to take from the reference table.\n\t\t\t\t\"Filters\":[\n\t\t\t\t\t{\n\t\t\t\t\t\"Column\": \"username\", //Column that will be applied (don't include table name will be resolved if its contained within the reference table.\n\t\t\t\t\t\"ParamName\": \"receiver\", // Parameter name, must be unique and should not contain $ as its resolved by the mapper. \n\t\t\t\t\t\"Value\": selected[1] // Value that you want to pass for comparison (any object)\n\t\t\t\t\t}\n\t\t\t\t\t] // Filter options in case they are needed.\n\n\t\t\t}];\n\n\n\t\tvar readRecord1 = Database.readCompound(\"Directory\", \"users\", selectUsers);\n\t\tvar recordData1 = JSON.parse(readRecord1);\n\t\tvar email;\n\n\t\tif (Object.keys(recordData1.data).length > 0) {\n\n\t\t\tfor (var user in recordData1.data) {\n\n\t\t\t\tif (recordData1.data[user][1] !== \"\") {\n\t\t\t\t\temail = recordData1.data[user][1];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tconsole.log(\"PROGRESS 4\");\n\n\t\tvar  emails;\n\t\tif(email !== undefined)\n\t\t{\n\t\t\temails = [\"alertstg@sensahub.com\",email];\n\t\t}\n\t\telse\n\t\t{\n\t\t\temails = [\"alertstg@sensahub.com\"];\n\t\t}\n\t\tconsole.log(emails);\n\n\n\t\treturn JSON.stringify({\n\t\t\t\"to\": emails, \"subject\": subject, \"body\": \"Message from Pestsense Automated Alerts: Please check the status of \" +\n\t\t\t\t\"device \" + device + \" as it has stopped communicating, either no cellular signal or battery is flat.\"\n\t\t});\n\t}\n});"},"ev":{}},"SMTP#1":{"t":"SMTP","lX":670,"lY":310,"sX":1,"sY":1,"s":"Heartbeat","ps":{"enabled":false,"scalingType":"NOSCALE","width":"9.08%","height":"5.41%","x":"60.85%","y":"25.79%"},"ver":"190104c210519","dis":false,"tt":"","a":{"to":"","subject":"","body":"","host name":"","name":"","username":"","password":"","port":"","enable ssl":"true"},"ev":{}},"Notes#0":{"t":"Notes","lX":720,"lY":100,"sX":3.25,"sY":1.55,"s":"Heartbeat","ps":{"enabled":false,"scalingType":"OK","width":"18.65%","height":"17.53%","x":"","y":""},"ver":"190104c210519","z":"110","dis":false,"tt":"","a":{"color":"blue","3D shadow":"false","title":"Notes","notes":"An email will be sent if the heartbeat channel does not receive anything for 2 hours"},"ev":{}},"Container#5":{"t":"Container","lX":5,"lY":0,"sX":15.75,"sY":7.95,"s":"Encircle Process","ps":{"enabled":false,"scalingType":"OK","width":"143.05%","height":"66.14%","x":"0.29%","y":"0.17%"},"ver":"190104c190915","z":"100","dis":false,"tt":"","a":{"3D shadow":"false","color":"white","title":"Channels"},"ev":{}},"JsonParser#24":{"t":"JsonParser","lX":966,"lY":210,"sX":1,"sY":1,"s":"Encircle Process","ps":{"enabled":false,"scalingType":"NOSCALE","width":"","height":"","x":"","y":""},"ver":"190104c190915","z":"100","dis":false,"tt":"","a":{"field name":"Temperature"},"ev":{}},"JsonParser#26":{"t":"JsonParser","lX":970,"lY":316,"sX":1,"sY":1,"s":"Encircle Process","ps":{"enabled":false,"scalingType":"NOSCALE","width":"","height":"","x":"","y":""},"ver":"190104c190915","z":"120","dis":false,"tt":"","a":{"field name":"signal"},"ev":{}},"JsonParser#29":{"t":"JsonParser","lX":925,"lY":420,"sX":1,"sY":1,"s":"Encircle Process","ps":{"enabled":false,"scalingType":"NOSCALE","width":"5.74%","height":"11.44%","x":"35.34%","y":"30.32%"},"ver":"190104c190915","z":"100","dis":false,"tt":"","a":{"field name":"Tilt"},"ev":{}},"End#32":{"t":"End","lX":1455,"lY":545,"sX":1,"sY":1,"s":"Encircle Process","ps":{"enabled":false,"scalingType":"NOSCALE","width":"5.74%","height":"7.44%","x":"62.82%","y":"32.49%"},"ver":"200819c190915","dis":false,"tt":"","a":{"channel":"PESTCO/RODENTS/+/batterymv","[object Attr]":"batterymv","category":"PESTCO","class":"RODENTS","instance":"+","scope":"batterymv"},"ev":{}},"End#35":{"t":"End","lX":1455,"lY":225,"sX":1,"sY":1,"s":"Encircle Process","ps":{"enabled":false,"scalingType":"NOSCALE","width":"5.74%","height":"7.44%","x":"62.82%","y":"68.42%"},"ver":"200819c190915","dis":false,"tt":"","a":{"channel":"PESTCO/RODENTS/+/temp","[object Attr]":"temp","category":"PESTCO","class":"RODENTS","instance":"+","scope":"temp"},"ev":{}},"End#36":{"t":"End","lX":1455,"lY":335,"sX":1,"sY":1,"s":"Encircle Process","ps":{"enabled":false,"scalingType":"NOSCALE","width":"5.74%","height":"7.44%","x":"62.59%","y":"82.27%"},"ver":"200819c190915","dis":false,"tt":"","a":{"channel":"PESTCO/RODENTS/+/signal","[object Attr]":"signal","category":"PESTCO","class":"RODENTS","instance":"+","scope":"signal"},"ev":{}},"End#37":{"t":"End","lX":1455,"lY":430,"sX":1,"sY":1,"s":"Encircle Process","ps":{"enabled":false,"scalingType":"NOSCALE","width":"5.74%","height":"7.44%","x":"62.65%","y":"96.11%"},"ver":"200819c190915","dis":false,"tt":"","a":{"channel":"PESTCO/RODENTS/+/tilt","[object Attr]":"tilt","category":"PESTCO","class":"RODENTS","instance":"+","scope":"tilt"},"ev":{}},"JsonParser#32":{"t":"JsonParser","lX":385,"lY":100,"sX":1,"sY":1,"s":"Encircle Process","ps":{"enabled":false,"scalingType":"NOSCALE","width":"5.74%","height":"11.44%","x":"23.47%","y":"36.61%"},"ver":"190104c190915","dis":false,"tt":"","a":{"field name":"uplink_message"},"ev":{}},"Container#7":{"t":"Container","lX":665,"lY":800,"sX":9.55,"sY":4.7,"s":"Encircle Process","ps":{"enabled":false,"scalingType":"OK","width":"86.74%","height":"39.1%","x":"60.49%","y":"66.64%"},"ver":"190104c190915","z":"100","dis":false,"tt":"","a":{"3D shadow":"false","color":"blue","title":"Email Handler"},"ev":{}},"Operator#3":{"t":"Operator","lX":1115,"lY":510,"sX":1,"sY":1,"s":"Encircle Process","ps":{"enabled":false,"scalingType":"NOSCALE","width":"","height":"","x":"","y":""},"ver":"190104c190915","dis":false,"tt":"","a":{"function":"divide","value":"100"},"ev":{}},"MQTT#0-DEV":{"t":"MQTT","lX":45,"lY":115,"sX":1,"sY":1,"s":"Encircle Process","ps":{"enabled":false,"scalingType":"NOSCALE","width":"5.11%","height":"10.18%","x":"1.89%","y":"107.03%"},"ver":"190104c210519","dis":false,"tt":"MQTT client and broker for receiving MQTT publish messages matching topic subscription","a":{"device authorization":"json","model":"Pestsense10","topic level":"none","text":"OR","json key":"dev_eui","encryption":"false","broker":"false","topic":"","server password":"","subscription":"#","client username":"pestsenseau@pestsense","client password":"NNSXS.SLYP3O4NQA4P4PSORKQXIBIPLH4DG5D246JJLWQ.SQMWNYER3DCKOBGODSCU4BFNSGGX6XTHEVMDUFRWVEEQ25AMGWIQ","certificate name":"","protocol":"3.1.1","quality of service":"at most once","remote broker":"3.104.210.16","clean session":"false","retain published":"true","OR":"OR"},"ev":{}},"JsonParser#0":{"t":"JsonParser","lX":615,"lY":100,"sX":1,"sY":1,"s":"Encircle Process","ps":{"enabled":false,"scalingType":"NOSCALE","width":"5.74%","height":"11.88%","x":"20.6%","y":"81.47%"},"ver":"190104c210519","dis":false,"tt":"","a":{"field name":"decoded_payload"},"ev":{}},"JsonParser#1":{"t":"JsonParser","lX":895,"lY":525,"sX":1,"sY":1,"s":"Encircle Process","ps":{"enabled":false,"scalingType":"NOSCALE","width":"5.74%","height":"11.88%","x":"35.57%","y":"112.47%"},"ver":"190104c210519","dis":false,"tt":"","a":{"field name":"Battery"},"ev":{}},"JsonParser#2":{"t":"JsonParser","lX":960,"lY":106,"sX":1,"sY":1,"s":"Encircle Process","ps":{"enabled":false,"scalingType":"NOSCALE","width":"","height":"","x":"","y":""},"ver":"190104c210519","dis":false,"tt":"","a":{"field name":"LoadCell"},"ev":{}},"End#1":{"t":"End","lX":1450,"lY":125,"sX":1,"sY":1,"s":"Encircle Process","ps":{"enabled":false,"scalingType":"NOSCALE","width":"","height":"","x":"","y":""},"ver":"200819c210519","dis":false,"tt":"","a":{"channel":"PESTCO/RODENTS/+/LoadCell","[object Attr]":"LoadCell","category":"PESTCO","class":"RODENTS","instance":"+","scope":"LoadCell"},"ev":{}},"SMTP#0":{"t":"SMTP","lX":1485,"lY":845,"sX":1,"sY":1,"s":"Encircle Process","ps":{"enabled":false,"scalingType":"NOSCALE","width":"9.08%","height":"5.41%","x":"134.88%","y":"70.22%"},"ver":"190104c210519","dis":false,"tt":"","a":{"to":"","subject":"","body":"","host name":"","name":"","username":"","password":"","port":"","enable ssl":"true"},"ev":{}},"End#2":{"t":"End","lX":1485,"lY":1145,"sX":1,"sY":1,"s":"Encircle Process","ps":{"enabled":false,"scalingType":"NOSCALE","width":"5.74%","height":"7.72%","x":"105.28%","y":"266.03%"},"ver":"200819c210519","dis":false,"tt":"","a":{"channel":"$NET/TWILIO/SEND/SMS","[object Attr]":"SMS","category":"$NET","class":"TWILIO","instance":"SEND","scope":"SMS"},"ev":{}},"ConsumedAlertsController":{"t":"Scripting","lX":850,"lY":1100,"sX":1,"sY":1,"s":"Encircle Process","ps":{"enabled":false,"scalingType":"NOSCALE","width":"5.74%","height":"11.88%","x":"57.37%","y":"226.84%"},"ver":"190104c210519","dis":false,"tt":"","a":{"code editor":"// Javascript flow scripting.\n/**\n * Description: Calculates the consumed weight value and returns the necessary object for email or SMS processing\n * Create Author/Date: \n * Modified Author/Date: \n * Version: \n */\n\n// Declare global variables here to be initialised at server startup\n\n/**\n * Initialise script state (run once at startup). Pass in channels set in script node widget\n */\nScript.on(\"load\", function() {\n\n});\n\n\nvar lowerThreshold = 10;\nvar upperThreshold = 15;\n/**\n * Response to incoming flow message. eventData object passed in with:\n * eventData.value - incoming data value (string)\n * eventData.startCh - state of channel that initiated the flow and the channel details (Object. Members {channel}, {value})\n * @return {string} return a value to continue the flow or to cancel flow return null\n */\nScript.on(\"flow\", function(eventData) {\n\tvar result;\n\tresult = JSON.parse(eventData.value);      \n\tvar TakenChannel = System.getChannelValue(\"SENSAHUB/PESTCO/RODENTS/\"+result.sid+\"/BAITCONSUMED\");\n \tvar enteredWeight = result.EnteredWeight;\n\tvar totalConsumed = 0;\n\tvar enteredWeightDate = result.SetTime;\n\n \tif (result.WeightLeftIndividual === undefined) {\n        return JSON.stringify({\n            Sid:result.sid,\n            AmberAlert: 0,\n            RedAlert: 0,\n            Consumed: 0\n        }); \n\t}\n \n    if (parseFloat(result.WeightLeftIndividual) > 0) {\n        totalConsumed = parseFloat(result.WeightLeftIndividual);\n        if (totalConsumed > 15) {\n            totalConsumed = 0;\n        }\n            \n        if (TakenChannel !== null) {\n            var oldData = JSON.parse(TakenChannel);\n            TakenChannel =[];\n            for (var item in oldData) {\n                if (OlderThenDay(oldData[item].time,enteredWeightDate)) {\n                    // increment total consumed with previous data if the gap between entries is more than a day\n                    TakenChannel.push(oldData[item]);\t\n                    totalConsumed += oldData[item].value;\n                }\n            }\n            \n            TakenChannel.push({\n                time: new Date().getTime(),\n                value: Math.round(parseFloat(result.BaitTaken))\n            });\n        } else {\n            TakenChannel = [];\n            TakenChannel.push({\n                time: new Date().getTime(),\n                value: Math.round(parseFloat(result.BaitTaken))\n            });\n        }\n        var consumed = Math.round((totalConsumed / (parseFloat(enteredWeight) -11.1)) * 100);\n        var sendRed = false;\n        var sendAmber = false;\n        \n        System.publishToChannel(\"SENSAHUB/PESTCO/RODENTS/\"+result.sid+\"/BAITCONSUMED\", JSON.stringify(TakenChannel));\n        if (consumed > lowerThreshold) {\n            sendAmber = true;\n        }\n        \n        if (consumed > upperThreshold) {\n            sendRed = true;\n        }\n        \n        \n        if (sendAmber && !sendRed) {\n            var selected = GetDeviceData(result.sid);\n            var trapId = selected.Id.toString();\n            selected.Address = 1;\n            if (selected.State === \"2\") {\n                selected.State = 4;\n            }\n            Database.saveRecordParam(\"Rodent\", \"Devices\", {\n                trapId: selected\n            }, function (data) {\n\n            });\n\n            return JSON.stringify({\n                Sid:result.sid,\n                AmberAlert: 1,\n                RedAlert: 0,\n                Consumed: consumed\n            });\n        }\n        \n        if (sendRed) {\n            TakenChannel =[];\n            System.publishToChannel(\"SENSAHUB/PESTCO/RODENTS/\"+result.sid+\"/BAITCONSUMED\", JSON.stringify(TakenChannel));\n            var selected = GetDeviceData(result.sid);\n            var trapId = selected.Id.toString();\n            selected.Address = 2;\n            selected.State = 3;\n\n            Database.saveRecordParam(\"Rodent\", \"Devices\", {\n                trapId: selected\n            }, function (data) {\n\n            });\n\n            return JSON.stringify({\n                Sid:result.sid,\n                AmberAlert: 0,\n                RedAlert: 1,\n                Consumed: consumed\n            });\n        }\n        \n        \n        return JSON.stringify({\n            Sid:result.sid,\n            AmberAlert: 0,\n            RedAlert: 0,\n            Consumed: consumed\n        }); \n    }\n});\n\nfunction OlderThenDay(timestamp, enteredWeightDate) {\n\tvar OneDay = new Date().getTime() + (1 * 24 * 60 * 60 * 1000);\n    return !(OneDay < timestamp || timestamp <  enteredWeightDate);\n}\n\nfunction GetDeviceData(id) {\n  var selectTraps = [{\n      \"TableName\": \"Devices\", // Specify the primary table used to construct the join request\n      \"Join\": 1, // Join type 1 - Inner Join, 2 - Outer Join, 3 - Left join, 4 - Right Join.\n      \"Columns\":\n       [\n           \"Id\",\n           \"Sid\",\n           \"EnteredWeight\",\n           \"WeightConsumed\",\n           \"WeightLeft\",\n           \"ClibrationRange\",\n           \"EnteredRange\",\n           \"GhostWeight\",\n           \"DeviceRange\",\n           \"TareWeight\",\n           \"FullRange\",\n           \"RebaitRange\",\n           \"Hours\",\n           \"PState\",\n           \"SetTime\",\n           \"CalculatedWeight\",\n           \"BaitEnalbed\",\n           \"CommunicationError\",\n           \"Address\",\n           \"State\",\n\t\t   \"ErrorCodeFlag\"\n       ], // Specify the list of columns to take from the reference table.\n       \"Filters\": // Filter options in case they are needed.\n       [{\n                \"Column\": \"Sid\", //Column that will be applied (don't include table name will be resolved if its contained within the reference table.\n                \"ParamName\": \"sid\", // Parameter name, must be unique and should not contain $ as its resolved by the mapper. \n                \"Value\":id.toString()// Value that you want to pass for comparison (any object)\n       }]\n  }];\n\n    var readRecord = Database.readCompound(\"rodent\", \"Traps\", selectTraps);\n    //Break if device isn't associated with a trap within the relational database.\n\n    var selected;\n    var oldRecord = JSON.parse(readRecord);\n    var result;\n    for (var row in oldRecord.data) {\n        selected = oldRecord.data[row];\n        result =  {\n            \"Id\": selected[0],\n            \"ClibrationRange\": selected[5],\n            \"EnteredWeight\": selected[2],\n            \"WeightConsumed\": selected[3],\n            \"WeightLeft\": selected[4],\n            \"EnteredRange\":selected[6],\n            \"GhostWeight\":selected[7],\n            \"DeviceRange\":selected[8],\n            \"TareWeight\":selected[9],\n            \"FullRange\":selected[10],\n            \"RebaitRange\":selected[11],\n            \"Hours\":selected[12],\n            \"PState\":selected[13],\n            \"SetTime\":selected[14],\n            \"CalculatedWeight\":selected[15],\n            \"BaitEnalbed\":selected[16],\n            \"CommunicationError\":selected[17],\n            \"Address\":selected[18],\n            \"State\":selected[19],\n\t\t\t\"ErrorCodeFlag\":selected[20]\n        };\n    }\n\n    return result;\n}"},"ev":{}},"EmailHandler":{"t":"Scripting","lX":850,"lY":950,"sX":1,"sY":1,"s":"Encircle Process","ps":{"enabled":false,"scalingType":"NOSCALE","width":"5.74%","height":"11.88%","x":"57.37%","y":"219.71%"},"ver":"190104c210519","dis":false,"tt":"","a":{"code editor":"// Javascript flow scripting.\n/**\n * Description: Constrcuts an email or SMS object given the device packet received from MQTT\n * Create Author/Date: \n * Modified Author/Date: \n * Version: \n */\n\n// Declare global variables here to be initialised at server startup\n\n/**\n * Initialise script state (run once at startup). Pass in channels set in script node widget\n */\nvar CompanyProducts;\n\n \n//Path varibles\nvar selectedSites;\nvar selectedAreas;\nvar selectedCustomers;\nvar LogoLocation = \"https://yacht.sensahub.com/wlabel/brand_icon.png\";\n\nvar baitThreshold;\nvar baitThresholdUpper;\nvar triggerTreshold;\nvar triggerTresholdUpper;\nvar currentWeight;\nvar currentBaitType;\nvar currentBait;\nvar databaseBait;\nvar battery;\nvar Device;\nvar oldWeight;\nvar sensorHours = 0;\nvar justSensors = 0;\nvar foodDatePrint;\nvar currentArea;\nvar currentSite;\nvar currentCustomer;\nvar yellowTrigger;\nvar redTrigger;\nvar expiredDays;\nvar messageAlert;\nvar finalStatus;\nvar emailHolder;\nvar WeightSent;\nvar MotionSent;\nvar ExpirySent;\nvar WeightConsumed; \n \nDate.prototype.addDays = function (days) {\n    var date = new Date(this.valueOf());\n    date.setDate(date.getDate() + days);\n    return date;\n};\n\nScript.on(\"load\", function () {\n    GetBaits();\n    GetSites();\n    GetAreas();\n    GetCustomers();\n});\n \nfunction GetCustomers() {\n    var selectTraps = [\n        {\n            \"TableName\": \"Customers\", // Specify the primary table used to construct the join request\n            \"Join\": 1, // Join type 1 - Inner Join, 2 - Outer Join, 3 - Left join, 4 - Right Join.\n            \"Columns\":\n                [\n                \"Id\",\n                \"Name\", \n                \"Description\"\n                ], // Specify the list of columns to take from the reference table.\n        }];\n\n\n    var readRecord = Database.readCompound(\"rodent\", \"Customers\", selectTraps);\n\n    //Break if device isn't associated with a trap within the relational database.\n    var oldRecord = JSON.parse(readRecord);\n    selectedCustomers = oldRecord.data;\n}\n \nfunction GetAreas() {\n    var selectTraps = [\n        {\n            \"TableName\": \"Locations\", // Specify the primary table used to construct the join request\n            \"Join\": 1, // Join type 1 - Inner Join, 2 - Outer Join, 3 - Left join, 4 - Right Join.\n            \"Columns\":\n                [\n                \"Id\",\n                \"Name\", \n                \"Description\"\n                ], // Specify the list of columns to take from the reference table.\n        }];\n\n\n    var readRecord = Database.readCompound(\"rodent\", \"Locations\", selectTraps);\n    \n    //Break if device isn't associated with a trap within the relational database.\n    var oldRecord = JSON.parse(readRecord);\n    selectedAreas = oldRecord.data;\n}\n \nfunction GetSites() {\n    var selectTraps = [\n        {\n            \"TableName\": \"Sites\", // Specify the primary table used to construct the join request\n            \"Join\": 1, // Join type 1 - Inner Join, 2 - Outer Join, 3 - Left join, 4 - Right Join.\n            \"Columns\":\n                [\n                \"Id\",\n                \"Name\", \n                \"Description\"\n                ], // Specify the list of columns to take from the reference table.\n        }];\n\n\n    var readRecord = Database.readCompound(\"rodent\", \"Sites\", selectTraps);\n\n    //Break if device isn't associated with a trap within the relational database.\n    var oldRecord = JSON.parse(readRecord);\n    selectedSites = oldRecord.data;\n\n}\n \nfunction GetBaits() {\n    var selectTraps = [\n        {\n            \"TableName\": \"CompanyProducts\", // Specify the primary table used to construct the join request\n            \"Join\": 1, // Join type 1 - Inner Join, 2 - Outer Join, 3 - Left join, 4 - Right Join.\n            \"Columns\":\n                [\n                    \"Id\",\n                    \"Name\",\n                    \"LowerThreshold\",\n                    \"UpperThreshold\"\n                ], // Specify the list of columns to take from the reference table.\n\n        }];\n\n\n    var readRecord = Database.readCompound(\"rodent\", \"Baits\", selectTraps);\n\n    //Break if device isn't associated with a trap within the relational database.\n    var oldRecord = JSON.parse(readRecord);\n    CompanyProducts = oldRecord.data;\n    // In case device doesn't exist in the relational database or has a missing id\t\n}\n \n \n\n/**\n * Response to incoming flow message. eventData object passed in with:\n * eventData.value - incoming data value (string)\n * eventData.startCh - state of channel that initiated the flow and the channel details (Object. Members {channel}, {value})\n * @return {string} return a value to continue the flow or to cancel flow return null\n */\nScript.on(\"flow\", function (eventData) {\n    var result;\n    result = eventData.value;      // Adjust result with output of script processing\n    var dataPacket = JSON.parse(eventData.value);\n    console.log(\"Email Controller SID: \"+  dataPacket.sid); \n\n    var selectTraps = [\n        {\n            \"TableName\": \"Devices\", // Specify the primary table used to construct the join request\n            \"Join\": 1, // Join type 1 - Inner Join, 2 - Outer Join, 3 - Left join, 4 - Right Join.\n            \"Columns\":\n                [\n                    \"Id\",\n                    \"State\",\n                    \"Hours\",\n                    \"SignalStrenght\",\n                    \"BaitRate\",\n                    \"DeviceBattery\",\n                    \"UpdateTime\",\n                    \"CompanyProductId\",\n                    \"DeviceNumber\",\n                    \"LocationId\",\n                    \"SiteId\",\n                    \"CustomerId\",\n                    \"Expiry\",\n                    \"FoodDate\",\n                    \"IsYellow\",\n                    \"IsRed\",\n                    \"Owner\",\n                    \"CalculatedWeight\",\n                    \"WeightS\",\n                    \"MotionS\",\n                    \"CheckS\",\n                    \"WeightConsumed\"\n                ], // Specify the list of columns to take from the reference table.\n            \"Filters\": // Filter options in case they are needed.\n                [\n                    {\n                        \"Column\": \"Sid\", //Column that will be applied (don't include table name will be resolved if its contained within the reference table.\n                        \"ParamName\": \"sid\", // Parameter name, must be unique and should not contain $ as its resolved by the mapper. \n                        \"Value\": dataPacket.sid // Value that you want to pass for comparison (any object)\n                    }\n                ]\n        }];\n\n    var readRecord = Database.readCompound(\"rodent\", \"Devices\", selectTraps);\n    //Break if device isn't associated with a trap within the relational database.\n\n    var selected;\n    var oldRecord = JSON.parse(readRecord);\n\n    for (var row in oldRecord.data) {\n        selected = oldRecord.data[row];\n    }\n    // In case device doesn't exist in the relational database or has a missing id\n    if (selected === undefined) {\n\n        System.writeLog(\"Device data rejected, not associated with any bait box in rodent database!!!\");\n        return null;\n    }\n    var updateTime;\n    var compoundQeury = [\n        {\n            \"TableName\": \"Lookups\", // Specify the primary table used to construct the join request\n            \"Join\": 1, // Join type 1 - Inner Join, 2 - Outer Join, 3 - Left join, 4 - Right Join.\n            \"Columns\":\n                [\n                    \"Key\",\n                    \"Value\"\n                ],\n\n        }];\n\n    var thresholds = Database.readComposite(\"rodent\", \"Lookups\", compoundQeury, [\n        {\n            \"Column\": \"Key\",\n            \"Value\": \"thresholds\"\n        }\n    ]);\n    setTresholds(JSON.parse(thresholds));\n\n    var currentHours = 0;\n\n    if (parseInt(selected[2]) !== 0) {\n        currentHours = parseInt(selected[2]);\n    }\n\n    if (isNaN(parseInt(selected[2]))) {\n        currentHours = 0;\n    }\n\n    expired = false;\n    databaseBait = parseInt(selected[4]);\n    currentBait = selected[7];\n    Device = selected[8];\n    oldWeight = selected[4];\n    currentArea = selected[9];\n    currentSite = selected[10];\n    currentCustomer = selected[11];       \n    var expieryDays = selected[12];\n    var oldState = parseInt(selected[1]);\n    battery = selected[5];\n    var foodDateVal = new Date(selected[13]);\n    yellowTrigger = parseInt(selected[14]);\n    redTrigger = parseInt(selected[15]);\n    emailHolder = selected[16];\n    currentWeight = Math.round(parseFloat(selected[17]));\n    WeightSent = parseInt(selected[18]);\n    MotionSent = parseInt(selected[19]);\n    ExpirySent = parseInt(selected[20]);\n    WeightConsumed = Math.round(parseFloat(selected[21]));\n    console.log(\"ExpirySent: \"+ExpirySent);\n    console.log(\"MotionSent: \"+MotionSent);\n    console.log(\"WeightSent: \"+WeightSent);\n\n    var oldWeighSent = WeightSent;\n    var oldMotionSent = MotionSent;\n    var oldExpirySent = ExpirySent;\n    var foodDate;\n    var date = new Date();\n    battery = Math.round((parseFloat(battery) / 6.3) * 100);\n\n    if (foodDateVal !== \"\" && foodDateVal !== undefined) {\n        if (foodDateVal.toString() !== 'Invalid date') {\n            foodDatePrint = formatDate(foodDateVal, \"dd/MM/yy\", false);\n        }\n        else {\n            foodDatePrint = \"--\";\n        }\n    }\n    else {\n        foodDatePrint = \"--\";\n    }\n    //  var left = parseInt(dataPacket.data.counter1);\n    //  var right = parseInt(dataPacket.data.counter2);\n    sensorHours = parseInt(selected[2]);\n    // updateTime = selected[6];\n\n\n    if (isNaN(sensorHours)) {\n        sensorHours = 0;\n    }\n\n    var trapId = selected[0];\n    console.log(\"Calculated Weight: \"+ calculatedWeight);\n    if (currentWeight < 0) {\n        currentWeight = 0;\n    }\n        \n    var statuses = [];\n    statuses.push({\n        StatusName: \"Weight\",\n        Value: CheckWeightStatus(currentWeight)\n    });\n\n\n    statuses.push({\n        StatusName: \"Motion\",\n        Value: CheckMotionCounterStatus(sensorHours)\n    });\n\n\n    statuses.push({\n        StatusName: \"Expiry\",\n        Value: CheckExpiryStatus(foodDateVal, currentBait)\n    });\n\n        // CheckRowStatus(currentWeight,sensorHours);\n    finalStatus = {\n        StatusName: \"None\",\n        Value: 2\n    };\n    var newStatus = 2;\n\n        \n    for (var status in statuses) {\n\n            var currentStatus = statuses[status].Value;\n            if (newStatus !== 3 && currentStatus === 3) {\n                newStatus = statuses[status].Value;\n            }\n            else if (currentStatus > newStatus && newStatus !== 3) {\n                newStatus = statuses[status].Value;\n            }\n        }\n        \n        console.log(\"Final Status is \"+newStatus);\n        console.log(finalStatus.StatusName);\n        \n        console.log({\n        \"Id\": selected[0],\n        \"State\": newStatus, // Set the state\n        \"WeightS\": WeightSent,\n        \"MotionS\": MotionSent,\n        \"CheckS\": ExpirySent,\n\n    });\n    Database.saveRecordParam(\"Rodent\", \"Devices\", {\n        trapId: {\n            \"Id\": selected[0],\n            \"State\": newStatus, // Set the state\n            \"WeightS\": WeightSent,\n            \"MotionS\": MotionSent,\n            \"CheckS\": ExpirySent,\n\n        }\n    }, function (data) {\n\n    });\n    var emailStatus = {};\n\n\n    var statusColor;\n\n    \n    if(oldMotionSent !== MotionSent || oldWeighSent !== WeightSent || oldExpirySent !== ExpirySent) {\n\n        console.log(\"statusColor \"+statusColor);\n        if (MotionSent === 1  && MotionSent !== oldMotionSent) {\n            statusColor = \"orange\";\n            console.log(\"Goes in yellow\");\n            newStatus = statuses[1].Value;\n            finalStatus = statuses[1];\n            return NotifyStatusAlert(statusColor);\n        }\n\n        if (WeightSent === 1  && WeightSent !== oldWeighSent) {\n            newStatus = statuses[0].Value;\n            finalStatus = statuses[0];\n            statusColor = \"orange\";\n            console.log(\"Goes in yellow\");\n            return NotifyStatusAlert(statusColor);\n        }\n\n        if (ExpirySent === 1  && ExpirySent !== oldExpirySent) {\n            newStatus = statuses[2].Value;\n            finalStatus = statuses[2];\n            statusColor = \"orange\";\n            console.log(\"Goes in yellow\");\n            return NotifyStatusAlert(statusColor);\n        }\n\n        if (MotionSent === 2 && MotionSent !== oldMotionSent) {\n            newStatus = statuses[1].Value;\n            finalStatus = statuses[1];\n            statusColor = \"red\";\n            console.log(\"goes in red\");\n            return NotifyStatusAlert(statusColor);\n        }\n\n        if (WeightSent === 2 && WeightSent !== oldWeighSent) {\n            newStatus = statuses[0].Value;\n            finalStatus = statuses[0];\n            statusColor = \"red\";\n            console.log(\"goes in red\");\n            return NotifyStatusAlert(statusColor);\n        }\n\n        if (ExpirySent === 2 && ExpirySent !== oldExpirySent) {\n            newStatus = statuses[2].Value;\n            finalStatus = statuses[2];\n            statusColor = \"red\";\n            console.log(\"goes in red\");\n            return NotifyStatusAlert(statusColor);\n        }\n    }\n});\n \n \nfunction CheckWeightStatus(baitLeft) {\n    if (parseInt(baitLeft) <= baitThreshold) {\n        if (WeightSent === 0) {\n            WeightSent =1;\t\n        }\n        WeightSent = parseInt(WeightSent)+1;\n        return 3;  \n    } else if (parseInt(baitLeft) <= baitThresholdUpper) {\n        if(WeightSent === 0) {\n            WeightSent = 1;\n        }\n        return 4;\n    }\n    return 2;\n}\n\nfunction CheckMotionCounterStatus(triggers) {\n    if (parseInt(triggers) > triggerTresholdUpper) {\n        if (MotionSent === 0) {\n            MotionSent = 1;\t\n        }\n        MotionSent = parseInt(MotionSent)+1;\n        return 3; \n    } else if (parseInt(triggers) >= triggerTreshold && parseInt(triggers) <= triggerTresholdUpper) {\n        if (MotionSent === 0) {\n            MotionSent = 1;\n        }\n        return 4;\n    }\n    return 2;\n}\n \n \nfunction CheckExpiryStatus(foodDateVal, currentBait) {\n    var today = new Date();\n    var foodDate1 = new Date();\n    if (foodDateVal !== undefined && foodDateVal !== null) {\n        if (foodDateVal !== \"\" && foodDateVal.toString() !== 'Invalid date') {\n            var foodItem;\n            for (var foodItemIndex in CompanyProducts) {\n                var currentFoodItem = CompanyProducts[foodItemIndex];\n                if (currentFoodItem[0] === currentBait) {\n                    foodItem = CompanyProducts[foodItemIndex];\n                }\n            }\n\n            var diffTime1 = foodDateVal - today;\n            var diffDays1 = Math.ceil(diffTime1 / (1000 * 3600 * 24));\n        \n            if (diffDays1 <= parseInt(foodItem[2])) {\n                if (diffDays1 < 0) {\n                    expiredDays = \"Status Change Alert – \" + Device + \" Station check overdue\";\n                    messageAlert = \"Station check overdue\";\n                } else {\n                    expiredDays = \"Status Change Alert – \" + Device + \" Station check required imminently\";\n                    messageAlert = \" Station check required imminently\";\n                }\n\n                if (ExpirySent === 0) {\n                    ExpirySent = 1;\t\n                }\n                ExpirySent = parseInt(ExpirySent)+1;\n                return 3;\n            } else if (diffDays1 >= parseInt(foodItem[2]) && diffDays1 <= parseInt(foodItem[3])) {\n                expired = true;\n                expiredDays = \"Status Change Alert – \" + Device + \" Station check needed soon\";\n                messageAlert = \"Station check needed soon\";\n                if (ExpirySent === 0) {\n                    ExpirySent = 1;\n                }\n                return 4;\n            } else {\n                return 2;\n            }\n        }\n    }\n}\n \n/**\n * Determine the row status value given the remaining bait and threshold triggers\n */\nfunction CheckRowStatus(baitLeft, triggers, row) {\n    var result = 0;\n    var importantRisen = 0;\n    var urgentRisen = 0;\n\n    if (!IsInteger(parseInt(triggers)) && !isInteger(parseInt(baitLeft))) {\n        result = 1;\n        return result;\n    }\n\n    if (parseInt(baitLeft) <= baitThreshold) {\n        urgentRisen = 1;\n    } else if (parseInt(triggers) > triggerTresholdUpper) {\n        urgentRisen = 1;\n    } else if (parseInt(baitLeft) <= baitThresholdUpper) {\n        importantRisen = 1;\n    } else if (parseInt(triggers) > triggerTreshold && parseInt(triggers) <= triggerTresholdUpper) {\n        importantRisen = 1;\n    } else if (parseInt(triggers) < 0) {\n        urgentRisen = 1;\n    }\n\n    if (importantRisen === 1 && urgentRisen === 0) {\n        result = 4;\n    } else if (urgentRisen == 1) {\n        result = 3;\n    } else {\n        result = 2;\n    }\n\n    return result;\n}\n \n/**\n * Takes in a packet that sets the rodent grid threshold values that are reponsible to handle card statuses\n * @param packet\n */\nfunction setTresholds(packet) {\n    var current;\n    for (var val in packet.data) {\n        current = packet.data[val];\n        var currentVal = current[0].split(\",\");\n\n        switch (currentVal[0]) {\n            case \"baitLower\":\n                baitThreshold = parseInt(currentVal[1]);\n                break;\n            case \"baitUpper\":\n                baitThresholdUpper = parseInt(currentVal[1]);\n                break;\n            case \"sensorEntrance\":\n                triggerTreshold = parseInt(currentVal[1]);\n                break;\n            case \"sensorUpper\":\n                triggerTresholdUpper = parseInt(currentVal[1]);\n                break;\n        }\n    }\n}\n \nfunction evenRound(num, decimalPlaces) {\n    var d = decimalPlaces || 0;\n    var m = Math.pow(10, d);\n    var n = +(d ? num * m : num).toFixed(8); // Avoid rounding errors\n    var i = Math.floor(n), f = n - i;\n    var e = 1e-8; // Allow for rounding errors in f\n    var r = (f > 0.5 - e && f < 0.5 + e) ?\n        ((i % 2 == 0) ? i : i + 1) : Math.round(n);\n    return d ? r / m : r;\n}\n \nfunction IsInteger(value) {\n    return typeof value === 'number' &&\n        isFinite(value) &&\n        Math.floor(value) === value;\n}\n\nvar calculatedWeight = 0;\nfunction NotifyStatusAlert(statusColor) {\n    var email = {};\n\tvar mobile;\n\n\tvar smsStatus = false;\n    var filters = [];\n\tconsole.log(\"emailHolder: \"+ emailHolder);\n    if (emailHolder !== undefined) {\n        filters.push({\n            \"Column\": \"username\", //Column that will be applied (don't include table name will be resolved if its contained within the reference table.\n            \"ParamName\": \"receiver\", // Parameter name, must be unique and should not contain $ as its resolved by the mapper. \n            \"Value\": emailHolder // Value that you want to pass for comparison (any object)\n        });\n    }\n\n    var selectUsers = [\n        {\n            \"TableName\": \"users\", // Specify the primary table used to construct the join request\n            \"Join\": 1, // Join type 1 - Inner Join, 2 - Outer Join, 3 - Left join, 4 - Right Join.\n            \"Columns\":\n                [\n                    \"username\",\n                    \"email\",\n\t\t\t\t\t\"mobile\"\n\n                ], // Specify the list of columns to take from the reference table.\n            \"Filters\": filters // Filter options in case they are needed.\n\n        }];\n\n\n    var readRecord = Database.readCompound(\"Directory\", \"users\", selectUsers);\n    var recordData = JSON.parse(readRecord);\n    //var currentData = JSON.parse(recordData.data);\n    //If users exist\n    var usrArr = [];\n    if (Object.keys(recordData.data).length > 0) {\n        console.log(recordData.data);\n\n        for (var user in recordData.data) {\n            if (recordData.data[user][1] !== \"\") {\n                console.log(recordData.data[user][1]);\n                usrArr.push(recordData.data[user][1]);\n\t\t\t\tmobile = recordData.data[user][2];\n\t\t\t\tsmsStatus = true;\n            }\n        }\n    }\n    var selectedBaitType;\n    var selectedBait;\n    var selectedCustomer;\n    var selectedSite;\n    var selectedArea;\n\n\n    for (var customer in selectedCustomers) {\n        var current2 = selectedCustomers[customer];\n        if (current2[0] === currentCustomer) {\n            selectedCustomer = current2[1];\n        }\n    }\n\n    for (var area in selectedAreas) {\n        var current3 = selectedAreas[area];\n        if (current3[0] === currentArea) {\n            selectedArea = current3[1];\n        }\n    }\n\n    for (var site in selectedSites) {\n        var current4 = selectedSites[site];\n\t\tconsole.log(current4[0]);\n\t\tconsole.log(currentSite);\n        if (current4[0] === currentSite) {\n\t\t\t\n            selectedSite = current4[1];\n\t\t\tconsole.log(selectedSite);\n        }\n    }\n  \n    for (var bait in CompanyProducts) {\n\n        var current1 = CompanyProducts[bait];\n        if (current1[0] === currentBait) {\n            selectedBait = current1[1];\n            console.log(selectedBait);\n\n        }\n    }\n\t\n    // var weightChanged = false;\n    // if (parseInt(oldWeight) != parseInt(databaseBait)) {\n    //     calculatedWeight = (parseInt(oldWeight) - parseInt(databaseBait));\n    //     weightChanged = true;\n    // }\n\n    var subject;\n\tconsole.log(finalStatus.StatusName);\n\tvar smsContent;\n\n    if (finalStatus.StatusName === \"Weight\") {\n        console.log(\"Sending weight\");\n        subject = \"Status Change Alert – \" + Device + \" Bait reduced to \" + currentWeight + \"%\";\n        messageAlert = \"Bait reduced to \" + currentWeight + \"%\";\n\t\tsmsContent = \"Status Change Alert \" + Device + \" Bait reduced to \" + currentWeight + \"%\" + \" Located At: \"+ selectedSite;\n    } else if (finalStatus.StatusName === \"Expiry\") {\n        console.log(\"Sending Expiry\");\n        subject = expiredDays;\n\t\tsmsContent = \"Status Change Alert \" + Device + \" Bait expired\";\n\n    } else if (finalStatus.StatusName === \"Motion\") {\n        console.log(\"Sending motion\");\n        subject = \"Status Change Alert – \" + Device + \" Active Cycle Increased To \" + sensorHours;\n        messageAlert = \"Motion Count Increased To \" + sensorHours;\n\t\tsmsContent = \"Status Change Alert – \" + Device + \" Active Cycle Increased To \" + sensorHours;\n    }\n\n    var message = GetMessageBody(Device, selectedBaitType, selectedBait, battery, statusColor, selectedCustomer, selectedArea, selectedSite);\n\n    email.data = message;\n    email.usrArr = usrArr;\n\tusrArr.push(\"alertstg@sensahub.com\");\n   // usrArr.push(\"fred.yasmine@pestsense.com\");\n  //  usrArr.push(\"rob.burley-jukes@pestsense.com\");\n\t//usrArr.push(\"sam.donley@pestsense.com\");\n  //  usrArr.push(\"dean.dobson@pestsense.com\");\n//\tusrArr.push(\"dylan.gannan@pestsense.com\");\n//\tusrArr.push(\"anthony.yasmine@pestsense.com\");\n//\tusrArr.push(\"nick.sharp@pestsense.com\");\n\n\tconsole.log(emailHolder);\n\tif (statusColor === \"red\") {\n\t\tsmsStatus = true;\n\t\tif (mobile === undefined) {\n\t\t\tsmsStatus = false;\n\t\t}\n\t} else {\n\t\tsmsStatus = false;\n\t}\n\treturn JSON.stringify({\n            email: { \"To\": usrArr, \"subject\": subject, \"body\": message },\n            SMSOPTIONS: {\n                sms:{to:[mobile],body:smsContent},\n                Enabled: smsStatus,\n            },\n            emailTpm: { \"To\": usrArr, \"subject\": \"Testing emails\", \"body\": \"Text body\" },\n        });\n}\n \n \n \n \n \nfunction formatDate(date, format, utc) {\n    var MMMM = [\"\\x00\", \"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\n    var MMM = [\"\\x01\", \"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"];\n    var dddd = [\"\\x02\", \"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"];\n    var ddd = [\"\\x03\", \"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"];\n    function ii(i, len) { var s = i + \"\"; len = len || 2; while (s.length < len) s = \"0\" + s; return s; }\n\n    var y = utc ? date.getUTCFullYear() : date.getFullYear();\n    format = format.replace(/(^|[^\\\\])yyyy+/g, \"$1\" + y);\n    format = format.replace(/(^|[^\\\\])yy/g, \"$1\" + y.toString().substr(2, 2));\n    format = format.replace(/(^|[^\\\\])y/g, \"$1\" + y);\n\n    var M = (utc ? date.getUTCMonth() : date.getMonth()) + 1;\n    format = format.replace(/(^|[^\\\\])MMMM+/g, \"$1\" + MMMM[0]);\n    format = format.replace(/(^|[^\\\\])MMM/g, \"$1\" + MMM[0]);\n    format = format.replace(/(^|[^\\\\])MM/g, \"$1\" + ii(M));\n    format = format.replace(/(^|[^\\\\])M/g, \"$1\" + M);\n\n    var d = utc ? date.getUTCDate() : date.getDate();\n    format = format.replace(/(^|[^\\\\])dddd+/g, \"$1\" + dddd[0]);\n    format = format.replace(/(^|[^\\\\])ddd/g, \"$1\" + ddd[0]);\n    format = format.replace(/(^|[^\\\\])dd/g, \"$1\" + ii(d));\n    format = format.replace(/(^|[^\\\\])d/g, \"$1\" + d);\n\n    var H = utc ? date.getUTCHours() : date.getHours();\n    format = format.replace(/(^|[^\\\\])HH+/g, \"$1\" + ii(H));\n    format = format.replace(/(^|[^\\\\])H/g, \"$1\" + H);\n\n    var h = H > 12 ? H - 12 : H == 0 ? 12 : H;\n    format = format.replace(/(^|[^\\\\])hh+/g, \"$1\" + ii(h));\n    format = format.replace(/(^|[^\\\\])h/g, \"$1\" + h);\n\n    var m = utc ? date.getUTCMinutes() : date.getMinutes();\n    format = format.replace(/(^|[^\\\\])mm+/g, \"$1\" + ii(m));\n    format = format.replace(/(^|[^\\\\])m/g, \"$1\" + m);\n\n    var s = utc ? date.getUTCSeconds() : date.getSeconds();\n    format = format.replace(/(^|[^\\\\])ss+/g, \"$1\" + ii(s));\n    format = format.replace(/(^|[^\\\\])s/g, \"$1\" + s);\n\n    var f = utc ? date.getUTCMilliseconds() : date.getMilliseconds();\n    format = format.replace(/(^|[^\\\\])fff+/g, \"$1\" + ii(f, 3));\n    f = Math.round(f / 10);\n    format = format.replace(/(^|[^\\\\])ff/g, \"$1\" + ii(f));\n    f = Math.round(f / 10);\n    format = format.replace(/(^|[^\\\\])f/g, \"$1\" + f);\n\n    var T = H < 12 ? \"AM\" : \"PM\";\n    format = format.replace(/(^|[^\\\\])TT+/g, \"$1\" + T);\n    format = format.replace(/(^|[^\\\\])T/g, \"$1\" + T.charAt(0));\n\n    var t = T.toLowerCase();\n    format = format.replace(/(^|[^\\\\])tt+/g, \"$1\" + t);\n    format = format.replace(/(^|[^\\\\])t/g, \"$1\" + t.charAt(0));\n\n    var tz = -date.getTimezoneOffset();\n    var K = utc || !tz ? \"Z\" : tz > 0 ? \"+\" : \"-\";\n    if (!utc) {\n        tz = Math.abs(tz);\n        var tzHrs = Math.floor(tz / 60);\n        var tzMin = tz % 60;\n        K += ii(tzHrs) + \":\" + ii(tzMin);\n    }\n    format = format.replace(/(^|[^\\\\])K/g, \"$1\" + K);\n\n    var day = (utc ? date.getUTCDay() : date.getDay()) + 1;\n    format = format.replace(new RegExp(dddd[0], \"g\"), dddd[day]);\n    format = format.replace(new RegExp(ddd[0], \"g\"), ddd[day]);\n\n    format = format.replace(new RegExp(MMMM[0], \"g\"), MMMM[M]);\n    format = format.replace(new RegExp(MMM[0], \"g\"), MMM[M]);\n\n    format = format.replace(/\\\\(.)/g, \"$1\");\n\n    return format;\n}\n \n  \n \nfunction GetMessageBody(device, baitType, baitName, battery, status, customer, area, site) {\n    return '<!DOCTYPE HTML PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional //EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\">' +\n        '<html xmlns=\"http://www.w3.org/1999/xhtml\" xmlns:v=\"urn:schemas-microsoft-com:vml\" xmlns:o=\"urn:schemas-microsoft-com:office:office\">' +\n        '<head>' +\n        '<!--[if gte mso 9]>' +\n        '<xml>' +\n        '  <o:OfficeDocumentSettings>' +\n        '    <o:AllowPNG/>' +\n        '    <o:PixelsPerInch>96</o:PixelsPerInch>' +\n        '  </o:OfficeDocumentSettings>' +\n        '</xml>' +\n        '<![endif]-->' +\n        '  <meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\">' +\n        '  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">' +\n        '  <meta name=\"x-apple-disable-message-reformatting\">' +\n        '  <!--[if !mso]><!--><meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\"><!--<![endif]-->' +\n        '  <title></title>' +\n        '  ' +\n        '    <style type=\"text/css\">' +\n        '      a { color: #161a39; text-decoration: underline; } @media (max-width: 480px) { #u_row_12.v-row-padding--vertical { padding-top: 0px !important; padding-bottom: 0px !important; } #u_column_13 .v-col-border { border-top: 0px solid transparent !important;border-left: 6px solid  !important;border-right: 0px solid transparent !important;border-bottom: 0px solid transparent !important; } #u_row_18.v-row-padding--vertical { padding-top: 0px !important; padding-bottom: 0px !important; } #u_column_27 .v-col-border { border-top: 0px solid transparent !important;border-left: 6px solid #ec1414 !important;border-right: 0px solid transparent !important;border-bottom: 0px solid transparent !important; } #u_content_text_60 .v-container-padding-padding { padding: 2px !important; } #u_content_text_72 .v-container-padding-padding { padding: 13px 10px 10px !important; } #u_content_text_71 .v-container-padding-padding { padding: 22px 10px 10px !important; } #u_content_text_70 .v-container-padding-padding { padding: 21px 10px 10px !important; } #u_content_text_68 .v-container-padding-padding { padding: 10px !important; } #u_content_text_73 .v-container-padding-padding { padding: 17px 10px 10px !important; } #u_content_social_1 .v-container-padding-padding { padding: 26px 10px 10px !important; } #u_content_text_6 .v-color { color: #000000 !important; } }' +\n        '@media only screen and (min-width: 620px) {' +\n        '  .u-row {' +\n        '    width: 600px !important;' +\n        '  }' +\n        '  .u-row .u-col {' +\n        '    vertical-align: top;' +\n        '  }' +\n        '' +\n        '  .u-row .u-col-32p01 {' +\n        '    width: 192.06px !important;' +\n        '  }' +\n        '' +\n        '  .u-row .u-col-50 {' +\n        '    width: 300px !important;' +\n        '  }' +\n        '' +\n        '  .u-row .u-col-67p99 {' +\n        '    width: 407.94px !important;' +\n        '  }' +\n        '' +\n        '  .u-row .u-col-100 {' +\n        '    width: 600px !important;' +\n        '  }' +\n        '' +\n        '}' +\n        '' +\n        '@media (max-width: 620px) {' +\n        '  .u-row-container {' +\n        '    max-width: 100% !important;' +\n        '    padding-left: 0px !important;' +\n        '    padding-right: 0px !important;' +\n        '  }' +\n        '  .u-row .u-col {' +\n        '    min-width: 320px !important;' +\n        '    max-width: 100% !important;' +\n        '    display: block !important;' +\n        '  }' +\n        '  .u-row {' +\n        '    width: calc(100% - 40px) !important;' +\n        '  }' +\n        '  .u-col {' +\n        '    width: 100% !important;' +\n        '  }' +\n        '  .u-col > div {' +\n        '    margin: 0 auto;' +\n        '  }' +\n        '  .no-stack .u-col {' +\n        '    min-width: 0 !important;' +\n        '    display: table-cell !important;' +\n        '  }' +\n        '' +\n        '  .no-stack .u-col-32p01 {' +\n        '    width: 32.01% !important;' +\n        '  }' +\n        '' +\n        '.no-stack .u-col-67p99 {' +\n        '    width: 67.99% !important;' +\n        '  }' +\n        '' +\n        '}' +\n        'body {' +\n        '  margin: 0;' +\n        '  padding: 0;' +\n        '}' +\n        '' +\n        'table,' +\n        'tr,' +\n        'td {' +\n        '  vertical-align: top;' +\n        '  border-collapse: collapse;' +\n        '}' +\n        '' +\n        'p {' +\n        '  margin: 0;' +\n        '}' +\n        '' +\n        '.ie-container table,' +\n        '.mso-container table {' +\n        '  table-layout: fixed;' +\n        '}' +\n        '' +\n        '* {' +\n        '  line-height: inherit;' +\n        '}' +\n        '' +\n        'a[x-apple-data-detectors=\\'true\\'] {' +\n        '  color: inherit !important;' +\n        '  text-decoration: none !important;' +\n        '}' +\n        '' +\n        '@media (max-width: 480px) {' +\n        '  .hide-mobile {' +\n        '    display: none !important;' +\n        '    max-height: 0px;' +\n        '    overflow: hidden;' +\n        '  }' +\n        '' +\n        '  .hide-desktop {' +\n        '    display: block !important;' +\n        '  }' +\n        '}' +\n        '    </style>' +\n        '  ' +\n        '  ' +\n        '' +\n        '<!--[if !mso]><!--><link href=\"https://fonts.googleapis.com/css?family=Lato:400,700&display=swap\" rel=\"stylesheet\" type=\"text/css\"><!--<![endif]-->' +\n        '' +\n        '</head>' +\n        '' +\n        '<body class=\"clean-body\" style=\"margin: 0;padding: 0;-webkit-text-size-adjust: 100%;background-color: #f9f9f9\">' +\n        '  <!--[if IE]><div class=\"ie-container\"><![endif]-->' +\n        '  <!--[if mso]><div class=\"mso-container\"><![endif]-->' +\n        '  <table style=\"border-collapse: collapse;table-layout: fixed;border-spacing: 0;mso-table-lspace: 0pt;mso-table-rspace: 0pt;vertical-align: top;min-width: 320px;Margin: 0 auto;background-color: #f9f9f9;width:100%\" cellpadding=\"0\" cellspacing=\"0\">' +\n        '  <tbody>' +\n        '  <tr style=\"vertical-align: top\">' +\n        '    <td style=\"word-break: break-word;border-collapse: collapse !important;vertical-align: top\">' +\n        '    <!--[if (mso)|(IE)]><table width=\"100%\" cellpadding=\"0\" cellspacing=\"0\" border=\"0\"><tr><td align=\"center\" style=\"background-color: #f9f9f9;\"><![endif]-->' +\n        '    ' +\n        '' +\n        '<div class=\"u-row-container v-row-padding--vertical\" style=\"padding: 0px;background-color: #f9f9f9\">' +\n        '  <div class=\"u-row\" style=\"Margin: 0 auto;min-width: 320px;max-width: 600px;overflow-wrap: break-word;word-wrap: break-word;word-break: break-word;background-color: #f9f9f9;\">' +\n        '    <div style=\"border-collapse: collapse;display: table;width: 100%;background-color: transparent;\">' +\n        '      <!--[if (mso)|(IE)]><table width=\"100%\" cellpadding=\"0\" cellspacing=\"0\" border=\"0\"><tr><td style=\"padding: 0px;background-color: #f9f9f9;\" align=\"center\"><table cellpadding=\"0\" cellspacing=\"0\" border=\"0\" style=\"width:600px;\"><tr style=\"background-color: #f9f9f9;\"><![endif]-->' +\n        '      ' +\n        '<!--[if (mso)|(IE)]><td align=\"center\" width=\"600\" class=\"v-col-border\" style=\"border-color:' + status + '; width: 600px;padding: 0px;border-top: 0px solid transparent;border-left: 0px solid transparent;border-right: 0px solid transparent;border-bottom: 0px solid transparent;\" valign=\"top\"><![endif]-->' +\n        '<div class=\"u-col u-col-100\" style=\"max-width: 320px;min-width: 600px;display: table-cell;vertical-align: top;\">' +\n        '  <div style=\"width: 100% !important;\">' +\n        '  <!--[if (!mso)&(!IE)]><!--><div class=\"v-col-border\" style=\"border-color:' + status + '; padding: 0px;border-top: 0px solid transparent;border-left: 0px solid transparent;border-right: 0px solid transparent;border-bottom: 0px solid transparent;\"><!--<![endif]-->' +\n        '  ' +\n        '' +\n        '<table style=\"font-family:\\'Lato\\',sans-serif;\" role=\"presentation\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" border=\"0\">' +\n        '  <tbody>' +\n        '    <tr>' +\n        '      <td class=\"v-container-padding-padding\" style=\"overflow-wrap:break-word;word-break:break-word;padding:15px;font-family:\\'Lato\\',sans-serif;\" align=\"left\">' +\n        '        ' +\n        '  <table height=\"0px\" align=\"center\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" style=\"border-collapse: collapse;table-layout: fixed;border-spacing: 0;mso-table-lspace: 0pt;mso-table-rspace: 0pt;vertical-align: top;border-top: 1px solid #f9f9f9;-ms-text-size-adjust: 100%;-webkit-text-size-adjust: 100%\">' +\n        '    <tbody>' +\n        '      <tr style=\"vertical-align: top\">' +\n        '        <td style=\"word-break: break-word;border-collapse: collapse !important;vertical-align: top;font-size: 0px;line-height: 0px;mso-line-height-rule: exactly;-ms-text-size-adjust: 100%;-webkit-text-size-adjust: 100%\">' +\n        '          <span> </span>' +\n        '        </td>' +\n        '      </tr>' +\n        '    </tbody>' +\n        '  </table>' +\n        '' +\n        '      </td>' +\n        '    </tr>' +\n        '  </tbody>' +\n        '</table>' +\n        '' +\n        '' +\n        '  <!--[if (!mso)&(!IE)]><!--></div><!--<![endif]-->' +\n        '  </div>' +\n        '</div>' +\n        '<!--[if (mso)|(IE)]></td><![endif]-->' +\n        '      <!--[if (mso)|(IE)]></tr></table></td></tr></table><![endif]-->' +\n        '    </div>' +\n        '  </div>' +\n        '</div>' +\n        '' +\n        '' +\n        '' +\n        '<div class=\"u-row-container v-row-padding--vertical\" style=\"padding: 0px;background-color: transparent\">' +\n        '  <div class=\"u-row\" style=\"Margin: 0 auto;min-width: 320px;max-width: 600px;overflow-wrap: break-word;word-wrap: break-word;word-break: break-word; \">' +\n        '    <div style=\"border-collapse: collapse;display: table;width: 100%;background-color: transparent;\">' +\n        '      <!--[if (mso)|(IE)]><table width=\"100%\" cellpadding=\"0\" cellspacing=\"0\" border=\"0\"><tr><td style=\"padding: 0px;background-color: transparent;\" align=\"center\"><table cellpadding=\"0\" cellspacing=\"0\" border=\"0\" style=\"width:600px;\"><tr style=\" \"><![endif]-->' +\n        '      ' +\n        '<!--[if (mso)|(IE)]><td align=\"center\" width=\"600\" class=\"v-col-border\" style=\"border-color:' + status + '; width: 600px;padding: 0px;border-top: 0px solid transparent;border-left: 0px solid transparent;border-right: 0px solid transparent;border-bottom: 0px solid transparent;\" valign=\"top\"><![endif]-->' +\n        '<div class=\"u-col u-col-100\" style=\"max-width: 320px;min-width: 600px;display: table-cell;vertical-align: top;\">' +\n        '  <div style=\"width: 100% !important;\">' +\n        '  <!--[if (!mso)&(!IE)]><!--><div class=\"v-col-border\" style=\"border-color:' + status + '; padding: 0px;border-top: 0px solid transparent;border-left: 0px solid transparent;border-right: 0px solid transparent;border-bottom: 0px solid transparent;\"><!--<![endif]-->' +\n        '  ' +\n        '' +\n        '<table style=\"font-family:\\'Lato\\',sans-serif;\" role=\"presentation\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" border=\"0\">' +\n        '  <tbody>' +\n        '    <tr>' +\n        '      <td class=\"v-container-padding-padding\" style=\"overflow-wrap:break-word;word-break:break-word;padding:25px 10px;font-family:\\'Lato\\',sans-serif;\" align=\"left\">' +\n        '        ' +\n        '<table width=\"100%\" cellpadding=\"0\" cellspacing=\"0\" border=\"0\">' +\n        '  <tr>' +\n        '    <td style=\"padding-right: 0px;padding-left: 0px;\" align=\"center\">' +\n        '      ' +\n        '      <img align=\"center\" border=\"0\" src=\"'+LogoLocation+'\" alt=\"Image\" title=\"Image\" style=\"outline: none;text-decoration: none;-ms-interpolation-mode: bicubic;clear: both;display: inline-block !important;border: none;height: auto;float: none;width: 14%;max-width: 81.2px;\" width=\"81.2\"/>' +\n        '      ' +\n        '    </td>' +\n        '  </tr>' +\n        '</table>' +\n        '' +\n        '      </td>' +\n        '    </tr>' +\n        '  </tbody>' +\n        '</table>' +\n        '' +\n        '' +\n        '  <!--[if (!mso)&(!IE)]><!--></div><!--<![endif]-->' +\n        '  </div>' +\n        '</div>' +\n        '<!--[if (mso)|(IE)]></td><![endif]-->' +\n        '      <!--[if (mso)|(IE)]></tr></table></td></tr></table><![endif]-->' +\n        '    </div>' +\n        '  </div>' +\n        '</div>' +\n        '' +\n        '' +\n        '' +\n        '<div id=\"u_row_12\" class=\"u-row-container v-row-padding--vertical hide-mobile\" style=\"padding: 0px; \">' +\n        '  <div class=\"u-row no-stack\" style=\"Margin: 0 auto;min-width: 320px;max-width: 600px;overflow-wrap: break-word;word-wrap: break-word;word-break: break-word;background-color: transparent;\">' +\n        '    <div style=\"border-collapse: collapse;display: table;width: 100%;background-color: transparent;\">' +\n        '      <!--[if (mso)|(IE)]><table width=\"100%\" cellpadding=\"0\" cellspacing=\"0\" border=\"0\"><tr><td style=\"padding: 0px; \" align=\"center\"><table cellpadding=\"0\" cellspacing=\"0\" border=\"0\" style=\"width:600px;\"><tr style=\"background-color: transparent;\"><![endif]-->' +\n        '      ' +\n        '<!--[if (mso)|(IE)]><td align=\"center\" width=\"186\" class=\"v-col-border\" style=\"border-color:' + status + '; background-color: #f2f2f2;width: 186px;padding: 0px;border-top: 0px solid transparent;border-left: 6px solid ' + status + ';border-right: 0px solid transparent;border-bottom: 0px solid transparent;\" valign=\"top\"><![endif]-->' +\n        '<div id=\"u_column_13\" class=\"u-col u-col-32p01\" style=\"max-width: 320px;min-width: 192px;display: table-cell;vertical-align: top;\">' +\n        '  <div style=\"background-color: #f2f2f2;width: 100% !important;\">' +\n        '  <!--[if (!mso)&(!IE)]><!--><div class=\"v-col-border\" style=\"border-color:' + status + '; padding: 0px;border-top: 0px solid transparent;border-left: 6px solid ' + status + ';border-right: 0px solid transparent;border-bottom: 0px solid transparent;\"><!--<![endif]-->' +\n        '  ' +\n        '' +\n        '<table style=\"font-family:\\'Lato\\',sans-serif;\" role=\"presentation\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" border=\"0\">' +\n        '  <tbody>' +\n        '    <tr>' +\n        '      <td class=\"v-container-padding-padding\" style=\"overflow-wrap:break-word;word-break:break-word;padding:10px;font-family:\\'Lato\\',sans-serif;\" align=\"left\">' +\n        '        ' +\n        '  <div class=\"v-color\" style=\"color: #000000; line-height: 140%; text-align: left; word-wrap: break-word;\">' +\n        '    ' +\n        '  </div>' +\n        '' +\n        '      </td>' +\n        '    </tr>' +\n        '  </tbody>' +\n        '</table>' +\n        '' +\n        '' +\n        '' +\n        '<table style=\"font-family:\\'Lato\\',sans-serif;\" role=\"presentation\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" border=\"0\">' +\n        '  <tbody>' +\n        '    <tr>' +\n        '      <td class=\"v-container-padding-padding\" style=\"overflow-wrap:break-word;word-break:break-word;padding:10px;font-family:\\'Lato\\',sans-serif;\" align=\"left\">' +\n        '        ' +\n        '  <div class=\"v-color\" style=\"color: #000000; line-height: 140%; text-align: left; word-wrap: break-word;\">' +\n        '    <p style=\"font-size: 14px; line-height: 140%; text-align: right;\">Alert</p>' +\n        '  </div>' +\n        '' +\n        '      </td>' +\n        '    </tr>' +\n        '  </tbody>' +\n        '</table>' +\n        '' +\n        '' +\n        '' +\n        '<table style=\"font-family:\\'Lato\\',sans-serif;\" role=\"presentation\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" border=\"0\">' +\n        '  <tbody>' +\n        '    <tr>' +\n        '      <td class=\"v-container-padding-padding\" style=\"overflow-wrap:break-word;word-break:break-word;padding:10px;font-family:\\'Lato\\',sans-serif;\" align=\"left\">' +\n        '        ' +\n        '  <div class=\"v-color\" style=\"color: #000000; line-height: 140%; text-align: left; word-wrap: break-word;\">' +\n        '    ' +\n        '  </div>' +\n        '' +\n        '      </td>' +\n        '    </tr>' +\n        '  </tbody>' +\n        '</table>' +\n        '' +\n        '' +\n        '' +\n        '<table style=\"font-family:\\'Lato\\',sans-serif;\" role=\"presentation\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" border=\"0\">' +\n        '  <tbody>' +\n        '    <tr>' +\n        '      <td class=\"v-container-padding-padding\" style=\"overflow-wrap:break-word;word-break:break-word;padding:10px;font-family:\\'Lato\\',sans-serif;\" align=\"left\">' +\n        '        ' +\n        '  <div class=\"v-color\" style=\"color: #000000; line-height: 140%; text-align: left; word-wrap: break-word;\">' +\n        '    <p style=\"font-size: 14px; line-height: 140%; text-align: right;\">Location</p>' +\n        '  </div>' +\n        '' +\n        '      </td>' +\n        '    </tr>' +\n        '  </tbody>' +\n        '</table>' +\n        '' +\n        '' +\n        '' +\n        '<table style=\"font-family:\\'Lato\\',sans-serif;\" role=\"presentation\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" border=\"0\">' +\n        '  <tbody>' +\n        '    <tr>' +\n        '      <td class=\"v-container-padding-padding\" style=\"overflow-wrap:break-word;word-break:break-word;padding:10px;font-family:\\'Lato\\',sans-serif;\" align=\"left\">' +\n        '        ' +\n        '  <div class=\"v-color\" style=\"color: #000000; line-height: 140%; text-align: left; word-wrap: break-word;\">' +\n        '    <p style=\"font-size: 14px; line-height: 140%; text-align: right;\">Device</p>' +\n        '  </div>' +\n        '' +\n        '      </td>' +\n        '    </tr>' +\n        '  </tbody>' +\n        '</table>' +\n        '' +\n        '' +\n        '' +\n        '<table style=\"font-family:\\'Lato\\',sans-serif;\" role=\"presentation\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" border=\"0\">' +\n        '  <tbody>' +\n        '    <tr>' +\n        '      <td class=\"v-container-padding-padding\" style=\"overflow-wrap:break-word;word-break:break-word;padding:10px;font-family:\\'Lato\\',sans-serif;\" align=\"left\">' +\n        '        ' +\n        '  <div class=\"v-color\" style=\"color: #000000; line-height: 140%; text-align: left; word-wrap: break-word;\">' +\n        '    <p style=\"font-size: 14px; line-height: 140%; text-align: right;\">Bait Left</p>' +\n        '  </div>' +\n        '' +\n        '      </td>' +\n        '    </tr>' +\n        '  </tbody>' +\n        '</table>' +\n        '' +\n        '' +\n        '' +\n        '' +\n        '' +\n        '' +\n        '<table style=\"font-family:\\'Lato\\',sans-serif;\" role=\"presentation\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" border=\"0\">' +\n        '  <tbody>' +\n        '    <tr>' +\n        '      <td class=\"v-container-padding-padding\" style=\"overflow-wrap:break-word;word-break:break-word;padding:10px;font-family:\\'Lato\\',sans-serif;\" align=\"left\">' +\n        '        ' +\n        '  <div class=\"v-color\" style=\"color: #000000; line-height: 140%; text-align: left; word-wrap: break-word;\">' +\n        '    <p style=\"font-size: 14px; line-height: 140%; text-align: right;\">Bait Taken</p>' +\n        '  </div>' +\n        '' +\n        '      </td>' +\n        '    </tr>' +\n        '  </tbody>' +\n        '</table>' +\n        '' +\n        '' +\n        '' +\n        '<table style=\"font-family:\\'Lato\\',sans-serif;\" role=\"presentation\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" border=\"0\">' +\n        '  <tbody>' +\n        '    <tr>' +\n        '      <td class=\"v-container-padding-padding\" style=\"overflow-wrap:break-word;word-break:break-word;padding:10px;font-family:\\'Lato\\',sans-serif;\" align=\"left\">' +\n        '        ' +\n        '  <div class=\"v-color\" style=\"color: #000000; line-height: 140%; text-align: left; word-wrap: break-word;\">' +\n        '    <p style=\"font-size: 14px; line-height: 140%; text-align: right;\">Motion Count</p>' +\n        '  </div>' +\n        '' +\n        '      </td>' +\n        '    </tr>' +\n        '  </tbody>' +\n        '</table>' +\n        '' +\n        '' +\n        '' +\n        '<table style=\"font-family:\\'Lato\\',sans-serif;\" role=\"presentation\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" border=\"0\">' +\n        '  <tbody>' +\n        '    <tr>' +\n        '      <td class=\"v-container-padding-padding\" style=\"overflow-wrap:break-word;word-break:break-word;padding:10px;font-family:\\'Lato\\',sans-serif;\" align=\"left\">' +\n        '        ' +\n        '  <div class=\"v-color\" style=\"color: #000000; line-height: 140%; text-align: left; word-wrap: break-word;\">' +\n        '    <p style=\"font-size: 14px; line-height: 140%; text-align: right;\">Next Check</p>' +\n        '  </div>' +\n        '' +\n        '      </td>' +\n        '    </tr>' +\n        '  </tbody>' +\n        '</table>' +\n        '' +\n        '' +\n        '' +\n        '<table style=\"font-family:\\'Lato\\',sans-serif;\" role=\"presentation\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" border=\"0\">' +\n        '  <tbody>' +\n        '    <tr>' +\n        '      <td class=\"v-container-padding-padding\" style=\"overflow-wrap:break-word;word-break:break-word;padding:10px;font-family:\\'Lato\\',sans-serif;\" align=\"left\">' +\n        '        ' +\n        '  <div class=\"v-color\" style=\"color: #000000; line-height: 140%; text-align: left; word-wrap: break-word;\">' +\n        '    <p style=\"font-size: 14px; line-height: 140%; text-align: right;\">Product</p>' +\n        '  </div>' +\n        '' +\n        '      </td>' +\n        '    </tr>' +\n        '  </tbody>' +\n        '</table>' +\n        '' +\n        '' +\n        '' +\n        '<table style=\"font-family:\\'Lato\\',sans-serif;\" role=\"presentation\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" border=\"0\">' +\n        '  <tbody>' +\n        '    <tr>' +\n        '      <td class=\"v-container-padding-padding\" style=\"overflow-wrap:break-word;word-break:break-word;padding:10px;font-family:\\'Lato\\',sans-serif;\" align=\"left\">' +\n        '        ' +\n        '  <div class=\"v-color\" style=\"color: #000000; line-height: 140%; text-align: left; word-wrap: break-word;\">' +\n        '    <p style=\"font-size: 14px; line-height: 140%; text-align: right;\">Battery Level</p>' +\n        '  </div>' +\n        '' +\n        '      </td>' +\n        '    </tr>' +\n        '  </tbody>' +\n        '</table>' +\n        '' +\n        '' +\n        '' +\n        '<table style=\"font-family:\\'Lato\\',sans-serif;\" role=\"presentation\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" border=\"0\">' +\n        '  <tbody>' +\n        '    <tr>' +\n        '      <td class=\"v-container-padding-padding\" style=\"overflow-wrap:break-word;word-break:break-word;padding:10px;font-family:\\'Lato\\',sans-serif;\" align=\"left\">' +\n        '        ' +\n        '  <div class=\"v-color\" style=\"color: #000000; line-height: 140%; text-align: left; word-wrap: break-word;\">' +\n        '    ' +\n        '  </div>' +\n        '' +\n        '      </td>' +\n        '    </tr>' +\n        '  </tbody>' +\n        '</table>' +\n        '' +\n        '' +\n        '' +\n        '<table style=\"font-family:\\'Lato\\',sans-serif;\" role=\"presentation\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" border=\"0\">' +\n        '  <tbody>' +\n        '    <tr>' +\n        '      <td class=\"v-container-padding-padding\" style=\"overflow-wrap:break-word;word-break:break-word;padding:10px;font-family:\\'Lato\\',sans-serif;\" align=\"left\">' +\n        '        ' +\n        '  <div class=\"v-color\" style=\"color: #000000; line-height: 140%; text-align: left; word-wrap: break-word;\">' +\n        '    ' +\n        '  </div>' +\n        '' +\n        '      </td>' +\n        '    </tr>' +\n        '  </tbody>' +\n        '</table>' +\n        '' +\n        '' +\n        '' +\n        '<table style=\"font-family:\\'Lato\\',sans-serif;\" role=\"presentation\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" border=\"0\">' +\n        '  <tbody>' +\n        '    <tr>' +\n        '      <td class=\"v-container-padding-padding\" style=\"overflow-wrap:break-word;word-break:break-word;padding:10px;font-family:\\'Lato\\',sans-serif;\" align=\"left\">' +\n        '        ' +\n        '  <div class=\"v-color\" style=\"color: #000000; line-height: 140%; text-align: left; word-wrap: break-word;\">' +\n        '    ' +\n        '  </div>' +\n        '' +\n        '      </td>' +\n        '    </tr>' +\n        '  </tbody>' +\n        '</table>' +\n        '' +\n        '' +\n        '  <!--[if (!mso)&(!IE)]><!--></div><!--<![endif]-->' +\n        '  </div>' +\n        '</div>' +\n        '<!--[if (mso)|(IE)]></td><![endif]-->' +\n        '<!--[if (mso)|(IE)]><td align=\"center\" width=\"408\" class=\"v-col-border\" style=\"border-color:' + status + '; background-color: #f2f2f2;width: 408px;padding: 0px;border-top: 0px solid transparent;border-left: 0px solid transparent;border-right: 0px solid transparent;border-bottom: 0px solid transparent;\" valign=\"top\"><![endif]-->' +\n        '<div class=\"u-col u-col-67p99\" style=\"max-width: 320px;min-width: 408px;display: table-cell;vertical-align: top;\">' +\n        '  <div style=\"background-color: #f2f2f2;width: 100% !important;\">' +\n        '  <!--[if (!mso)&(!IE)]><!--><div class=\"v-col-border\" style=\"border-color:' + status + '; padding: 0px;border-top: 0px solid transparent;border-left: 0px solid transparent;border-right: 0px solid transparent;border-bottom: 0px solid transparent;\"><!--<![endif]-->' +\n        '  ' +\n        '' +\n        '<table style=\"font-family:\\'Lato\\',sans-serif;\" role=\"presentation\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" border=\"0\">' +\n        '  <tbody>' +\n        '    <tr>' +\n        '      <td class=\"v-container-padding-padding\" style=\"overflow-wrap:break-word;word-break:break-word;padding:10px;font-family:\\'Lato\\',sans-serif;\" align=\"left\">' +\n        '        ' +\n        '  <div class=\"v-color\" style=\"color: #000000; line-height: 140%; text-align: left; word-wrap: break-word;\">' +\n        '    ' +\n        '  </div>' +\n        '' +\n        '      </td>' +\n        '    </tr>' +\n        '  </tbody>' +\n        '</table>' +\n        '' +\n        '' +\n        '' +\n        '<table style=\"font-family:\\'Lato\\',sans-serif;\" role=\"presentation\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" border=\"0\">' +\n        '  <tbody>' +\n        '    <tr>' +\n        '      <td class=\"v-container-padding-padding\" style=\"overflow-wrap:break-word;word-break:break-word;padding:10px;font-family:\\'Lato\\',sans-serif;\" align=\"left\">' +\n        '        ' +\n        '  <div class=\"v-color\" style=\"color: #000000; line-height: 140%; text-align: left; word-wrap: break-word;\">' +\n        '    <p style=\"font-size: 14px; line-height: 140%;\">' + messageAlert + '</p>' +\n        '  </div>' +\n        '' +\n        '      </td>' +\n        '    </tr>' +\n        '  </tbody>' +\n        '</table>' +\n        '' +\n        '' +\n        '' +\n        '<table style=\"font-family:\\'Lato\\',sans-serif;\" role=\"presentation\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" border=\"0\">' +\n        '  <tbody>' +\n        '    <tr>' +\n        '      <td class=\"v-container-padding-padding\" style=\"overflow-wrap:break-word;word-break:break-word;padding:10px;font-family:\\'Lato\\',sans-serif;\" align=\"left\">' +\n        '        ' +\n        '  <div class=\"v-color\" style=\"color: #000000; line-height: 140%; text-align: left; word-wrap: break-word;\">' +\n        '    ' +\n        '  </div>' +\n        '' +\n        '      </td>' +\n        '    </tr>' +\n        '  </tbody>' +\n        '</table>' +\n        '' +\n        '' +\n        '' +\n        '<table style=\"font-family:\\'Lato\\',sans-serif;\" role=\"presentation\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" border=\"0\">' +\n        '  <tbody>' +\n        '    <tr>' +\n        '      <td class=\"v-container-padding-padding\" style=\"overflow-wrap:break-word;word-break:break-word;padding:10px;font-family:\\'Lato\\',sans-serif;\" align=\"left\">' +\n        '        ' +\n        '  <div class=\"v-color\" style=\"color: #000000; line-height: 140%; text-align: left; word-wrap: break-word;\">' +\n        '    <p style=\"font-size: 14px; line-height: 140%;\">' + customer + ', ' + area + ', ' + site + '</p>' +\n        '  </div>' +\n        '' +\n        '      </td>' +\n        '    </tr>' +\n        '  </tbody>' +\n        '</table>' +\n        '' +\n        '' +\n        '' +\n        '<table style=\"font-family:\\'Lato\\',sans-serif;\" role=\"presentation\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" border=\"0\">' +\n        '  <tbody>' +\n        '    <tr>' +\n        '      <td class=\"v-container-padding-padding\" style=\"overflow-wrap:break-word;word-break:break-word;padding:10px;font-family:\\'Lato\\',sans-serif;\" align=\"left\">' +\n        '        ' +\n        '  <div class=\"v-color\" style=\"color: #000000; line-height: 140%; text-align: left; word-wrap: break-word;\">' +\n        '    <p style=\"font-size: 14px; line-height: 140%;\">' + device + '</p>' +\n        '  </div>' +\n        '' +\n        '      </td>' +\n        '    </tr>' +\n        '  </tbody>' +\n        '</table>' +\n        '' +\n        '' +\n        '' +\n        '<table style=\"font-family:\\'Lato\\',sans-serif;\" role=\"presentation\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" border=\"0\">' +\n        '  <tbody>' +\n        '    <tr>' +\n        '      <td class=\"v-container-padding-padding\" style=\"overflow-wrap:break-word;word-break:break-word;padding:10px;font-family:\\'Lato\\',sans-serif;\" align=\"left\">' +\n        '        ' +\n        '  <div class=\"v-color\" style=\"color: #000000; line-height: 140%; text-align: left; word-wrap: break-word;\">' +\n        '    <p style=\"font-size: 14px; line-height: 140%;\">' + currentWeight + '%</p>' +\n        '  </div>' +\n        '' +\n        '      </td>' +\n        '    </tr>' +\n        '  </tbody>' +\n        '</table>' +\n        '' +\n        '' +\n        '' +\n        '' +\n        '' +\n        '' +\n        '<table style=\"font-family:\\'Lato\\',sans-serif;\" role=\"presentation\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" border=\"0\">' +\n        '  <tbody>' +\n        '    <tr>' +\n        '      <td class=\"v-container-padding-padding\" style=\"overflow-wrap:break-word;word-break:break-word;padding:10px;font-family:\\'Lato\\',sans-serif;\" align=\"left\">' +\n        '        ' +\n        '  <div class=\"v-color\" style=\"color: #000000; line-height: 140%; text-align: left; word-wrap: break-word;\">' +\n        '    <p style=\"font-size: 14px; line-height: 140%;\">' + WeightConsumed + 'g</p>' +\n        '  </div>' +\n        '' +\n        '      </td>' +\n        '    </tr>' +\n        '  </tbody>' +\n        '</table>' +\n        '' +\n        '' +\n        '' +\n        '<table style=\"font-family:\\'Lato\\',sans-serif;\" role=\"presentation\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" border=\"0\">' +\n        '  <tbody>' +\n        '    <tr>' +\n        '      <td class=\"v-container-padding-padding\" style=\"overflow-wrap:break-word;word-break:break-word;padding:10px;font-family:\\'Lato\\',sans-serif;\" align=\"left\">' +\n        '        ' +\n        '  <div class=\"v-color\" style=\"color: #000000; line-height: 140%; text-align: left; word-wrap: break-word;\">' +\n        '    <p style=\"font-size: 14px; line-height: 140%;\">' + sensorHours + '</p>' +\n        '  </div>' +\n        '' +\n        '      </td>' +\n        '    </tr>' +\n        '  </tbody>' +\n        '</table>' +\n        '' +\n        '' +\n        '' +\n        '<table style=\"font-family:\\'Lato\\',sans-serif;\" role=\"presentation\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" border=\"0\">' +\n        '  <tbody>' +\n        '    <tr>' +\n        '      <td class=\"v-container-padding-padding\" style=\"overflow-wrap:break-word;word-break:break-word;padding:10px;font-family:\\'Lato\\',sans-serif;\" align=\"left\">' +\n        '        ' +\n        '  <div class=\"v-color\" style=\"color: #000000; line-height: 140%; text-align: left; word-wrap: break-word;\">' +\n        '    <p style=\"font-size: 14px; line-height: 140%;\">' + foodDatePrint + '</p>' +\n        '  </div>' +\n        '' +\n        '      </td>' +\n        '    </tr>' +\n        '  </tbody>' +\n        '</table>' +\n        '' +\n        '' +\n        '' +\n        '<table style=\"font-family:\\'Lato\\',sans-serif;\" role=\"presentation\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" border=\"0\">' +\n        '  <tbody>' +\n        '    <tr>' +\n        '      <td class=\"v-container-padding-padding\" style=\"overflow-wrap:break-word;word-break:break-word;padding:10px;font-family:\\'Lato\\',sans-serif;\" align=\"left\">' +\n        '        ' +\n        '  <div class=\"v-color\" style=\"color: #000000; line-height: 140%; text-align: left; word-wrap: break-word;\">' +\n        '    <p style=\"font-size: 14px; line-height: 140%;\">' + baitName + '</p>' +\n        '  </div>' +\n        '' +\n        '      </td>' +\n        '    </tr>' +\n        '  </tbody>' +\n        '</table>' +\n        '' +\n        '' +\n        '' +\n        '<table style=\"font-family:\\'Lato\\',sans-serif;\" role=\"presentation\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" border=\"0\">' +\n        '  <tbody>' +\n        '    <tr>' +\n        '      <td class=\"v-container-padding-padding\" style=\"overflow-wrap:break-word;word-break:break-word;padding:10px;font-family:\\'Lato\\',sans-serif;\" align=\"left\">' +\n        '        ' +\n        '  <div class=\"v-color\" style=\"color: #000000; line-height: 140%; text-align: left; word-wrap: break-word;\">' +\n        '    <p style=\"font-size: 14px; line-height: 140%;\">' + battery + '%</p>' +\n        '  </div>' +\n        '' +\n        '      </td>' +\n        '    </tr>' +\n        '  </tbody>' +\n        '</table>' +\n        '' +\n        '' +\n        '' +\n        '<table style=\"font-family:\\'Lato\\',sans-serif;\" role=\"presentation\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" border=\"0\">' +\n        '  <tbody>' +\n        '    <tr>' +\n        '      <td class=\"v-container-padding-padding\" style=\"overflow-wrap:break-word;word-break:break-word;padding:10px;font-family:\\'Lato\\',sans-serif;\" align=\"left\">' +\n        '        ' +\n        '  <div class=\"v-color\" style=\"color: #000000; line-height: 140%; text-align: left; word-wrap: break-word;\">' +\n        '    ' +\n        '  </div>' +\n        '' +\n        '      </td>' +\n        '    </tr>' +\n        '  </tbody>' +\n        '</table>' +\n        '' +\n        '' +\n        '' +\n        '<table style=\"font-family:\\'Lato\\',sans-serif;\" role=\"presentation\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" border=\"0\">' +\n        '  <tbody>' +\n        '    <tr>' +\n        '      <td class=\"v-container-padding-padding\" style=\"overflow-wrap:break-word;word-break:break-word;padding:10px;font-family:\\'Lato\\',sans-serif;\" align=\"left\">' +\n        '        ' +\n        '  <div class=\"v-color\" style=\"color: #000000; line-height: 140%; text-align: left; word-wrap: break-word;\">' +\n        '    ' +\n        '  </div>' +\n        '' +\n        '      </td>' +\n        '    </tr>' +\n        '  </tbody>' +\n        '</table>' +\n        '' +\n        '' +\n        '' +\n        '<table style=\"font-family:\\'Lato\\',sans-serif;\" role=\"presentation\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" border=\"0\">' +\n        '  <tbody>' +\n        '    <tr>' +\n        '      <td class=\"v-container-padding-padding\" style=\"overflow-wrap:break-word;word-break:break-word;padding:10px;font-family:\\'Lato\\',sans-serif;\" align=\"left\">' +\n        '        ' +\n        '  <div class=\"v-color\" style=\"color: #000000; line-height: 140%; text-align: left; word-wrap: break-word;\">' +\n        '    ' +\n        '  </div>' +\n        '' +\n        '      </td>' +\n        '    </tr>' +\n        '  </tbody>' +\n        '</table>' +\n        '' +\n        '' +\n        '  <!--[if (!mso)&(!IE)]><!--></div><!--<![endif]-->' +\n        '  </div>' +\n        '</div>' +\n        '<!--[if (mso)|(IE)]></td><![endif]-->' +\n        '      <!--[if (mso)|(IE)]></tr></table></td></tr></table><![endif]-->' +\n        '    </div>' +\n        '  </div>' +\n        '</div>' +\n        '' +\n        '' +\n        '<!--[if !mso]><!-->' +\n        '<div id=\"u_row_18\" class=\"u-row-container v-row-padding--vertical hide-desktop\" style=\"display: none;mso-hide: all;padding: 0px; \">' +\n        '  <div class=\"u-row no-stack\" style=\"Margin: 0 auto;min-width: 320px;max-width: 600px;overflow-wrap: break-word;word-wrap: break-word;word-break: break-word;background-color: transparent;\">' +\n        '    <div style=\"border-collapse: collapse;display: table;width: 100%;background-color: transparent;\">' +\n        '      <!--[if (mso)|(IE)]><table width=\"100%\" cellpadding=\"0\" cellspacing=\"0\" border=\"0\"><tr><td style=\"padding: 0px; \" align=\"center\"><table cellpadding=\"0\" cellspacing=\"0\" border=\"0\" style=\"width:600px;\"><tr style=\"background-color: transparent;\"><![endif]-->' +\n        '      ' +\n        '<!--[if (mso)|(IE)]><td align=\"center\" width=\"186\" class=\"v-col-border\" style=\"border-color:' + status + '; background-color: #f2f2f2;width: 186px;padding: 0px;border-top: 0px solid transparent;border-left: 6px solid ' + status + ';border-right: 0px solid transparent;border-bottom: 0px solid transparent;\" valign=\"top\"><![endif]-->' +\n        '<div id=\"u_column_27\" class=\"u-col u-col-32p01\" style=\"max-width: 320px;min-width: 192px;display: table-cell;vertical-align: top;\">' +\n        '  <div style=\"background-color: #f2f2f2;width: 100% !important;\">' +\n        '  <!--[if (!mso)&(!IE)]><!--><div class=\"v-col-border\" style=\"border-color:' + status + '; padding: 0px;border-top: 0px solid transparent;border-left: 6px solid ' + status + ';border-right: 0px solid transparent;border-bottom: 0px solid transparent;\"><!--<![endif]-->' +\n        '  ' +\n        '' +\n        '<table style=\"font-family:\\'Lato\\',sans-serif;\" role=\"presentation\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" border=\"0\">' +\n        '  <tbody>' +\n        '    <tr>' +\n        '      <td class=\"v-container-padding-padding\" style=\"overflow-wrap:break-word;word-break:break-word;padding:10px;font-family:\\'Lato\\',sans-serif;\" align=\"left\">' +\n        '        ' +\n        '  <div class=\"v-color\" style=\"color: #000000; line-height: 140%; text-align: left; word-wrap: break-word;\">' +\n        '    ' +\n        '  </div>' +\n        '' +\n        '      </td>' +\n        '    </tr>' +\n        '  </tbody>' +\n        '</table>' +\n        '' +\n        '' +\n        '' +\n        '<table style=\"font-family:\\'Lato\\',sans-serif;\" role=\"presentation\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" border=\"0\">' +\n        '  <tbody>' +\n        '    <tr>' +\n        '      <td class=\"v-container-padding-padding\" style=\"overflow-wrap:break-word;word-break:break-word;padding:10px;font-family:\\'Lato\\',sans-serif;\" align=\"left\">' +\n        '        ' +\n        '  <div class=\"v-color\" style=\"color: #000000; line-height: 140%; text-align: left; word-wrap: break-word;\">' +\n        '    <p style=\"font-size: 14px; line-height: 140%; text-align: right;\">Alert</p>' +\n        '  </div>' +\n        '' +\n        '      </td>' +\n        '    </tr>' +\n        '  </tbody>' +\n        '</table>' +\n        '' +\n        '' +\n        '' +\n        '<table style=\"font-family:\\'Lato\\',sans-serif;\" role=\"presentation\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" border=\"0\">' +\n        '  <tbody>' +\n        '    <tr>' +\n        '      <td class=\"v-container-padding-padding\" style=\"overflow-wrap:break-word;word-break:break-word;padding:10px;font-family:\\'Lato\\',sans-serif;\" align=\"left\">' +\n        '        ' +\n        '  <div class=\"v-color\" style=\"color: #000000; line-height: 140%; text-align: left; word-wrap: break-word;\">' +\n        '    ' +\n        '  </div>' +\n        '' +\n        '      </td>' +\n        '    </tr>' +\n        '  </tbody>' +\n        '</table>' +\n        '' +\n        '' +\n        '' +\n        '<table style=\"font-family:\\'Lato\\',sans-serif;\" role=\"presentation\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" border=\"0\">' +\n        '  <tbody>' +\n        '    <tr>' +\n        '      <td class=\"v-container-padding-padding\" style=\"overflow-wrap:break-word;word-break:break-word;padding:10px;font-family:\\'Lato\\',sans-serif;\" align=\"left\">' +\n        '        ' +\n        '  <div class=\"v-color\" style=\"color: #000000; line-height: 140%; text-align: left; word-wrap: break-word;\">' +\n        '    ' +\n        '  </div>' +\n        '' +\n        '      </td>' +\n        '    </tr>' +\n        '  </tbody>' +\n        '</table>' +\n        '' +\n        '' +\n        '' +\n        '<table style=\"font-family:\\'Lato\\',sans-serif;\" role=\"presentation\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" border=\"0\">' +\n        '  <tbody>' +\n        '    <tr>' +\n        '      <td class=\"v-container-padding-padding\" style=\"overflow-wrap:break-word;word-break:break-word;padding:10px;font-family:\\'Lato\\',sans-serif;\" align=\"left\">' +\n        '        ' +\n        '  <div class=\"v-color\" style=\"color: #000000; line-height: 140%; text-align: left; word-wrap: break-word;\">' +\n        '    <p style=\"font-size: 14px; line-height: 140%; text-align: right;\">Location</p>' +\n        '  </div>' +\n        '' +\n        '      </td>' +\n        '    </tr>' +\n        '  </tbody>' +\n        '</table>' +\n        '' +\n        '' +\n        '' +\n        '<table style=\"font-family:\\'Lato\\',sans-serif;\" role=\"presentation\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" border=\"0\">' +\n        '  <tbody>' +\n        '    <tr>' +\n        '      <td class=\"v-container-padding-padding\" style=\"overflow-wrap:break-word;word-break:break-word;padding:10px;font-family:\\'Lato\\',sans-serif;\" align=\"left\">' +\n        '        ' +\n        '  <div class=\"v-color\" style=\"color: #000000; line-height: 140%; text-align: left; word-wrap: break-word;\">' +\n        '    <p style=\"font-size: 14px; line-height: 140%; text-align: right;\">Device</p>' +\n        '  </div>' +\n        '' +\n        '      </td>' +\n        '    </tr>' +\n        '  </tbody>' +\n        '</table>' +\n        '' +\n        '' +\n        '' +\n        '<table style=\"font-family:\\'Lato\\',sans-serif;\" role=\"presentation\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" border=\"0\">' +\n        '  <tbody>' +\n        '    <tr>' +\n        '      <td class=\"v-container-padding-padding\" style=\"overflow-wrap:break-word;word-break:break-word;padding:10px;font-family:\\'Lato\\',sans-serif;\" align=\"left\">' +\n        '        ' +\n        '  <div class=\"v-color\" style=\"color: #000000; line-height: 140%; text-align: left; word-wrap: break-word;\">' +\n        '    <p style=\"font-size: 14px; line-height: 140%; text-align: right;\">Bait Left</p>' +\n        '  </div>' +\n        '' +\n        '      </td>' +\n        '    </tr>' +\n        '  </tbody>' +\n        '</table>' +\n        '' +\n        '' +\n        '' +\n        '' +\n        '' +\n        '' +\n        '<table style=\"font-family:\\'Lato\\',sans-serif;\" role=\"presentation\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" border=\"0\">' +\n        '  <tbody>' +\n        '    <tr>' +\n        '      <td class=\"v-container-padding-padding\" style=\"overflow-wrap:break-word;word-break:break-word;padding:10px;font-family:\\'Lato\\',sans-serif;\" align=\"left\">' +\n        '        ' +\n        '  <div class=\"v-color\" style=\"color: #000000; line-height: 140%; text-align: left; word-wrap: break-word;\">' +\n        '    <p style=\"font-size: 14px; line-height: 140%; text-align: right;\">Bait  Taken</p>' +\n        '  </div>' +\n        '' +\n        '      </td>' +\n        '    </tr>' +\n        '  </tbody>' +\n        '</table>' +\n        '' +\n        '' +\n        '' +\n        '<table style=\"font-family:\\'Lato\\',sans-serif;\" role=\"presentation\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" border=\"0\">' +\n        '  <tbody>' +\n        '    <tr>' +\n        '      <td class=\"v-container-padding-padding\" style=\"overflow-wrap:break-word;word-break:break-word;padding:10px;font-family:\\'Lato\\',sans-serif;\" align=\"left\">' +\n        '        ' +\n        '  <div class=\"v-color\" style=\"color: #000000; line-height: 140%; text-align: left; word-wrap: break-word;\">' +\n        '    <p style=\"font-size: 14px; line-height: 140%; text-align: right;\">Motion Count</p>' +\n        '  </div>' +\n        '' +\n        '      </td>' +\n        '    </tr>' +\n        '  </tbody>' +\n        '</table>' +\n        '' +\n        '' +\n        '' +\n        '<table style=\"font-family:\\'Lato\\',sans-serif;\" role=\"presentation\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" border=\"0\">' +\n        '  <tbody>' +\n        '    <tr>' +\n        '      <td class=\"v-container-padding-padding\" style=\"overflow-wrap:break-word;word-break:break-word;padding:10px;font-family:\\'Lato\\',sans-serif;\" align=\"left\">' +\n        '        ' +\n        '  <div class=\"v-color\" style=\"color: #000000; line-height: 140%; text-align: left; word-wrap: break-word;\">' +\n        '    <p style=\"font-size: 14px; line-height: 140%; text-align: right;\">Next Check</p>' +\n        '  </div>' +\n        '' +\n        '      </td>' +\n        '    </tr>' +\n        '  </tbody>' +\n        '</table>' +\n        '' +\n        '' +\n        '' +\n        '<table style=\"font-family:\\'Lato\\',sans-serif;\" role=\"presentation\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" border=\"0\">' +\n        '  <tbody>' +\n        '    <tr>' +\n        '      <td class=\"v-container-padding-padding\" style=\"overflow-wrap:break-word;word-break:break-word;padding:10px;font-family:\\'Lato\\',sans-serif;\" align=\"left\">' +\n        '        ' +\n        '  <div class=\"v-color\" style=\"color: #000000; line-height: 140%; text-align: left; word-wrap: break-word;\">' +\n        '    <p style=\"font-size: 14px; line-height: 140%; text-align: right;\">Product</p>' +\n        '  </div>' +\n        '' +\n        '      </td>' +\n        '    </tr>' +\n        '  </tbody>' +\n        '</table>' +\n        '' +\n        '' +\n        '' +\n        '<table style=\"font-family:\\'Lato\\',sans-serif;\" role=\"presentation\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" border=\"0\">' +\n        '  <tbody>' +\n        '    <tr>' +\n        '      <td class=\"v-container-padding-padding\" style=\"overflow-wrap:break-word;word-break:break-word;padding:10px;font-family:\\'Lato\\',sans-serif;\" align=\"left\">' +\n        '        ' +\n        '  <div class=\"v-color\" style=\"color: #000000; line-height: 140%; text-align: left; word-wrap: break-word;\">' +\n        '    <p style=\"font-size: 14px; line-height: 140%; text-align: right;\">Battery Level</p>' +\n        '  </div>' +\n        '' +\n        '      </td>' +\n        '    </tr>' +\n        '  </tbody>' +\n        '</table>' +\n        '' +\n        '' +\n        '' +\n        '<table style=\"font-family:\\'Lato\\',sans-serif;\" role=\"presentation\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" border=\"0\">' +\n        '  <tbody>' +\n        '    <tr>' +\n        '      <td class=\"v-container-padding-padding\" style=\"overflow-wrap:break-word;word-break:break-word;padding:10px;font-family:\\'Lato\\',sans-serif;\" align=\"left\">' +\n        '        ' +\n        '  <div class=\"v-color\" style=\"color: #000000; line-height: 140%; text-align: left; word-wrap: break-word;\">' +\n        '    ' +\n        '  </div>' +\n        '' +\n        '      </td>' +\n        '    </tr>' +\n        '  </tbody>' +\n        '</table>' +\n        '' +\n        '' +\n        '  <!--[if (!mso)&(!IE)]><!--></div><!--<![endif]-->' +\n        '  </div>' +\n        '</div>' +\n        '<!--[if (mso)|(IE)]></td><![endif]-->' +\n        '<!--[if (mso)|(IE)]><td align=\"center\" width=\"408\" class=\"v-col-border\" style=\"border-color:' + status + '; background-color: #f2f2f2;width: 408px;padding: 0px;border-top: 0px solid transparent;border-left: 0px solid transparent;border-right: 0px solid transparent;border-bottom: 0px solid transparent;\" valign=\"top\"><![endif]-->' +\n        '<div class=\"u-col u-col-67p99\" style=\"max-width: 320px;min-width: 408px;display: table-cell;vertical-align: top;\">' +\n        '  <div style=\"background-color: #f2f2f2;width: 100% !important;\">' +\n        '  <!--[if (!mso)&(!IE)]><!--><div class=\"v-col-border\" style=\"border-color:' + status + ';  padding: 0px;border-top: 0px solid transparent;border-left: 0px solid transparent;border-right: 0px solid transparent;border-bottom: 0px solid transparent;\"><!--<![endif]-->' +\n        '  ' +\n        '' +\n        '<table style=\"font-family:\\'Lato\\',sans-serif;\" role=\"presentation\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" border=\"0\">' +\n        '  <tbody>' +\n        '    <tr>' +\n        '      <td class=\"v-container-padding-padding\" style=\"overflow-wrap:break-word;word-break:break-word;padding:10px;font-family:\\'Lato\\',sans-serif;\" align=\"left\">' +\n        '        ' +\n        '  <div class=\"v-color\" style=\"color: #000000; line-height: 140%; text-align: left; word-wrap: break-word;\">' +\n        '    ' +\n        '  </div>' +\n        '' +\n        '      </td>' +\n        '    </tr>' +\n        '  </tbody>' +\n        '</table>' +\n        '' +\n        '' +\n        '' +\n        '<table style=\"font-family:\\'Lato\\',sans-serif;\" role=\"presentation\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" border=\"0\">' +\n        '  <tbody>' +\n        '    <tr>' +\n        '      <td class=\"v-container-padding-padding\" style=\"overflow-wrap:break-word;word-break:break-word;padding:10px;font-family:\\'Lato\\',sans-serif;\" align=\"left\">' +\n        '        ' +\n        '  <div class=\"v-color\" style=\"color: #000000; line-height: 140%; text-align: left; word-wrap: break-word;\">' +\n        '    <p style=\"font-size: 14px; line-height: 140%;\">' + messageAlert + '</p>' +\n        '  </div>' +\n        '' +\n        '      </td>' +\n        '    </tr>' +\n        '  </tbody>' +\n        '</table>' +\n        '' +\n        '' +\n        '' +\n        '<table style=\"font-family:\\'Lato\\',sans-serif;\" role=\"presentation\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" border=\"0\">' +\n        '  <tbody>' +\n        '    <tr>' +\n        '      <td class=\"v-container-padding-padding\" style=\"overflow-wrap:break-word;word-break:break-word;padding:10px;font-family:\\'Lato\\',sans-serif;\" align=\"left\">' +\n        '        ' +\n        '  <div class=\"v-color\" style=\"color: #000000; line-height: 140%; text-align: left; word-wrap: break-word;\">' +\n        '    ' +\n        '  </div>' +\n        '' +\n        '      </td>' +\n        '    </tr>' +\n        '  </tbody>' +\n        '</table>' +\n        '' +\n        '' +\n        '' +\n        '<table style=\"font-family:\\'Lato\\',sans-serif;\" role=\"presentation\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" border=\"0\">' +\n        '  <tbody>' +\n        '    <tr>' +\n        '      <td class=\"v-container-padding-padding\" style=\"overflow-wrap:break-word;word-break:break-word;padding:10px;font-family:\\'Lato\\',sans-serif;\" align=\"left\">' +\n        '        ' +\n        '  <div class=\"v-color\" style=\"color: #000000; line-height: 140%; text-align: left; word-wrap: break-word;\">' +\n        '    <p style=\"font-size: 14px; line-height: 140%;\">' + customer + ', ' + area + ', ' + site + '</p>' +\n        '  </div>' +\n        '' +\n        '      </td>' +\n        '    </tr>' +\n        '  </tbody>' +\n        '</table>' +\n        '' +\n        '' +\n        '' +\n        '<table style=\"font-family:\\'Lato\\',sans-serif;\" role=\"presentation\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" border=\"0\">' +\n        '  <tbody>' +\n        '    <tr>' +\n        '      <td class=\"v-container-padding-padding\" style=\"overflow-wrap:break-word;word-break:break-word;padding:10px;font-family:\\'Lato\\',sans-serif;\" align=\"left\">' +\n        '        ' +\n        '  <div class=\"v-color\" style=\"color: #000000; line-height: 140%; text-align: left; word-wrap: break-word;\">' +\n        '    <p style=\"font-size: 14px; line-height: 140%;\">' + device + '</p>' +\n        '  </div>' +\n        '' +\n        '      </td>' +\n        '    </tr>' +\n        '  </tbody>' +\n        '</table>' +\n        '' +\n        '' +\n        '' +\n        '<table style=\"font-family:\\'Lato\\',sans-serif;\" role=\"presentation\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" border=\"0\">' +\n        '  <tbody>' +\n        '    <tr>' +\n        '      <td class=\"v-container-padding-padding\" style=\"overflow-wrap:break-word;word-break:break-word;padding:10px;font-family:\\'Lato\\',sans-serif;\" align=\"left\">' +\n        '        ' +\n        '  <div class=\"v-color\" style=\"color: #000000; line-height: 140%; text-align: left; word-wrap: break-word;\">' +\n        '    <p style=\"font-size: 14px; line-height: 140%;\">' + currentWeight + '%</p>' +\n        '  </div>' +\n        '' +\n        '      </td>' +\n        '    </tr>' +\n        '  </tbody>' +\n        '</table>' +\n        '' +\n        '' +\n        '' +\n        '' +\n        '' +\n        '' +\n        '<table style=\"font-family:\\'Lato\\',sans-serif;\" role=\"presentation\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" border=\"0\">' +\n        '  <tbody>' +\n        '    <tr>' +\n        '      <td class=\"v-container-padding-padding\" style=\"overflow-wrap:break-word;word-break:break-word;padding:10px;font-family:\\'Lato\\',sans-serif;\" align=\"left\">' +\n        '        ' +\n        '  <div class=\"v-color\" style=\"color: #000000; line-height: 140%; text-align: left; word-wrap: break-word;\">' +\n        '    <p style=\"font-size: 14px; line-height: 140%;\">' + WeightConsumed + 'g</p>' +\n        '  </div>' +\n        '' +\n        '      </td>' +\n        '    </tr>' +\n        '  </tbody>' +\n        '</table>' +\n        '' +\n        '' +\n        '' +\n        '<table id=\"u_content_text_60\" style=\"font-family:\\'Lato\\',sans-serif;\" role=\"presentation\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" border=\"0\">' +\n        '  <tbody>' +\n        '    <tr>' +\n        '      <td class=\"v-container-padding-padding\" style=\"overflow-wrap:break-word;word-break:break-word;padding:10px;font-family:\\'Lato\\',sans-serif;\" align=\"left\">' +\n        '        ' +\n        '  <div class=\"v-color\" style=\"color: #000000; line-height: 140%; text-align: left; word-wrap: break-word;\">' +\n        '    ' +\n        '  </div>' +\n        '' +\n        '      </td>' +\n        '    </tr>' +\n        '  </tbody>' +\n        '</table>' +\n        '' +\n        '' +\n        '' +\n        '<table id=\"u_content_text_72\" style=\"font-family:\\'Lato\\',sans-serif;\" role=\"presentation\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" border=\"0\">' +\n        '  <tbody>' +\n        '    <tr>' +\n        '      <td class=\"v-container-padding-padding\" style=\"overflow-wrap:break-word;word-break:break-word;padding:10px;font-family:\\'Lato\\',sans-serif;\" align=\"left\">' +\n        '        ' +\n        '  <div class=\"v-color\" style=\"color: #000000; line-height: 140%; text-align: left; word-wrap: break-word;\">' +\n        '    <p style=\"font-size: 14px; line-height: 140%;\">' + sensorHours + '</p>' +\n        '  </div>' +\n        '' +\n        '      </td>' +\n        '    </tr>' +\n        '  </tbody>' +\n        '</table>' +\n        '' +\n        '' +\n        '' +\n        '<table id=\"u_content_text_71\" style=\"font-family:\\'Lato\\',sans-serif;\" role=\"presentation\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" border=\"0\">' +\n        '  <tbody>' +\n        '    <tr>' +\n        '      <td class=\"v-container-padding-padding\" style=\"overflow-wrap:break-word;word-break:break-word;padding:10px;font-family:\\'Lato\\',sans-serif;\" align=\"left\">' +\n        '        ' +\n        '  <div class=\"v-color\" style=\"color: #000000; line-height: 140%; text-align: left; word-wrap: break-word;\">' +\n        '    <p style=\"font-size: 14px; line-height: 140%;\">' + foodDatePrint + '</p>' +\n        '  </div>' +\n        '' +\n        '      </td>' +\n        '    </tr>' +\n        '  </tbody>' +\n        '</table>' +\n        '' +\n        '' +\n        '' +\n        '<table id=\"u_content_text_70\" style=\"font-family:\\'Lato\\',sans-serif;\" role=\"presentation\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" border=\"0\">' +\n        '  <tbody>' +\n        '    <tr>' +\n        '      <td class=\"v-container-padding-padding\" style=\"overflow-wrap:break-word;word-break:break-word;padding:10px;font-family:\\'Lato\\',sans-serif;\" align=\"left\">' +\n        '        ' +\n        '  <div class=\"v-color\" style=\"color: #000000; line-height: 140%; text-align: left; word-wrap: break-word;\">' +\n        '    <p style=\"font-size: 14px; line-height: 140%;\">' + baitName + '</p>' +\n        '  </div>' +\n        '' +\n        '      </td>' +\n        '    </tr>' +\n        '  </tbody>' +\n        '</table>' +\n        '' +\n        '' +\n        '' +\n        '<table id=\"u_content_text_68\" style=\"font-family:\\'Lato\\',sans-serif;\" role=\"presentation\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" border=\"0\">' +\n        '  <tbody>' +\n        '    <tr>' +\n        '      <td class=\"v-container-padding-padding\" style=\"overflow-wrap:break-word;word-break:break-word;padding:10px;font-family:\\'Lato\\',sans-serif;\" align=\"left\">' +\n        '        ' +\n        '  <div class=\"v-color\" style=\"color: #000000; line-height: 140%; text-align: left; word-wrap: break-word;\">' +\n        '    <p style=\"font-size: 14px; line-height: 140%;\">' + battery + '%</p>' +\n        '  </div>' +\n        '' +\n        '      </td>' +\n        '    </tr>' +\n        '  </tbody>' +\n        '</table>' +\n        '' +\n        '' +\n        '' +\n        '<table id=\"u_content_text_73\" style=\"font-family:\\'Lato\\',sans-serif;\" role=\"presentation\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" border=\"0\">' +\n        '  <tbody>' +\n        '    <tr>' +\n        '      <td class=\"v-container-padding-padding\" style=\"overflow-wrap:break-word;word-break:break-word;padding:10px;font-family:\\'Lato\\',sans-serif;\" align=\"left\">' +\n        '        ' +\n        '  <div class=\"v-color\" style=\"color: #000000; line-height: 140%; text-align: left; word-wrap: break-word;\">' +\n        '    ' +\n        '  </div>' +\n        '' +\n        '      </td>' +\n        '    </tr>' +\n        '  </tbody>' +\n        '</table>' +\n        '' +\n        '' +\n        '  <!--[if (!mso)&(!IE)]><!--></div><!--<![endif]-->' +\n        '  </div>' +\n        '</div>' +\n        '<!--[if (mso)|(IE)]></td><![endif]-->' +\n        '      <!--[if (mso)|(IE)]></tr></table></td></tr></table><![endif]-->' +\n        '    </div>' +\n        '  </div>' +\n        '</div>' +\n        '<!--<![endif]-->' +\n        '' +\n        '' +\n        '<div class=\"u-row-container v-row-padding--vertical\" style=\"padding: 0px;background-color: transparent\">' +\n        '  <div class=\"u-row\" style=\"Margin: 0 auto;min-width: 320px;max-width: 600px;overflow-wrap: break-word;word-wrap: break-word;word-break: break-word; \">' +\n        '    <div style=\"border-collapse: collapse;display: table;width: 100%;background-color: transparent;\">' +\n        '      <!--[if (mso)|(IE)]><table width=\"100%\" cellpadding=\"0\" cellspacing=\"0\" border=\"0\"><tr><td style=\"padding: 0px;background-color: transparent;\" align=\"center\"><table cellpadding=\"0\" cellspacing=\"0\" border=\"0\" style=\"width:600px;\"><tr style=\" \"><![endif]-->' +\n        '      ' +\n        '<!--[if (mso)|(IE)]><td align=\"center\" width=\"600\" class=\"v-col-border\" style=\" border-color:' + status + ';  width: 600px;padding: 0px;border-top: 0px solid transparent;border-left: 0px solid transparent;border-right: 0px solid transparent;border-bottom: 0px solid transparent;\" valign=\"top\"><![endif]-->' +\n        '<div class=\"u-col u-col-100\" style=\"max-width: 320px;min-width: 600px;display: table-cell;vertical-align: top;\">' +\n        '  <div style=\"width: 100% !important;\">' +\n        '  <!--[if (!mso)&(!IE)]><!--><div class=\"v-col-border\" style=\"border-color:' + status + '; padding: 0px;border-top: 0px solid transparent;border-left: 0px solid transparent;border-right: 0px solid transparent;border-bottom: 0px solid transparent;\"><!--<![endif]-->' +\n        '  ' +\n        '' +\n        '<table style=\"font-family:\\'Lato\\',sans-serif;\" role=\"presentation\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" border=\"0\">' +\n        '  <tbody>' +\n        '    <tr>' +\n        '      <td class=\"v-container-padding-padding\" style=\"overflow-wrap:break-word;word-break:break-word;padding:40px 40px 30px;font-family:\\'Lato\\',sans-serif;\" align=\"left\">' +\n        '        ' +\n        '  <div class=\"v-color\" style=\"color: #000000; line-height: 140%; text-align: left; word-wrap: break-word;\">' +\n        '    <p style=\"font-size: 14px; line-height: 140%;\"><span style=\"color: #888888; font-size: 14px; line-height: 19.6px;\"><em><span style=\"font-size: 16px; line-height: 22.4px;\">This is an automated system message, do not reply</span></em></span></p>' +\n        '<p style=\"font-size: 14px; line-height: 140%;\"> </p>' +\n        '  </div>' +\n        '' +\n        '      </td>' +\n        '    </tr>' +\n        '  </tbody>' +\n        '</table>' +\n        '' +\n        '' +\n        '  <!--[if (!mso)&(!IE)]><!--></div><!--<![endif]-->' +\n        '  </div>' +\n        '</div>' +\n        '<!--[if (mso)|(IE)]></td><![endif]-->' +\n        '      <!--[if (mso)|(IE)]></tr></table></td></tr></table><![endif]-->' +\n        '    </div>' +\n        '  </div>' +\n        '</div>' +\n        '' +\n        '' +\n        '' +\n        '<div class=\"u-row-container v-row-padding--vertical\" style=\"padding: 0px;background-color: transparent\">' +\n        '  <div class=\"u-row\" style=\"Margin: 0 auto;min-width: 320px;max-width: 600px;overflow-wrap: break-word;word-wrap: break-word;word-break: break-word;background-color: #f2f2f2;\">' +\n        '    <div style=\"border-collapse: collapse;display: table;width: 100%;background-color: transparent;\">' +\n        '      <!--[if (mso)|(IE)]><table width=\"100%\" cellpadding=\"0\" cellspacing=\"0\" border=\"0\"><tr><td style=\"padding: 0px;background-color: transparent;\" align=\"center\"><table cellpadding=\"0\" cellspacing=\"0\" border=\"0\" style=\"width:600px;\"><tr style=\"background-color: #f2f2f2;\"><![endif]-->' +\n        '      ' +\n        '<!--[if (mso)|(IE)]><td align=\"center\" width=\"300\" class=\"v-col-border\" style=\"border-color:' + status + '; width: 300px;padding: 20px 20px 0px;border-top: 0px solid transparent;border-left: 0px solid transparent;border-right: 0px solid transparent;border-bottom: 0px solid transparent;\" valign=\"top\"><![endif]-->' +\n        '<div class=\"u-col u-col-50\" style=\"max-width: 320px;min-width: 300px;display: table-cell;vertical-align: top;\">' +\n        '  <div style=\"width: 100% !important;\">' +\n        '  <!--[if (!mso)&(!IE)]><!--><div class=\"v-col-border\" style=\"border-color:' + status + '; padding: 20px 20px 0px;border-top: 0px solid transparent;border-left: 0px solid transparent;border-right: 0px solid transparent;border-bottom: 0px solid transparent;\"><!--<![endif]-->' +\n        '  ' +\n        '' +\n        '<table style=\"font-family:\\'Lato\\',sans-serif;\" role=\"presentation\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" border=\"0\">' +\n        '  <tbody>' +\n        '    <tr>' +\n        '      <td class=\"v-container-padding-padding\" style=\"overflow-wrap:break-word;word-break:break-word;padding:10px;font-family:\\'Lato\\',sans-serif;\" align=\"left\">' +\n        \n        '      </td>' +\n        '    </tr>' +\n        '  </tbody>' +\n        '</table>' +\n        '' +\n        '' +\n        '  <!--[if (!mso)&(!IE)]><!--></div><!--<![endif]-->' +\n        '  </div>' +\n        '</div>' +\n        '<!--[if (mso)|(IE)]></td><![endif]-->' +\n        '<!--[if (mso)|(IE)]><td align=\"center\" width=\"300\" class=\"v-col-border\" style=\"border-color:' + status + '; width: 300px;padding: 0px 0px 0px 20px;border-top: 0px solid transparent;border-left: 0px solid transparent;border-right: 0px solid transparent;border-bottom: 0px solid transparent;\" valign=\"top\"><![endif]-->' +\n        '<div class=\"u-col u-col-50\" style=\"max-width: 320px;min-width: 300px;display: table-cell;vertical-align: top;\">' +\n        '  <div style=\"width: 100% !important;\">' +\n        '  <!--[if (!mso)&(!IE)]><!--><div class=\"v-col-border\" style=\"border-color:' + status + '; padding: 0px 0px 0px 20px;border-top: 0px solid transparent;border-left: 0px solid transparent;border-right: 0px solid transparent;border-bottom: 0px solid transparent;\"><!--<![endif]-->' +\n        '  ' +\n        '' +\n        '<table id=\"u_content_social_1\" class=\"hide-mobile\" style=\"font-family:\\'Lato\\',sans-serif;\" role=\"presentation\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" border=\"0\">' +\n        '  <tbody>' +\n        '    <tr>' +\n        '      <td class=\"v-container-padding-padding\" style=\"overflow-wrap:break-word;word-break:break-word;padding:25px 10px 10px;font-family:\\'Lato\\',sans-serif;\" align=\"left\">' +\n        '        ' +\n        '<div align=\"left\">' +\n        ' <p class=\"text-align:center\">' + formatDate(new Date(), \"dd/MM/yy HH:MM\", false) + '</p>' +\n        '</div>' +\n        '' +\n        '      </td>' +\n        '    </tr>' +\n        '  </tbody>' +\n        '</table>' +\n        '' +\n        '' +\n        '' +\n        '<table id=\"u_content_text_6\" style=\"font-family:\\'Lato\\',sans-serif;\" role=\"presentation\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" border=\"0\">' +\n        '  <tbody>' +\n        '    <tr>' +\n        '      <td class=\"v-container-padding-padding\" style=\"overflow-wrap:break-word;word-break:break-word;padding:5px 10px 10px;font-family:\\'Lato\\',sans-serif;\" align=\"left\">' +\n        '        ' +\n        '  <div class=\"v-color\" style=\"color: #000000; line-height: 140%; text-align: left; word-wrap: break-word;\">' +\n        '    <p style=\"line-height: 140%; font-size: 14px; text-align: left;\"><span style=\"font-size: 14px; line-height: 19.6px; color: #000000;\"><span style=\"font-size: 14px; line-height: 19.6px;\"><span style=\"line-height: 19.6px; font-size: 14px;\">PestSense ©  All Rights Reserved</span></span></span></p>' +\n        '  </div>' +\n        '' +\n        '      </td>' +\n        '    </tr>' +\n        '  </tbody>' +\n        '</table>' +\n        '' +\n        '' +\n        '  <!--[if (!mso)&(!IE)]><!--></div><!--<![endif]-->' +\n        '  </div>' +\n        '</div>' +\n        '<!--[if (mso)|(IE)]></td><![endif]-->' +\n        '      <!--[if (mso)|(IE)]></tr></table></td></tr></table><![endif]-->' +\n        '    </div>' +\n        '  </div>' +\n        '</div>' +\n        '' +\n        '' +\n        '' +\n        '<div class=\"u-row-container v-row-padding--vertical\" style=\"padding: 0px;background-color: #f9f9f9\">' +\n        '  <div class=\"u-row\" style=\"Margin: 0 auto;min-width: 320px;max-width: 600px;overflow-wrap: break-word;word-wrap: break-word;word-break: break-word;background-color: #f2f2f2;\">' +\n        '    <div style=\"border-collapse: collapse;display: table;width: 100%;background-color: transparent;\">' +\n        '      <!--[if (mso)|(IE)]><table width=\"100%\" cellpadding=\"0\" cellspacing=\"0\" border=\"0\"><tr><td style=\"padding: 0px;background-color: #f9f9f9;\" align=\"center\"><table cellpadding=\"0\" cellspacing=\"0\" border=\"0\" style=\"width:600px;\"><tr style=\"background-color: #f2f2f2;\"><![endif]-->' +\n        '      ' +\n        '<!--[if (mso)|(IE)]><td align=\"center\" width=\"600\" class=\"v-col-border\" style=\"border-color:' + status + '; width: 600px;padding: 0px;border-top: 0px solid transparent;border-left: 0px solid transparent;border-right: 0px solid transparent;border-bottom: 0px solid transparent;\" valign=\"top\"><![endif]-->' +\n        '<div class=\"u-col u-col-100\" style=\"max-width: 320px;min-width: 600px;display: table-cell;vertical-align: top;\">' +\n        '  <div style=\"width: 100% !important;\">' +\n        '  <!--[if (!mso)&(!IE)]><!--><div class=\"v-col-border\" style=\"border-color:' + status + '; padding: 0px;border-top: 0px solid transparent;border-left: 0px solid transparent;border-right: 0px solid transparent;border-bottom: 0px solid transparent;\"><!--<![endif]-->' +\n        '  ' +\n        '' +\n        '<table style=\"font-family:\\'Lato\\',sans-serif;\" role=\"presentation\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" border=\"0\">' +\n        '  <tbody>' +\n        '    <tr>' +\n        '      <td class=\"v-container-padding-padding\" style=\"overflow-wrap:break-word;word-break:break-word;padding:15px;font-family:\\'Lato\\',sans-serif;\" align=\"left\">' +\n        '        ' +\n        '  <table height=\"0px\" align=\"center\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" style=\"border-collapse: collapse;table-layout: fixed;border-spacing: 0;mso-table-lspace: 0pt;mso-table-rspace: 0pt;vertical-align: top;border-top: 1px solid #1c103b;-ms-text-size-adjust: 100%;-webkit-text-size-adjust: 100%\">' +\n        '    <tbody>' +\n        '      <tr style=\"vertical-align: top\">' +\n        '        <td style=\"word-break: break-word;border-collapse: collapse !important;vertical-align: top;font-size: 0px;line-height: 0px;mso-line-height-rule: exactly;-ms-text-size-adjust: 100%;-webkit-text-size-adjust: 100%\">' +\n        '          <span> </span>' +\n        '        </td>' +\n        '      </tr>' +\n        '    </tbody>' +\n        '  </table>' +\n        '' +\n        '      </td>' +\n        '    </tr>' +\n        '  </tbody>' +\n        '</table>' +\n        '' +\n        '' +\n        '  <!--[if (!mso)&(!IE)]><!--></div><!--<![endif]-->' +\n        '  </div>' +\n        '</div>' +\n        '<!--[if (mso)|(IE)]></td><![endif]-->' +\n        '      <!--[if (mso)|(IE)]></tr></table></td></tr></table><![endif]-->' +\n        '    </div>' +\n        '  </div>' +\n        '</div>' +\n        '' +\n        '' +\n        '    <!--[if (mso)|(IE)]></td></tr></table><![endif]-->' +\n        '    </td>' +\n        '  </tr>' +\n        '  </tbody>' +\n        '  </table>' +\n        '  <!--[if mso]></div><![endif]-->' +\n        '  <!--[if IE]></div><![endif]-->' +\n        '</body>' +\n        '' +\n        '</html>';\n}"},"ev":{}},"ConsumedHandler":{"t":"Scripting","lX":1015,"lY":1120,"sX":1,"sY":1,"s":"Encircle Process","ps":{"enabled":false,"scalingType":"NOSCALE","width":"5.74%","height":"11.88%","x":"71.66%","y":"237.53%"},"ver":"190104c210519","dis":false,"tt":"","a":{"code editor":"// Javascript flow scripting.\n/**\n * Description: Constructs an email or SMS object given the bait information\n * Create Author/Date: \n * Modified Author/Date: \n * Version: \n */\n\n// Declare global variables here to be initialised at server startup\n\n/**\n * Initialise script state (run once at startup). Pass in channels set in script node widget\n */\nvar CompanyProducts;\n  \n//Path varibles\nvar selectedSites;\nvar selectedAreas;\nvar selectedCustomers;\nvar LogoLocation = \"https://yacht.sensahub.com/wlabel/brand_icon.png\";\n\nvar baitThreshold;\nvar baitThresholdUpper;\nvar triggerTreshold;\nvar triggerTresholdUpper;\nvar currentWeight;\nvar currentBaitType;\nvar currentBait;\nvar databaseBait;\nvar battery;\nvar Device;\nvar oldWeight;\nvar sensorHours = 0;\nvar justSensors = 0;\nvar foodDatePrint;\nvar currentArea;\nvar currentSite;\nvar currentCustomer;\nvar yellowTrigger;\nvar redTrigger;\nvar expiredDays;\nvar messageAlert;\nvar finalStatus;\nvar emailHolder;\nvar currentWeightConsumed;\nvar RemainignWeight;\nvar actualConsumed;\n \nDate.prototype.addDays = function (days) {\n    var date = new Date(this.valueOf());\n    date.setDate(date.getDate() + days);\n    return date;\n};\n \nScript.on(\"load\", function () {\n    GetBaits();\n    GetSites();\n    GetAreas();\n    GetCustomers();\n});\n \nfunction GetCustomers() {\n    var selectTraps = [\n        {\n            \"TableName\": \"Customers\", // Specify the primary table used to construct the join request\n            \"Join\": 1, // Join type 1 - Inner Join, 2 - Outer Join, 3 - Left join, 4 - Right Join.\n            \"Columns\":\n                [\n                \"Id\",\n                \"Name\", \n                \"Description\"\n                ], // Specify the list of columns to take from the reference table.\n\n        }];\n\n    var readRecord = Database.readCompound(\"rodent\", \"Customers\", selectTraps);\n\n    //Break if device isn't associated with a trap within the relational database.\n    var oldRecord = JSON.parse(readRecord);\n    selectedCustomers = oldRecord.data;\n}\n \nfunction GetAreas() {\n    var selectTraps = [\n        {\n            \"TableName\": \"Locations\", // Specify the primary table used to construct the join request\n            \"Join\": 1, // Join type 1 - Inner Join, 2 - Outer Join, 3 - Left join, 4 - Right Join.\n            \"Columns\":\n                [\n                \"Id\",\n                \"Name\", \n                \"Description\"\n                ], // Specify the list of columns to take from the reference table.\n        }];\n\n    var readRecord = Database.readCompound(\"rodent\", \"Locations\", selectTraps);\n\n    //Break if device isn't associated with a trap within the relational database.\n    var oldRecord = JSON.parse(readRecord);\n    selectedAreas = oldRecord.data;\n}\n \nfunction GetSites() {\n    var selectTraps = [\n        {\n            \"TableName\": \"Sites\", // Specify the primary table used to construct the join request\n            \"Join\": 1, // Join type 1 - Inner Join, 2 - Outer Join, 3 - Left join, 4 - Right Join.\n            \"Columns\":\n                [\n                \"Id\",\n                \"Name\", \n                \"Description\"\n                ], // Specify the list of columns to take from the reference table.\n        }];\n\n    var readRecord = Database.readCompound(\"rodent\", \"Sites\", selectTraps);\n\n    //Break if device isn't associated with a trap within the relational database.\n    var oldRecord = JSON.parse(readRecord);\n\n    selectedSites = oldRecord.data;\n}\n \nfunction GetBaits() {\n    var selectTraps = [\n        {\n            \"TableName\": \"CompanyProducts\", // Specify the primary table used to construct the join request\n            \"Join\": 1, // Join type 1 - Inner Join, 2 - Outer Join, 3 - Left join, 4 - Right Join.\n            \"Columns\":\n                [\n                    \"Id\",\n                    \"Name\",\n                    \"LowerThreshold\",\n                    \"UpperThreshold\"\n                ], // Specify the list of columns to take from the reference table.\n        }];\n\n\n    var readRecord = Database.readCompound(\"rodent\", \"Baits\", selectTraps);\n\n    //Break if device isn't associated with a trap within the relational database.\n    var oldRecord = JSON.parse(readRecord);\n    CompanyProducts = oldRecord.data\n    // In case device doesn't exist in the relational database or has a missing id\t\n}\n\n/**\n * Response to incoming flow message. eventData object passed in with:\n * eventData.value - incoming data value (string)\n * eventData.startCh - state of channel that initiated the flow and the channel details (Object. Members {channel}, {value})\n * @return {string} return a value to continue the flow or to cancel flow return null\n */\nScript.on(\"flow\", function (eventData) {\n    var result;\n \n    result = eventData.value;      // Adjust result with output of script processing\n    var dataPacket = JSON.parse(eventData.value);\n    if (dataPacket.RedAlert !== 0 || dataPacket.AmberAlert !== 0) {\n        var selectTraps = [\n            {\n                \"TableName\": \"Devices\", // Specify the primary table used to construct the join request\n                \"Join\": 1, // Join type 1 - Inner Join, 2 - Outer Join, 3 - Left join, 4 - Right Join.\n                \"Columns\":\n                    [\n                        \"Id\",\n                        \"State\",\n                        \"Hours\",\n                        \"SignalStrenght\",\n                        \"BaitRate\",\n                        \"DeviceBattery\",\n                        \"UpdateTime\",\n                        \"CompanyProductId\",\n                        \"DeviceNumber\",\n                        \"LocationId\",\n                        \"SiteId\",\n                        \"CustomerId\",\n                        \"Expiry\",\n                        \"FoodDate\",\n                        \"IsYellow\",\n                        \"IsRed\",\n                        \"Owner\",\n                        \"CalculatedWeight\",\n                        \"WeightConsumed\"\n                    ], // Specify the list of columns to take from the reference table.\n                \"Filters\": // Filter options in case they are needed.\n                    [\n                        {\n                            \"Column\": \"Sid\", //Column that will be applied (don't include table name will be resolved if its contained within the reference table.\n                            \"ParamName\": \"sid\", // Parameter name, must be unique and should not contain $ as its resolved by the mapper. \n                            \"Value\": dataPacket.Sid // Value that you want to pass for comparison (any object)\n                        }\n                    ]\n            }];\n\n        var readRecord = Database.readCompound(\"rodent\", \"Devices\", selectTraps);\n        //Break if device isn't associated with a trap within the relational database.\n\n        var selected;\n        var oldRecord = JSON.parse(readRecord);\n\n\n        for (var row in oldRecord.data) {\n            selected = oldRecord.data[row];\n        }\n        // In case device doesn't exist in the relational database or has a missing id\n        if (selected === undefined) {\n            System.writeLog(\"Device data rejected, not associated with any bait box in rodent database!!!\");\n            return null;\n        }\n\t\t \n        var updateTime;\n        var currentHours = 0;\n\t\tdatabaseBait = parseInt(selected[4]);\n\t\tcurrentBait = selected[7];\n\t\tDevice = selected[8];\n\t\toldWeight = selected[4];\n\t\tcurrentArea = selected[9];\n\t\tcurrentSite = selected[10];\n\t\tcurrentCustomer = selected[11];       \n\t\tvar expieryDays = selected[12];\n\t\tbattery = selected[5];\n\t\tvar foodDateVal = new Date(selected[13]);\n\t\tyellowTrigger = parseInt(selected[14]);\n\t\tredTrigger = parseInt(selected[15]);\n\t\temailHolder = selected[16];\n\t\tRemainignWeight = Math.round(parseFloat(selected[17]));\n         actualConsumed = Math.round(parseFloat(selected[18]));\n\t\tvar foodDate;\n\t\tvar date = new Date();\n\t\tbattery = Math.min(100, Math.round((parseFloat(battery) / 6.3) * 100));\n\t\tcurrentWeightConsumed = Math.round(parseFloat(dataPacket.Consumed));\n        \n\t\tif (foodDateVal !== \"\" && foodDateVal !== undefined) {\n\t\t    if (foodDateVal.toString() !== 'Invalid date') {\n\t\t\t\tfoodDatePrint = formatDate(foodDateVal, \"dd/MM/yy\", false);\n\t\t    } else {\n\t\t\t\tfoodDatePrint = \"--\";\n\t\t\t}\n\t\t} else {\n\t\t\tfoodDatePrint = \"--\";\n\t\t}\n\n        sensorHours = parseInt(selected[2]);\n\t\t \n        var statusColor;\n        if (dataPacket.RedAlert === 0 && dataPacket.AmberAlert === 1) {\n            statusColor = \"orange\";\n            return NotifyStatusAlert(statusColor);\n\n        } else if(dataPacket.RedAlert === 1) {\n            statusColor = \"red\";\n            return NotifyStatusAlert(statusColor);\n        }\n    }\n});\n \nfunction evenRound(num, decimalPlaces) {\n    var d = decimalPlaces || 0;\n    var m = Math.pow(10, d);\n    var n = +(d ? num * m : num).toFixed(8); // Avoid rounding errors\n    var i = Math.floor(n), f = n - i;\n    var e = 1e-8; // Allow for rounding errors in f\n    var r = (f > 0.5 - e && f < 0.5 + e) ?\n        ((i % 2 == 0) ? i : i + 1) : Math.round(n);\n    return d ? r / m : r;\n}\n \nfunction IsInteger(value) {\n    return typeof value === 'number' &&\n        isFinite(value) &&\n        Math.floor(value) === value;\n}\n\nfunction NotifyStatusAlert(statusColor) {\n    var email = {};\n    var filters = [\n        \n\n    ];\n\tvar smsStatus = false;\n    if (emailHolder !== undefined) {\n        filters.push({\n            \"Column\": \"username\", //Column that will be applied (don't include table name will be resolved if its contained within the reference table.\n            \"ParamName\": \"receiver\", // Parameter name, must be unique and should not contain $ as its resolved by the mapper. \n            \"Value\": emailHolder // Value that you want to pass for comparison (any object)\n        });\n    }\n\n    var selectUsers = [\n        {\n            \"TableName\": \"users\", // Specify the primary table used to construct the join request\n            \"Join\": 1, // Join type 1 - Inner Join, 2 - Outer Join, 3 - Left join, 4 - Right Join.\n            \"Columns\":\n                [\n                    \"username\",\n                    \"email\",\n\t\t\t\t\t\"mobile\"\n                ], // Specify the list of columns to take from the reference table.\n            \"Filters\": filters // Filter options in case they are needed.\n\n        }];\n\n    var readRecord = Database.readCompound(\"Directory\", \"users\", selectUsers);\n    var recordData = JSON.parse(readRecord);\n    //var currentData = JSON.parse(recordData.data);\n\n    //If users exist\n    var usrArr = [];\n\tvar mobile;\n    if (Object.keys(recordData.data).length > 0) {\n        for (var user in recordData.data) {\n            if (recordData.data[user][1] !== \"\") {\n                usrArr.push(recordData.data[user][1]);\n\t\t\t\tmobile = recordData.data[user][2];\n\t\t\t\tsmsStatus = true;\n            }\n        }\n    }\n\n    var selectedBaitType;\n    var selectedBait;\n    var selectedCustomer;\n    var selectedSite;\n    var selectedArea;\n    var calculatedWeight = 0;\n \n    for (var customer in selectedCustomers) {\n        var current2 = selectedCustomers[customer];\n        if (current2[0] === currentCustomer) {\n            selectedCustomer = current2[1];\n        }\n    }\n \n    for (var area in selectedAreas) {\n        var current3 = selectedAreas[area];\n        if (current3[0] === currentArea) {\n            selectedArea = current3[1];\n        }\n    }\n \n    for (var site in selectedSites) {\n        var current4 = selectedSites[site];\n        if (current4[0] === currentSite) {\n            selectedSite = current4[1];\n        }\n    }\n \n    for (var bait in CompanyProducts) {\n        var current1 = CompanyProducts[bait];\n        if (current1[0] === currentBait) {\n            selectedBait = current1[1];\n        }\n    }\n\t\n    var weightChanged = false;\n    if (parseInt(oldWeight) != parseInt(databaseBait)) {\n        calculatedWeight = (parseInt(oldWeight) - parseInt(databaseBait));\n        weightChanged = true;\n    }\n\n    var subject;\n    subject = \"Status Change Alert – \" + Device + \" 24h Bait Taken Rate is \" + currentWeightConsumed + \"%\";\n    messageAlert = \"24h Bait Taken Rate is \" + currentWeightConsumed + \"%\";\n   \n    var message = GetMessageBody(Device, selectedBaitType, selectedBait, battery, statusColor, selectedCustomer, selectedArea, selectedSite);\n    email.data = message;\n    email.usrArr = usrArr;\n\tusrArr.push(\"alertstg@sensahub.com\");\n    \n \tvar smsContent =  \"Status Change Alert \" + Device + \" 24h Bait Taken Rate is \" + currentWeightConsumed + \"%\" + \" Located At: \"+ selectedSite;\n\tif (statusColor === \"red\") {\n\t\tsmsStatus = true;\n\t\tif (mobile === undefined) {\n\t\t\tsmsStatus = false;\n\t\t}\n\t} else {\n\t\tsmsStatus = false;\n\t}\n\treturn JSON.stringify({\n        email: { \"to\": usrArr, \"subject\": subject, \"body\": message },\n        SMSOPTIONS: {\n            sms:{to:[mobile],body:smsContent},\n            Enabled: smsStatus\n        }\n    });\n}\n \nfunction formatDate(date, format, utc) {\n    var MMMM = [\"\\x00\", \"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\n    var MMM = [\"\\x01\", \"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"];\n    var dddd = [\"\\x02\", \"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"];\n    var ddd = [\"\\x03\", \"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"];\n    function ii(i, len) { var s = i + \"\"; len = len || 2; while (s.length < len) s = \"0\" + s; return s; }\n\n    var y = utc ? date.getUTCFullYear() : date.getFullYear();\n    format = format.replace(/(^|[^\\\\])yyyy+/g, \"$1\" + y);\n    format = format.replace(/(^|[^\\\\])yy/g, \"$1\" + y.toString().substr(2, 2));\n    format = format.replace(/(^|[^\\\\])y/g, \"$1\" + y);\n\n    var M = (utc ? date.getUTCMonth() : date.getMonth()) + 1;\n    format = format.replace(/(^|[^\\\\])MMMM+/g, \"$1\" + MMMM[0]);\n    format = format.replace(/(^|[^\\\\])MMM/g, \"$1\" + MMM[0]);\n    format = format.replace(/(^|[^\\\\])MM/g, \"$1\" + ii(M));\n    format = format.replace(/(^|[^\\\\])M/g, \"$1\" + M);\n\n    var d = utc ? date.getUTCDate() : date.getDate();\n    format = format.replace(/(^|[^\\\\])dddd+/g, \"$1\" + dddd[0]);\n    format = format.replace(/(^|[^\\\\])ddd/g, \"$1\" + ddd[0]);\n    format = format.replace(/(^|[^\\\\])dd/g, \"$1\" + ii(d));\n    format = format.replace(/(^|[^\\\\])d/g, \"$1\" + d);\n\n    var H = utc ? date.getUTCHours() : date.getHours();\n    format = format.replace(/(^|[^\\\\])HH+/g, \"$1\" + ii(H));\n    format = format.replace(/(^|[^\\\\])H/g, \"$1\" + H);\n\n    var h = H > 12 ? H - 12 : H == 0 ? 12 : H;\n    format = format.replace(/(^|[^\\\\])hh+/g, \"$1\" + ii(h));\n    format = format.replace(/(^|[^\\\\])h/g, \"$1\" + h);\n\n    var m = utc ? date.getUTCMinutes() : date.getMinutes();\n    format = format.replace(/(^|[^\\\\])mm+/g, \"$1\" + ii(m));\n    format = format.replace(/(^|[^\\\\])m/g, \"$1\" + m);\n\n    var s = utc ? date.getUTCSeconds() : date.getSeconds();\n    format = format.replace(/(^|[^\\\\])ss+/g, \"$1\" + ii(s));\n    format = format.replace(/(^|[^\\\\])s/g, \"$1\" + s);\n\n    var f = utc ? date.getUTCMilliseconds() : date.getMilliseconds();\n    format = format.replace(/(^|[^\\\\])fff+/g, \"$1\" + ii(f, 3));\n    f = Math.round(f / 10);\n    format = format.replace(/(^|[^\\\\])ff/g, \"$1\" + ii(f));\n    f = Math.round(f / 10);\n    format = format.replace(/(^|[^\\\\])f/g, \"$1\" + f);\n\n    var T = H < 12 ? \"AM\" : \"PM\";\n    format = format.replace(/(^|[^\\\\])TT+/g, \"$1\" + T);\n    format = format.replace(/(^|[^\\\\])T/g, \"$1\" + T.charAt(0));\n \n    var t = T.toLowerCase();\n    format = format.replace(/(^|[^\\\\])tt+/g, \"$1\" + t);\n    format = format.replace(/(^|[^\\\\])t/g, \"$1\" + t.charAt(0));\n\n    var tz = -date.getTimezoneOffset();\n    var K = utc || !tz ? \"Z\" : tz > 0 ? \"+\" : \"-\";\n    if (!utc) {\n        tz = Math.abs(tz);\n        var tzHrs = Math.floor(tz / 60);\n        var tzMin = tz % 60;\n        K += ii(tzHrs) + \":\" + ii(tzMin);\n    }\n    format = format.replace(/(^|[^\\\\])K/g, \"$1\" + K);\n\n    var day = (utc ? date.getUTCDay() : date.getDay()) + 1;\n    format = format.replace(new RegExp(dddd[0], \"g\"), dddd[day]);\n    format = format.replace(new RegExp(ddd[0], \"g\"), ddd[day]);\n\n    format = format.replace(new RegExp(MMMM[0], \"g\"), MMMM[M]);\n    format = format.replace(new RegExp(MMM[0], \"g\"), MMM[M]);\n\n    format = format.replace(/\\\\(.)/g, \"$1\");\n\n    return format;\n}\n \n  \n \nfunction GetMessageBody(device, baitType, baitName, battery, status, customer, area, site) {\n    return '<!DOCTYPE HTML PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional //EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\">' +\n        '<html xmlns=\"http://www.w3.org/1999/xhtml\" xmlns:v=\"urn:schemas-microsoft-com:vml\" xmlns:o=\"urn:schemas-microsoft-com:office:office\">' +\n        '<head>' +\n        '<!--[if gte mso 9]>' +\n        '<xml>' +\n        '  <o:OfficeDocumentSettings>' +\n        '    <o:AllowPNG/>' +\n        '    <o:PixelsPerInch>96</o:PixelsPerInch>' +\n        '  </o:OfficeDocumentSettings>' +\n        '</xml>' +\n        '<![endif]-->' +\n        '  <meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\">' +\n        '  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">' +\n        '  <meta name=\"x-apple-disable-message-reformatting\">' +\n        '  <!--[if !mso]><!--><meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\"><!--<![endif]-->' +\n        '  <title></title>' +\n        '  ' +\n        '    <style type=\"text/css\">' +\n        '      a { color: #161a39; text-decoration: underline; } @media (max-width: 480px) { #u_row_12.v-row-padding--vertical { padding-top: 0px !important; padding-bottom: 0px !important; } #u_column_13 .v-col-border { border-top: 0px solid transparent !important;border-left: 6px solid  !important;border-right: 0px solid transparent !important;border-bottom: 0px solid transparent !important; } #u_row_18.v-row-padding--vertical { padding-top: 0px !important; padding-bottom: 0px !important; } #u_column_27 .v-col-border { border-top: 0px solid transparent !important;border-left: 6px solid #ec1414 !important;border-right: 0px solid transparent !important;border-bottom: 0px solid transparent !important; } #u_content_text_60 .v-container-padding-padding { padding: 2px !important; } #u_content_text_72 .v-container-padding-padding { padding: 13px 10px 10px !important; } #u_content_text_71 .v-container-padding-padding { padding: 22px 10px 10px !important; } #u_content_text_70 .v-container-padding-padding { padding: 21px 10px 10px !important; } #u_content_text_68 .v-container-padding-padding { padding: 10px !important; } #u_content_text_73 .v-container-padding-padding { padding: 17px 10px 10px !important; } #u_content_social_1 .v-container-padding-padding { padding: 26px 10px 10px !important; } #u_content_text_6 .v-color { color: #000000 !important; } }' +\n        '@media only screen and (min-width: 620px) {' +\n        '  .u-row {' +\n        '    width: 600px !important;' +\n        '  }' +\n        '  .u-row .u-col {' +\n        '    vertical-align: top;' +\n        '  }' +\n        '' +\n        '  .u-row .u-col-32p01 {' +\n        '    width: 192.06px !important;' +\n        '  }' +\n        '' +\n        '  .u-row .u-col-50 {' +\n        '    width: 300px !important;' +\n        '  }' +\n        '' +\n        '  .u-row .u-col-67p99 {' +\n        '    width: 407.94px !important;' +\n        '  }' +\n        '' +\n        '  .u-row .u-col-100 {' +\n        '    width: 600px !important;' +\n        '  }' +\n        '' +\n        '}' +\n        '' +\n        '@media (max-width: 620px) {' +\n        '  .u-row-container {' +\n        '    max-width: 100% !important;' +\n        '    padding-left: 0px !important;' +\n        '    padding-right: 0px !important;' +\n        '  }' +\n        '  .u-row .u-col {' +\n        '    min-width: 320px !important;' +\n        '    max-width: 100% !important;' +\n        '    display: block !important;' +\n        '  }' +\n        '  .u-row {' +\n        '    width: calc(100% - 40px) !important;' +\n        '  }' +\n        '  .u-col {' +\n        '    width: 100% !important;' +\n        '  }' +\n        '  .u-col > div {' +\n        '    margin: 0 auto;' +\n        '  }' +\n        '  .no-stack .u-col {' +\n        '    min-width: 0 !important;' +\n        '    display: table-cell !important;' +\n        '  }' +\n        '' +\n        '  .no-stack .u-col-32p01 {' +\n        '    width: 32.01% !important;' +\n        '  }' +\n        '' +\n        '.no-stack .u-col-67p99 {' +\n        '    width: 67.99% !important;' +\n        '  }' +\n        '' +\n        '}' +\n        'body {' +\n        '  margin: 0;' +\n        '  padding: 0;' +\n        '}' +\n        '' +\n        'table,' +\n        'tr,' +\n        'td {' +\n        '  vertical-align: top;' +\n        '  border-collapse: collapse;' +\n        '}' +\n        '' +\n        'p {' +\n        '  margin: 0;' +\n        '}' +\n        '' +\n        '.ie-container table,' +\n        '.mso-container table {' +\n        '  table-layout: fixed;' +\n        '}' +\n        '' +\n        '* {' +\n        '  line-height: inherit;' +\n        '}' +\n        '' +\n        'a[x-apple-data-detectors=\\'true\\'] {' +\n        '  color: inherit !important;' +\n        '  text-decoration: none !important;' +\n        '}' +\n        '' +\n        '@media (max-width: 480px) {' +\n        '  .hide-mobile {' +\n        '    display: none !important;' +\n        '    max-height: 0px;' +\n        '    overflow: hidden;' +\n        '  }' +\n        '' +\n        '  .hide-desktop {' +\n        '    display: block !important;' +\n        '  }' +\n        '}' +\n        '    </style>' +\n        '  ' +\n        '  ' +\n        '' +\n        '<!--[if !mso]><!--><link href=\"https://fonts.googleapis.com/css?family=Lato:400,700&display=swap\" rel=\"stylesheet\" type=\"text/css\"><!--<![endif]-->' +\n        '' +\n        '</head>' +\n        '' +\n        '<body class=\"clean-body\" style=\"margin: 0;padding: 0;-webkit-text-size-adjust: 100%;background-color: #f9f9f9\">' +\n        '  <!--[if IE]><div class=\"ie-container\"><![endif]-->' +\n        '  <!--[if mso]><div class=\"mso-container\"><![endif]-->' +\n        '  <table style=\"border-collapse: collapse;table-layout: fixed;border-spacing: 0;mso-table-lspace: 0pt;mso-table-rspace: 0pt;vertical-align: top;min-width: 320px;Margin: 0 auto;background-color: #f9f9f9;width:100%\" cellpadding=\"0\" cellspacing=\"0\">' +\n        '  <tbody>' +\n        '  <tr style=\"vertical-align: top\">' +\n        '    <td style=\"word-break: break-word;border-collapse: collapse !important;vertical-align: top\">' +\n        '    <!--[if (mso)|(IE)]><table width=\"100%\" cellpadding=\"0\" cellspacing=\"0\" border=\"0\"><tr><td align=\"center\" style=\"background-color: #f9f9f9;\"><![endif]-->' +\n        '    ' +\n        '' +\n        '<div class=\"u-row-container v-row-padding--vertical\" style=\"padding: 0px;background-color: #f9f9f9\">' +\n        '  <div class=\"u-row\" style=\"Margin: 0 auto;min-width: 320px;max-width: 600px;overflow-wrap: break-word;word-wrap: break-word;word-break: break-word;background-color: #f9f9f9;\">' +\n        '    <div style=\"border-collapse: collapse;display: table;width: 100%;background-color: transparent;\">' +\n        '      <!--[if (mso)|(IE)]><table width=\"100%\" cellpadding=\"0\" cellspacing=\"0\" border=\"0\"><tr><td style=\"padding: 0px;background-color: #f9f9f9;\" align=\"center\"><table cellpadding=\"0\" cellspacing=\"0\" border=\"0\" style=\"width:600px;\"><tr style=\"background-color: #f9f9f9;\"><![endif]-->' +\n        '      ' +\n        '<!--[if (mso)|(IE)]><td align=\"center\" width=\"600\" class=\"v-col-border\" style=\"border-color:' + status + '; width: 600px;padding: 0px;border-top: 0px solid transparent;border-left: 0px solid transparent;border-right: 0px solid transparent;border-bottom: 0px solid transparent;\" valign=\"top\"><![endif]-->' +\n        '<div class=\"u-col u-col-100\" style=\"max-width: 320px;min-width: 600px;display: table-cell;vertical-align: top;\">' +\n        '  <div style=\"width: 100% !important;\">' +\n        '  <!--[if (!mso)&(!IE)]><!--><div class=\"v-col-border\" style=\"border-color:' + status + '; padding: 0px;border-top: 0px solid transparent;border-left: 0px solid transparent;border-right: 0px solid transparent;border-bottom: 0px solid transparent;\"><!--<![endif]-->' +\n        '  ' +\n        '' +\n        '<table style=\"font-family:\\'Lato\\',sans-serif;\" role=\"presentation\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" border=\"0\">' +\n        '  <tbody>' +\n        '    <tr>' +\n        '      <td class=\"v-container-padding-padding\" style=\"overflow-wrap:break-word;word-break:break-word;padding:15px;font-family:\\'Lato\\',sans-serif;\" align=\"left\">' +\n        '        ' +\n        '  <table height=\"0px\" align=\"center\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" style=\"border-collapse: collapse;table-layout: fixed;border-spacing: 0;mso-table-lspace: 0pt;mso-table-rspace: 0pt;vertical-align: top;border-top: 1px solid #f9f9f9;-ms-text-size-adjust: 100%;-webkit-text-size-adjust: 100%\">' +\n        '    <tbody>' +\n        '      <tr style=\"vertical-align: top\">' +\n        '        <td style=\"word-break: break-word;border-collapse: collapse !important;vertical-align: top;font-size: 0px;line-height: 0px;mso-line-height-rule: exactly;-ms-text-size-adjust: 100%;-webkit-text-size-adjust: 100%\">' +\n        '          <span> </span>' +\n        '        </td>' +\n        '      </tr>' +\n        '    </tbody>' +\n        '  </table>' +\n        '' +\n        '      </td>' +\n        '    </tr>' +\n        '  </tbody>' +\n        '</table>' +\n        '' +\n        '' +\n        '  <!--[if (!mso)&(!IE)]><!--></div><!--<![endif]-->' +\n        '  </div>' +\n        '</div>' +\n        '<!--[if (mso)|(IE)]></td><![endif]-->' +\n        '      <!--[if (mso)|(IE)]></tr></table></td></tr></table><![endif]-->' +\n        '    </div>' +\n        '  </div>' +\n        '</div>' +\n        '' +\n        '' +\n        '' +\n        '<div class=\"u-row-container v-row-padding--vertical\" style=\"padding: 0px;background-color: transparent\">' +\n        '  <div class=\"u-row\" style=\"Margin: 0 auto;min-width: 320px;max-width: 600px;overflow-wrap: break-word;word-wrap: break-word;word-break: break-word; \">' +\n        '    <div style=\"border-collapse: collapse;display: table;width: 100%;background-color: transparent;\">' +\n        '      <!--[if (mso)|(IE)]><table width=\"100%\" cellpadding=\"0\" cellspacing=\"0\" border=\"0\"><tr><td style=\"padding: 0px;background-color: transparent;\" align=\"center\"><table cellpadding=\"0\" cellspacing=\"0\" border=\"0\" style=\"width:600px;\"><tr style=\" \"><![endif]-->' +\n        '      ' +\n        '<!--[if (mso)|(IE)]><td align=\"center\" width=\"600\" class=\"v-col-border\" style=\"border-color:' + status + '; width: 600px;padding: 0px;border-top: 0px solid transparent;border-left: 0px solid transparent;border-right: 0px solid transparent;border-bottom: 0px solid transparent;\" valign=\"top\"><![endif]-->' +\n        '<div class=\"u-col u-col-100\" style=\"max-width: 320px;min-width: 600px;display: table-cell;vertical-align: top;\">' +\n        '  <div style=\"width: 100% !important;\">' +\n        '  <!--[if (!mso)&(!IE)]><!--><div class=\"v-col-border\" style=\"border-color:' + status + '; padding: 0px;border-top: 0px solid transparent;border-left: 0px solid transparent;border-right: 0px solid transparent;border-bottom: 0px solid transparent;\"><!--<![endif]-->' +\n        '  ' +\n        '' +\n        '<table style=\"font-family:\\'Lato\\',sans-serif;\" role=\"presentation\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" border=\"0\">' +\n        '  <tbody>' +\n        '    <tr>' +\n        '      <td class=\"v-container-padding-padding\" style=\"overflow-wrap:break-word;word-break:break-word;padding:25px 10px;font-family:\\'Lato\\',sans-serif;\" align=\"left\">' +\n        '        ' +\n        '<table width=\"100%\" cellpadding=\"0\" cellspacing=\"0\" border=\"0\">' +\n        '  <tr>' +\n        '    <td style=\"padding-right: 0px;padding-left: 0px;\" align=\"center\">' +\n        '      ' +\n        '      <img align=\"center\" border=\"0\" src=\"'+LogoLocation+'\" alt=\"Image\" title=\"Image\" style=\"outline: none;text-decoration: none;-ms-interpolation-mode: bicubic;clear: both;display: inline-block !important;border: none;height: auto;float: none;width: 14%;max-width: 81.2px;\" width=\"81.2\"/>' +\n        '      ' +\n        '    </td>' +\n        '  </tr>' +\n        '</table>' +\n        '' +\n        '      </td>' +\n        '    </tr>' +\n        '  </tbody>' +\n        '</table>' +\n        '' +\n        '' +\n        '  <!--[if (!mso)&(!IE)]><!--></div><!--<![endif]-->' +\n        '  </div>' +\n        '</div>' +\n        '<!--[if (mso)|(IE)]></td><![endif]-->' +\n        '      <!--[if (mso)|(IE)]></tr></table></td></tr></table><![endif]-->' +\n        '    </div>' +\n        '  </div>' +\n        '</div>' +\n        '' +\n        '' +\n        '' +\n        '<div id=\"u_row_12\" class=\"u-row-container v-row-padding--vertical hide-mobile\" style=\"padding: 0px; \">' +\n        '  <div class=\"u-row no-stack\" style=\"Margin: 0 auto;min-width: 320px;max-width: 600px;overflow-wrap: break-word;word-wrap: break-word;word-break: break-word;background-color: transparent;\">' +\n        '    <div style=\"border-collapse: collapse;display: table;width: 100%;background-color: transparent;\">' +\n        '      <!--[if (mso)|(IE)]><table width=\"100%\" cellpadding=\"0\" cellspacing=\"0\" border=\"0\"><tr><td style=\"padding: 0px; \" align=\"center\"><table cellpadding=\"0\" cellspacing=\"0\" border=\"0\" style=\"width:600px;\"><tr style=\"background-color: transparent;\"><![endif]-->' +\n        '      ' +\n        '<!--[if (mso)|(IE)]><td align=\"center\" width=\"186\" class=\"v-col-border\" style=\"border-color:' + status + '; background-color: #f2f2f2;width: 186px;padding: 0px;border-top: 0px solid transparent;border-left: 6px solid ' + status + ';border-right: 0px solid transparent;border-bottom: 0px solid transparent;\" valign=\"top\"><![endif]-->' +\n        '<div id=\"u_column_13\" class=\"u-col u-col-32p01\" style=\"max-width: 320px;min-width: 192px;display: table-cell;vertical-align: top;\">' +\n        '  <div style=\"background-color: #f2f2f2;width: 100% !important;\">' +\n        '  <!--[if (!mso)&(!IE)]><!--><div class=\"v-col-border\" style=\"border-color:' + status + '; padding: 0px;border-top: 0px solid transparent;border-left: 6px solid ' + status + ';border-right: 0px solid transparent;border-bottom: 0px solid transparent;\"><!--<![endif]-->' +\n        '  ' +\n        '' +\n        '<table style=\"font-family:\\'Lato\\',sans-serif;\" role=\"presentation\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" border=\"0\">' +\n        '  <tbody>' +\n        '    <tr>' +\n        '      <td class=\"v-container-padding-padding\" style=\"overflow-wrap:break-word;word-break:break-word;padding:10px;font-family:\\'Lato\\',sans-serif;\" align=\"left\">' +\n        '        ' +\n        '  <div class=\"v-color\" style=\"color: #000000; line-height: 140%; text-align: left; word-wrap: break-word;\">' +\n        '    ' +\n        '  </div>' +\n        '' +\n        '      </td>' +\n        '    </tr>' +\n        '  </tbody>' +\n        '</table>' +\n        '' +\n        '' +\n        '' +\n        '<table style=\"font-family:\\'Lato\\',sans-serif;\" role=\"presentation\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" border=\"0\">' +\n        '  <tbody>' +\n        '    <tr>' +\n        '      <td class=\"v-container-padding-padding\" style=\"overflow-wrap:break-word;word-break:break-word;padding:10px;font-family:\\'Lato\\',sans-serif;\" align=\"left\">' +\n        '        ' +\n        '  <div class=\"v-color\" style=\"color: #000000; line-height: 140%; text-align: left; word-wrap: break-word;\">' +\n        '    <p style=\"font-size: 14px; line-height: 140%; text-align: right;\">Alert</p>' +\n        '  </div>' +\n        '' +\n        '      </td>' +\n        '    </tr>' +\n        '  </tbody>' +\n        '</table>' +\n        '' +\n        '' +\n        '' +\n        '<table style=\"font-family:\\'Lato\\',sans-serif;\" role=\"presentation\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" border=\"0\">' +\n        '  <tbody>' +\n        '    <tr>' +\n        '      <td class=\"v-container-padding-padding\" style=\"overflow-wrap:break-word;word-break:break-word;padding:10px;font-family:\\'Lato\\',sans-serif;\" align=\"left\">' +\n        '        ' +\n        '  <div class=\"v-color\" style=\"color: #000000; line-height: 140%; text-align: left; word-wrap: break-word;\">' +\n        '    ' +\n        '  </div>' +\n        '' +\n        '      </td>' +\n        '    </tr>' +\n        '  </tbody>' +\n        '</table>' +\n        '' +\n        '' +\n        '' +\n        '<table style=\"font-family:\\'Lato\\',sans-serif;\" role=\"presentation\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" border=\"0\">' +\n        '  <tbody>' +\n        '    <tr>' +\n        '      <td class=\"v-container-padding-padding\" style=\"overflow-wrap:break-word;word-break:break-word;padding:10px;font-family:\\'Lato\\',sans-serif;\" align=\"left\">' +\n        '        ' +\n        '  <div class=\"v-color\" style=\"color: #000000; line-height: 140%; text-align: left; word-wrap: break-word;\">' +\n        '    <p style=\"font-size: 14px; line-height: 140%; text-align: right;\">Location</p>' +\n        '  </div>' +\n        '' +\n        '      </td>' +\n        '    </tr>' +\n        '  </tbody>' +\n        '</table>' +\n        '' +\n        '' +\n        '' +\n        '<table style=\"font-family:\\'Lato\\',sans-serif;\" role=\"presentation\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" border=\"0\">' +\n        '  <tbody>' +\n        '    <tr>' +\n        '      <td class=\"v-container-padding-padding\" style=\"overflow-wrap:break-word;word-break:break-word;padding:10px;font-family:\\'Lato\\',sans-serif;\" align=\"left\">' +\n        '        ' +\n        '  <div class=\"v-color\" style=\"color: #000000; line-height: 140%; text-align: left; word-wrap: break-word;\">' +\n        '    <p style=\"font-size: 14px; line-height: 140%; text-align: right;\">Device</p>' +\n        '  </div>' +\n        '' +\n        '      </td>' +\n        '    </tr>' +\n        '  </tbody>' +\n        '</table>' +\n        '' +\n        '' +\n        '' +\n        '<table style=\"font-family:\\'Lato\\',sans-serif;\" role=\"presentation\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" border=\"0\">' +\n        '  <tbody>' +\n        '    <tr>' +\n        '      <td class=\"v-container-padding-padding\" style=\"overflow-wrap:break-word;word-break:break-word;padding:10px;font-family:\\'Lato\\',sans-serif;\" align=\"left\">' +\n        '        ' +\n        '  <div class=\"v-color\" style=\"color: #000000; line-height: 140%; text-align: left; word-wrap: break-word;\">' +\n        '    <p style=\"font-size: 14px; line-height: 140%; text-align: right;\">Bait Left</p>' +\n        '  </div>' +\n        '' +\n        '      </td>' +\n        '    </tr>' +\n        '  </tbody>' +\n        '</table>' +\n        '' +\n        '' +\n        '' +\n        '' +\n        '' +\n        '' +\n        '<table style=\"font-family:\\'Lato\\',sans-serif;\" role=\"presentation\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" border=\"0\">' +\n        '  <tbody>' +\n        '    <tr>' +\n        '      <td class=\"v-container-padding-padding\" style=\"overflow-wrap:break-word;word-break:break-word;padding:10px;font-family:\\'Lato\\',sans-serif;\" align=\"left\">' +\n        '        ' +\n        '  <div class=\"v-color\" style=\"color: #000000; line-height: 140%; text-align: left; word-wrap: break-word;\">' +\n        '    <p style=\"font-size: 14px; line-height: 140%; text-align: right;\">Bait Taken</p>' +\n        '  </div>' +\n        '' +\n        '      </td>' +\n        '    </tr>' +\n        '  </tbody>' +\n        '</table>' +\n        '' +\n        '' +\n        '' +\n        '<table style=\"font-family:\\'Lato\\',sans-serif;\" role=\"presentation\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" border=\"0\">' +\n        '  <tbody>' +\n        '    <tr>' +\n        '      <td class=\"v-container-padding-padding\" style=\"overflow-wrap:break-word;word-break:break-word;padding:10px;font-family:\\'Lato\\',sans-serif;\" align=\"left\">' +\n        '        ' +\n        '  <div class=\"v-color\" style=\"color: #000000; line-height: 140%; text-align: left; word-wrap: break-word;\">' +\n        '    <p style=\"font-size: 14px; line-height: 140%; text-align: right;\">Motion Count</p>' +\n        '  </div>' +\n        '' +\n        '      </td>' +\n        '    </tr>' +\n        '  </tbody>' +\n        '</table>' +\n        '' +\n        '' +\n        '' +\n        '<table style=\"font-family:\\'Lato\\',sans-serif;\" role=\"presentation\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" border=\"0\">' +\n        '  <tbody>' +\n        '    <tr>' +\n        '      <td class=\"v-container-padding-padding\" style=\"overflow-wrap:break-word;word-break:break-word;padding:10px;font-family:\\'Lato\\',sans-serif;\" align=\"left\">' +\n        '        ' +\n        '  <div class=\"v-color\" style=\"color: #000000; line-height: 140%; text-align: left; word-wrap: break-word;\">' +\n        '    <p style=\"font-size: 14px; line-height: 140%; text-align: right;\">Next Check</p>' +\n        '  </div>' +\n        '' +\n        '      </td>' +\n        '    </tr>' +\n        '  </tbody>' +\n        '</table>' +\n        '' +\n        '' +\n        '' +\n        '<table style=\"font-family:\\'Lato\\',sans-serif;\" role=\"presentation\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" border=\"0\">' +\n        '  <tbody>' +\n        '    <tr>' +\n        '      <td class=\"v-container-padding-padding\" style=\"overflow-wrap:break-word;word-break:break-word;padding:10px;font-family:\\'Lato\\',sans-serif;\" align=\"left\">' +\n        '        ' +\n        '  <div class=\"v-color\" style=\"color: #000000; line-height: 140%; text-align: left; word-wrap: break-word;\">' +\n        '    <p style=\"font-size: 14px; line-height: 140%; text-align: right;\">Product</p>' +\n        '  </div>' +\n        '' +\n        '      </td>' +\n        '    </tr>' +\n        '  </tbody>' +\n        '</table>' +\n        '' +\n        '' +\n        '' +\n        '<table style=\"font-family:\\'Lato\\',sans-serif;\" role=\"presentation\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" border=\"0\">' +\n        '  <tbody>' +\n        '    <tr>' +\n        '      <td class=\"v-container-padding-padding\" style=\"overflow-wrap:break-word;word-break:break-word;padding:10px;font-family:\\'Lato\\',sans-serif;\" align=\"left\">' +\n        '        ' +\n        '  <div class=\"v-color\" style=\"color: #000000; line-height: 140%; text-align: left; word-wrap: break-word;\">' +\n        '    <p style=\"font-size: 14px; line-height: 140%; text-align: right;\">Battery Level</p>' +\n        '  </div>' +\n        '' +\n        '      </td>' +\n        '    </tr>' +\n        '  </tbody>' +\n        '</table>' +\n        '' +\n        '' +\n        '' +\n        '<table style=\"font-family:\\'Lato\\',sans-serif;\" role=\"presentation\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" border=\"0\">' +\n        '  <tbody>' +\n        '    <tr>' +\n        '      <td class=\"v-container-padding-padding\" style=\"overflow-wrap:break-word;word-break:break-word;padding:10px;font-family:\\'Lato\\',sans-serif;\" align=\"left\">' +\n        '        ' +\n        '  <div class=\"v-color\" style=\"color: #000000; line-height: 140%; text-align: left; word-wrap: break-word;\">' +\n        '    ' +\n        '  </div>' +\n        '' +\n        '      </td>' +\n        '    </tr>' +\n        '  </tbody>' +\n        '</table>' +\n        '' +\n        '' +\n        '' +\n        '<table style=\"font-family:\\'Lato\\',sans-serif;\" role=\"presentation\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" border=\"0\">' +\n        '  <tbody>' +\n        '    <tr>' +\n        '      <td class=\"v-container-padding-padding\" style=\"overflow-wrap:break-word;word-break:break-word;padding:10px;font-family:\\'Lato\\',sans-serif;\" align=\"left\">' +\n        '        ' +\n        '  <div class=\"v-color\" style=\"color: #000000; line-height: 140%; text-align: left; word-wrap: break-word;\">' +\n        '    ' +\n        '  </div>' +\n        '' +\n        '      </td>' +\n        '    </tr>' +\n        '  </tbody>' +\n        '</table>' +\n        '' +\n        '' +\n        '' +\n        '<table style=\"font-family:\\'Lato\\',sans-serif;\" role=\"presentation\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" border=\"0\">' +\n        '  <tbody>' +\n        '    <tr>' +\n        '      <td class=\"v-container-padding-padding\" style=\"overflow-wrap:break-word;word-break:break-word;padding:10px;font-family:\\'Lato\\',sans-serif;\" align=\"left\">' +\n        '        ' +\n        '  <div class=\"v-color\" style=\"color: #000000; line-height: 140%; text-align: left; word-wrap: break-word;\">' +\n        '    ' +\n        '  </div>' +\n        '' +\n        '      </td>' +\n        '    </tr>' +\n        '  </tbody>' +\n        '</table>' +\n        '' +\n        '' +\n        '  <!--[if (!mso)&(!IE)]><!--></div><!--<![endif]-->' +\n        '  </div>' +\n        '</div>' +\n        '<!--[if (mso)|(IE)]></td><![endif]-->' +\n        '<!--[if (mso)|(IE)]><td align=\"center\" width=\"408\" class=\"v-col-border\" style=\"border-color:' + status + '; background-color: #f2f2f2;width: 408px;padding: 0px;border-top: 0px solid transparent;border-left: 0px solid transparent;border-right: 0px solid transparent;border-bottom: 0px solid transparent;\" valign=\"top\"><![endif]-->' +\n        '<div class=\"u-col u-col-67p99\" style=\"max-width: 320px;min-width: 408px;display: table-cell;vertical-align: top;\">' +\n        '  <div style=\"background-color: #f2f2f2;width: 100% !important;\">' +\n        '  <!--[if (!mso)&(!IE)]><!--><div class=\"v-col-border\" style=\"border-color:' + status + '; padding: 0px;border-top: 0px solid transparent;border-left: 0px solid transparent;border-right: 0px solid transparent;border-bottom: 0px solid transparent;\"><!--<![endif]-->' +\n        '  ' +\n        '' +\n        '<table style=\"font-family:\\'Lato\\',sans-serif;\" role=\"presentation\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" border=\"0\">' +\n        '  <tbody>' +\n        '    <tr>' +\n        '      <td class=\"v-container-padding-padding\" style=\"overflow-wrap:break-word;word-break:break-word;padding:10px;font-family:\\'Lato\\',sans-serif;\" align=\"left\">' +\n        '        ' +\n        '  <div class=\"v-color\" style=\"color: #000000; line-height: 140%; text-align: left; word-wrap: break-word;\">' +\n        '    ' +\n        '  </div>' +\n        '' +\n        '      </td>' +\n        '    </tr>' +\n        '  </tbody>' +\n        '</table>' +\n        '' +\n        '' +\n        '' +\n        '<table style=\"font-family:\\'Lato\\',sans-serif;\" role=\"presentation\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" border=\"0\">' +\n        '  <tbody>' +\n        '    <tr>' +\n        '      <td class=\"v-container-padding-padding\" style=\"overflow-wrap:break-word;word-break:break-word;padding:10px;font-family:\\'Lato\\',sans-serif;\" align=\"left\">' +\n        '        ' +\n        '  <div class=\"v-color\" style=\"color: #000000; line-height: 140%; text-align: left; word-wrap: break-word;\">' +\n        '    <p style=\"font-size: 14px; line-height: 140%;\">' + messageAlert + '</p>' +\n        '  </div>' +\n        '' +\n        '      </td>' +\n        '    </tr>' +\n        '  </tbody>' +\n        '</table>' +\n        '' +\n        '' +\n        '' +\n        '<table style=\"font-family:\\'Lato\\',sans-serif;\" role=\"presentation\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" border=\"0\">' +\n        '  <tbody>' +\n        '    <tr>' +\n        '      <td class=\"v-container-padding-padding\" style=\"overflow-wrap:break-word;word-break:break-word;padding:10px;font-family:\\'Lato\\',sans-serif;\" align=\"left\">' +\n        '        ' +\n        '  <div class=\"v-color\" style=\"color: #000000; line-height: 140%; text-align: left; word-wrap: break-word;\">' +\n        '    ' +\n        '  </div>' +\n        '' +\n        '      </td>' +\n        '    </tr>' +\n        '  </tbody>' +\n        '</table>' +\n        '' +\n        '' +\n        '' +\n        '<table style=\"font-family:\\'Lato\\',sans-serif;\" role=\"presentation\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" border=\"0\">' +\n        '  <tbody>' +\n        '    <tr>' +\n        '      <td class=\"v-container-padding-padding\" style=\"overflow-wrap:break-word;word-break:break-word;padding:10px;font-family:\\'Lato\\',sans-serif;\" align=\"left\">' +\n        '        ' +\n        '  <div class=\"v-color\" style=\"color: #000000; line-height: 140%; text-align: left; word-wrap: break-word;\">' +\n        '    <p style=\"font-size: 14px; line-height: 140%;\">' + customer + ', ' + area + ', ' + site + '</p>' +\n        '  </div>' +\n        '' +\n        '      </td>' +\n        '    </tr>' +\n        '  </tbody>' +\n        '</table>' +\n        '' +\n        '' +\n        '' +\n        '<table style=\"font-family:\\'Lato\\',sans-serif;\" role=\"presentation\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" border=\"0\">' +\n        '  <tbody>' +\n        '    <tr>' +\n        '      <td class=\"v-container-padding-padding\" style=\"overflow-wrap:break-word;word-break:break-word;padding:10px;font-family:\\'Lato\\',sans-serif;\" align=\"left\">' +\n        '        ' +\n        '  <div class=\"v-color\" style=\"color: #000000; line-height: 140%; text-align: left; word-wrap: break-word;\">' +\n        '    <p style=\"font-size: 14px; line-height: 140%;\">' + device + '</p>' +\n        '  </div>' +\n        '' +\n        '      </td>' +\n        '    </tr>' +\n        '  </tbody>' +\n        '</table>' +\n        '' +\n        '' +\n        '' +\n        '<table style=\"font-family:\\'Lato\\',sans-serif;\" role=\"presentation\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" border=\"0\">' +\n        '  <tbody>' +\n        '    <tr>' +\n        '      <td class=\"v-container-padding-padding\" style=\"overflow-wrap:break-word;word-break:break-word;padding:10px;font-family:\\'Lato\\',sans-serif;\" align=\"left\">' +\n        '        ' +\n        '  <div class=\"v-color\" style=\"color: #000000; line-height: 140%; text-align: left; word-wrap: break-word;\">' +\n        '    <p style=\"font-size: 14px; line-height: 140%;\">' +   RemainignWeight + '%</p>' +\n        '  </div>' +\n        '' +\n        '      </td>' +\n        '    </tr>' +\n        '  </tbody>' +\n        '</table>' +\n        '' +\n        '' +\n        '' +\n        '' +\n        '' +\n        '' +\n        '<table style=\"font-family:\\'Lato\\',sans-serif;\" role=\"presentation\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" border=\"0\">' +\n        '  <tbody>' +\n        '    <tr>' +\n        '      <td class=\"v-container-padding-padding\" style=\"overflow-wrap:break-word;word-break:break-word;padding:10px;font-family:\\'Lato\\',sans-serif;\" align=\"left\">' +\n        '        ' +\n        '  <div class=\"v-color\" style=\"color: #000000; line-height: 140%; text-align: left; word-wrap: break-word;\">' +\n        '    <p style=\"font-size: 14px; line-height: 140%;\">' + actualConsumed + 'g</p>' +\n        '  </div>' +\n        '' +\n        '      </td>' +\n        '    </tr>' +\n        '  </tbody>' +\n        '</table>' +\n        '' +\n        '' +\n        '' +\n        '<table style=\"font-family:\\'Lato\\',sans-serif;\" role=\"presentation\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" border=\"0\">' +\n        '  <tbody>' +\n        '    <tr>' +\n        '      <td class=\"v-container-padding-padding\" style=\"overflow-wrap:break-word;word-break:break-word;padding:10px;font-family:\\'Lato\\',sans-serif;\" align=\"left\">' +\n        '        ' +\n        '  <div class=\"v-color\" style=\"color: #000000; line-height: 140%; text-align: left; word-wrap: break-word;\">' +\n        '    <p style=\"font-size: 14px; line-height: 140%;\">' + sensorHours + '</p>' +\n        '  </div>' +\n        '' +\n        '      </td>' +\n        '    </tr>' +\n        '  </tbody>' +\n        '</table>' +\n        '' +\n        '' +\n        '' +\n        '<table style=\"font-family:\\'Lato\\',sans-serif;\" role=\"presentation\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" border=\"0\">' +\n        '  <tbody>' +\n        '    <tr>' +\n        '      <td class=\"v-container-padding-padding\" style=\"overflow-wrap:break-word;word-break:break-word;padding:10px;font-family:\\'Lato\\',sans-serif;\" align=\"left\">' +\n        '        ' +\n        '  <div class=\"v-color\" style=\"color: #000000; line-height: 140%; text-align: left; word-wrap: break-word;\">' +\n        '    <p style=\"font-size: 14px; line-height: 140%;\">' + foodDatePrint + '</p>' +\n        '  </div>' +\n        '' +\n        '      </td>' +\n        '    </tr>' +\n        '  </tbody>' +\n        '</table>' +\n        '' +\n        '' +\n        '' +\n        '<table style=\"font-family:\\'Lato\\',sans-serif;\" role=\"presentation\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" border=\"0\">' +\n        '  <tbody>' +\n        '    <tr>' +\n        '      <td class=\"v-container-padding-padding\" style=\"overflow-wrap:break-word;word-break:break-word;padding:10px;font-family:\\'Lato\\',sans-serif;\" align=\"left\">' +\n        '        ' +\n        '  <div class=\"v-color\" style=\"color: #000000; line-height: 140%; text-align: left; word-wrap: break-word;\">' +\n        '    <p style=\"font-size: 14px; line-height: 140%;\">' + baitName + '</p>' +\n        '  </div>' +\n        '' +\n        '      </td>' +\n        '    </tr>' +\n        '  </tbody>' +\n        '</table>' +\n        '' +\n        '' +\n        '' +\n        '<table style=\"font-family:\\'Lato\\',sans-serif;\" role=\"presentation\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" border=\"0\">' +\n        '  <tbody>' +\n        '    <tr>' +\n        '      <td class=\"v-container-padding-padding\" style=\"overflow-wrap:break-word;word-break:break-word;padding:10px;font-family:\\'Lato\\',sans-serif;\" align=\"left\">' +\n        '        ' +\n        '  <div class=\"v-color\" style=\"color: #000000; line-height: 140%; text-align: left; word-wrap: break-word;\">' +\n        '    <p style=\"font-size: 14px; line-height: 140%;\">' + battery + '%</p>' +\n        '  </div>' +\n        '' +\n        '      </td>' +\n        '    </tr>' +\n        '  </tbody>' +\n        '</table>' +\n        '' +\n        '' +\n        '' +\n        '<table style=\"font-family:\\'Lato\\',sans-serif;\" role=\"presentation\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" border=\"0\">' +\n        '  <tbody>' +\n        '    <tr>' +\n        '      <td class=\"v-container-padding-padding\" style=\"overflow-wrap:break-word;word-break:break-word;padding:10px;font-family:\\'Lato\\',sans-serif;\" align=\"left\">' +\n        '        ' +\n        '  <div class=\"v-color\" style=\"color: #000000; line-height: 140%; text-align: left; word-wrap: break-word;\">' +\n        '    ' +\n        '  </div>' +\n        '' +\n        '      </td>' +\n        '    </tr>' +\n        '  </tbody>' +\n        '</table>' +\n        '' +\n        '' +\n        '' +\n        '<table style=\"font-family:\\'Lato\\',sans-serif;\" role=\"presentation\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" border=\"0\">' +\n        '  <tbody>' +\n        '    <tr>' +\n        '      <td class=\"v-container-padding-padding\" style=\"overflow-wrap:break-word;word-break:break-word;padding:10px;font-family:\\'Lato\\',sans-serif;\" align=\"left\">' +\n        '        ' +\n        '  <div class=\"v-color\" style=\"color: #000000; line-height: 140%; text-align: left; word-wrap: break-word;\">' +\n        '    ' +\n        '  </div>' +\n        '' +\n        '      </td>' +\n        '    </tr>' +\n        '  </tbody>' +\n        '</table>' +\n        '' +\n        '' +\n        '' +\n        '<table style=\"font-family:\\'Lato\\',sans-serif;\" role=\"presentation\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" border=\"0\">' +\n        '  <tbody>' +\n        '    <tr>' +\n        '      <td class=\"v-container-padding-padding\" style=\"overflow-wrap:break-word;word-break:break-word;padding:10px;font-family:\\'Lato\\',sans-serif;\" align=\"left\">' +\n        '        ' +\n        '  <div class=\"v-color\" style=\"color: #000000; line-height: 140%; text-align: left; word-wrap: break-word;\">' +\n        '    ' +\n        '  </div>' +\n        '' +\n        '      </td>' +\n        '    </tr>' +\n        '  </tbody>' +\n        '</table>' +\n        '' +\n        '' +\n        '  <!--[if (!mso)&(!IE)]><!--></div><!--<![endif]-->' +\n        '  </div>' +\n        '</div>' +\n        '<!--[if (mso)|(IE)]></td><![endif]-->' +\n        '      <!--[if (mso)|(IE)]></tr></table></td></tr></table><![endif]-->' +\n        '    </div>' +\n        '  </div>' +\n        '</div>' +\n        '' +\n        '' +\n        '<!--[if !mso]><!-->' +\n        '<div id=\"u_row_18\" class=\"u-row-container v-row-padding--vertical hide-desktop\" style=\"display: none;mso-hide: all;padding: 0px; \">' +\n        '  <div class=\"u-row no-stack\" style=\"Margin: 0 auto;min-width: 320px;max-width: 600px;overflow-wrap: break-word;word-wrap: break-word;word-break: break-word;background-color: transparent;\">' +\n        '    <div style=\"border-collapse: collapse;display: table;width: 100%;background-color: transparent;\">' +\n        '      <!--[if (mso)|(IE)]><table width=\"100%\" cellpadding=\"0\" cellspacing=\"0\" border=\"0\"><tr><td style=\"padding: 0px; \" align=\"center\"><table cellpadding=\"0\" cellspacing=\"0\" border=\"0\" style=\"width:600px;\"><tr style=\"background-color: transparent;\"><![endif]-->' +\n        '      ' +\n        '<!--[if (mso)|(IE)]><td align=\"center\" width=\"186\" class=\"v-col-border\" style=\"border-color:' + status + '; background-color: #f2f2f2;width: 186px;padding: 0px;border-top: 0px solid transparent;border-left: 6px solid ' + status + ';border-right: 0px solid transparent;border-bottom: 0px solid transparent;\" valign=\"top\"><![endif]-->' +\n        '<div id=\"u_column_27\" class=\"u-col u-col-32p01\" style=\"max-width: 320px;min-width: 192px;display: table-cell;vertical-align: top;\">' +\n        '  <div style=\"background-color: #f2f2f2;width: 100% !important;\">' +\n        '  <!--[if (!mso)&(!IE)]><!--><div class=\"v-col-border\" style=\"border-color:' + status + '; padding: 0px;border-top: 0px solid transparent;border-left: 6px solid ' + status + ';border-right: 0px solid transparent;border-bottom: 0px solid transparent;\"><!--<![endif]-->' +\n        '  ' +\n        '' +\n        '<table style=\"font-family:\\'Lato\\',sans-serif;\" role=\"presentation\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" border=\"0\">' +\n        '  <tbody>' +\n        '    <tr>' +\n        '      <td class=\"v-container-padding-padding\" style=\"overflow-wrap:break-word;word-break:break-word;padding:10px;font-family:\\'Lato\\',sans-serif;\" align=\"left\">' +\n        '        ' +\n        '  <div class=\"v-color\" style=\"color: #000000; line-height: 140%; text-align: left; word-wrap: break-word;\">' +\n        '    ' +\n        '  </div>' +\n        '' +\n        '      </td>' +\n        '    </tr>' +\n        '  </tbody>' +\n        '</table>' +\n        '' +\n        '' +\n        '' +\n        '<table style=\"font-family:\\'Lato\\',sans-serif;\" role=\"presentation\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" border=\"0\">' +\n        '  <tbody>' +\n        '    <tr>' +\n        '      <td class=\"v-container-padding-padding\" style=\"overflow-wrap:break-word;word-break:break-word;padding:10px;font-family:\\'Lato\\',sans-serif;\" align=\"left\">' +\n        '        ' +\n        '  <div class=\"v-color\" style=\"color: #000000; line-height: 140%; text-align: left; word-wrap: break-word;\">' +\n        '    <p style=\"font-size: 14px; line-height: 140%; text-align: right;\">Alert</p>' +\n        '  </div>' +\n        '' +\n        '      </td>' +\n        '    </tr>' +\n        '  </tbody>' +\n        '</table>' +\n        '' +\n        '' +\n        '' +\n        '<table style=\"font-family:\\'Lato\\',sans-serif;\" role=\"presentation\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" border=\"0\">' +\n        '  <tbody>' +\n        '    <tr>' +\n        '      <td class=\"v-container-padding-padding\" style=\"overflow-wrap:break-word;word-break:break-word;padding:10px;font-family:\\'Lato\\',sans-serif;\" align=\"left\">' +\n        '        ' +\n        '  <div class=\"v-color\" style=\"color: #000000; line-height: 140%; text-align: left; word-wrap: break-word;\">' +\n        '    ' +\n        '  </div>' +\n        '' +\n        '      </td>' +\n        '    </tr>' +\n        '  </tbody>' +\n        '</table>' +\n        '' +\n        '' +\n        '' +\n        '<table style=\"font-family:\\'Lato\\',sans-serif;\" role=\"presentation\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" border=\"0\">' +\n        '  <tbody>' +\n        '    <tr>' +\n        '      <td class=\"v-container-padding-padding\" style=\"overflow-wrap:break-word;word-break:break-word;padding:10px;font-family:\\'Lato\\',sans-serif;\" align=\"left\">' +\n        '        ' +\n        '  <div class=\"v-color\" style=\"color: #000000; line-height: 140%; text-align: left; word-wrap: break-word;\">' +\n        '    ' +\n        '  </div>' +\n        '' +\n        '      </td>' +\n        '    </tr>' +\n        '  </tbody>' +\n        '</table>' +\n        '' +\n        '' +\n        '' +\n        '<table style=\"font-family:\\'Lato\\',sans-serif;\" role=\"presentation\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" border=\"0\">' +\n        '  <tbody>' +\n        '    <tr>' +\n        '      <td class=\"v-container-padding-padding\" style=\"overflow-wrap:break-word;word-break:break-word;padding:10px;font-family:\\'Lato\\',sans-serif;\" align=\"left\">' +\n        '        ' +\n        '  <div class=\"v-color\" style=\"color: #000000; line-height: 140%; text-align: left; word-wrap: break-word;\">' +\n        '    <p style=\"font-size: 14px; line-height: 140%; text-align: right;\">Location</p>' +\n        '  </div>' +\n        '' +\n        '      </td>' +\n        '    </tr>' +\n        '  </tbody>' +\n        '</table>' +\n        '' +\n        '' +\n        '' +\n        '<table style=\"font-family:\\'Lato\\',sans-serif;\" role=\"presentation\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" border=\"0\">' +\n        '  <tbody>' +\n        '    <tr>' +\n        '      <td class=\"v-container-padding-padding\" style=\"overflow-wrap:break-word;word-break:break-word;padding:10px;font-family:\\'Lato\\',sans-serif;\" align=\"left\">' +\n        '        ' +\n        '  <div class=\"v-color\" style=\"color: #000000; line-height: 140%; text-align: left; word-wrap: break-word;\">' +\n        '    <p style=\"font-size: 14px; line-height: 140%; text-align: right;\">Device</p>' +\n        '  </div>' +\n        '' +\n        '      </td>' +\n        '    </tr>' +\n        '  </tbody>' +\n        '</table>' +\n        '' +\n        '' +\n        '' +\n        '<table style=\"font-family:\\'Lato\\',sans-serif;\" role=\"presentation\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" border=\"0\">' +\n        '  <tbody>' +\n        '    <tr>' +\n        '      <td class=\"v-container-padding-padding\" style=\"overflow-wrap:break-word;word-break:break-word;padding:10px;font-family:\\'Lato\\',sans-serif;\" align=\"left\">' +\n        '        ' +\n        '  <div class=\"v-color\" style=\"color: #000000; line-height: 140%; text-align: left; word-wrap: break-word;\">' +\n        '    <p style=\"font-size: 14px; line-height: 140%; text-align: right;\">Bait Left</p>' +\n        '  </div>' +\n        '' +\n        '      </td>' +\n        '    </tr>' +\n        '  </tbody>' +\n        '</table>' +\n        '' +\n        '' +\n        '' +\n        '' +\n        '' +\n        '' +\n        '' +\n        '' +\n        '' +\n        '<table style=\"font-family:\\'Lato\\',sans-serif;\" role=\"presentation\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" border=\"0\">' +\n        '  <tbody>' +\n        '    <tr>' +\n        '      <td class=\"v-container-padding-padding\" style=\"overflow-wrap:break-word;word-break:break-word;padding:10px;font-family:\\'Lato\\',sans-serif;\" align=\"left\">' +\n        '        ' +\n        '  <div class=\"v-color\" style=\"color: #000000; line-height: 140%; text-align: left; word-wrap: break-word;\">' +\n        '    <p style=\"font-size: 14px; line-height: 140%; text-align: right;\">Bait Taken</p>' +\n        '  </div>' +\n        '' +\n        '      </td>' +\n        '    </tr>' +\n        '  </tbody>' +\n        '</table>' +\n        '' +\n        '' +\n        '' +\n        '<table style=\"font-family:\\'Lato\\',sans-serif;\" role=\"presentation\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" border=\"0\">' +\n        '  <tbody>' +\n        '    <tr>' +\n        '      <td class=\"v-container-padding-padding\" style=\"overflow-wrap:break-word;word-break:break-word;padding:10px;font-family:\\'Lato\\',sans-serif;\" align=\"left\">' +\n        '        ' +\n        '  <div class=\"v-color\" style=\"color: #000000; line-height: 140%; text-align: left; word-wrap: break-word;\">' +\n        '    <p style=\"font-size: 14px; line-height: 140%; text-align: right;\">Motion Count</p>' +\n        '  </div>' +\n        '' +\n        '      </td>' +\n        '    </tr>' +\n        '  </tbody>' +\n        '</table>' +\n        '' +\n        '' +\n        '' +\n        '<table style=\"font-family:\\'Lato\\',sans-serif;\" role=\"presentation\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" border=\"0\">' +\n        '  <tbody>' +\n        '    <tr>' +\n        '      <td class=\"v-container-padding-padding\" style=\"overflow-wrap:break-word;word-break:break-word;padding:10px;font-family:\\'Lato\\',sans-serif;\" align=\"left\">' +\n        '        ' +\n        '  <div class=\"v-color\" style=\"color: #000000; line-height: 140%; text-align: left; word-wrap: break-word;\">' +\n        '    <p style=\"font-size: 14px; line-height: 140%; text-align: right;\">Next Check</p>' +\n        '  </div>' +\n        '' +\n        '      </td>' +\n        '    </tr>' +\n        '  </tbody>' +\n        '</table>' +\n        '' +\n        '' +\n        '' +\n        '<table style=\"font-family:\\'Lato\\',sans-serif;\" role=\"presentation\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" border=\"0\">' +\n        '  <tbody>' +\n        '    <tr>' +\n        '      <td class=\"v-container-padding-padding\" style=\"overflow-wrap:break-word;word-break:break-word;padding:10px;font-family:\\'Lato\\',sans-serif;\" align=\"left\">' +\n        '        ' +\n        '  <div class=\"v-color\" style=\"color: #000000; line-height: 140%; text-align: left; word-wrap: break-word;\">' +\n        '    <p style=\"font-size: 14px; line-height: 140%; text-align: right;\">Product</p>' +\n        '  </div>' +\n        '' +\n        '      </td>' +\n        '    </tr>' +\n        '  </tbody>' +\n        '</table>' +\n        '' +\n        '' +\n        '' +\n        '<table style=\"font-family:\\'Lato\\',sans-serif;\" role=\"presentation\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" border=\"0\">' +\n        '  <tbody>' +\n        '    <tr>' +\n        '      <td class=\"v-container-padding-padding\" style=\"overflow-wrap:break-word;word-break:break-word;padding:10px;font-family:\\'Lato\\',sans-serif;\" align=\"left\">' +\n        '        ' +\n        '  <div class=\"v-color\" style=\"color: #000000; line-height: 140%; text-align: left; word-wrap: break-word;\">' +\n        '    <p style=\"font-size: 14px; line-height: 140%; text-align: right;\">Battery Level</p>' +\n        '  </div>' +\n        '' +\n        '      </td>' +\n        '    </tr>' +\n        '  </tbody>' +\n        '</table>' +\n        '' +\n        '' +\n        '' +\n        '<table style=\"font-family:\\'Lato\\',sans-serif;\" role=\"presentation\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" border=\"0\">' +\n        '  <tbody>' +\n        '    <tr>' +\n        '      <td class=\"v-container-padding-padding\" style=\"overflow-wrap:break-word;word-break:break-word;padding:10px;font-family:\\'Lato\\',sans-serif;\" align=\"left\">' +\n        '        ' +\n        '  <div class=\"v-color\" style=\"color: #000000; line-height: 140%; text-align: left; word-wrap: break-word;\">' +\n        '    ' +\n        '  </div>' +\n        '' +\n        '      </td>' +\n        '    </tr>' +\n        '  </tbody>' +\n        '</table>' +\n        '' +\n        '' +\n        '  <!--[if (!mso)&(!IE)]><!--></div><!--<![endif]-->' +\n        '  </div>' +\n        '</div>' +\n        '<!--[if (mso)|(IE)]></td><![endif]-->' +\n        '<!--[if (mso)|(IE)]><td align=\"center\" width=\"408\" class=\"v-col-border\" style=\"border-color:' + status + '; background-color: #f2f2f2;width: 408px;padding: 0px;border-top: 0px solid transparent;border-left: 0px solid transparent;border-right: 0px solid transparent;border-bottom: 0px solid transparent;\" valign=\"top\"><![endif]-->' +\n        '<div class=\"u-col u-col-67p99\" style=\"max-width: 320px;min-width: 408px;display: table-cell;vertical-align: top;\">' +\n        '  <div style=\"background-color: #f2f2f2;width: 100% !important;\">' +\n        '  <!--[if (!mso)&(!IE)]><!--><div class=\"v-col-border\" style=\"border-color:' + status + ';  padding: 0px;border-top: 0px solid transparent;border-left: 0px solid transparent;border-right: 0px solid transparent;border-bottom: 0px solid transparent;\"><!--<![endif]-->' +\n        '  ' +\n        '' +\n        '<table style=\"font-family:\\'Lato\\',sans-serif;\" role=\"presentation\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" border=\"0\">' +\n        '  <tbody>' +\n        '    <tr>' +\n        '      <td class=\"v-container-padding-padding\" style=\"overflow-wrap:break-word;word-break:break-word;padding:10px;font-family:\\'Lato\\',sans-serif;\" align=\"left\">' +\n        '        ' +\n        '  <div class=\"v-color\" style=\"color: #000000; line-height: 140%; text-align: left; word-wrap: break-word;\">' +\n        '    ' +\n        '  </div>' +\n        '' +\n        '      </td>' +\n        '    </tr>' +\n        '  </tbody>' +\n        '</table>' +\n        '' +\n        '' +\n        '' +\n        '<table style=\"font-family:\\'Lato\\',sans-serif;\" role=\"presentation\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" border=\"0\">' +\n        '  <tbody>' +\n        '    <tr>' +\n        '      <td class=\"v-container-padding-padding\" style=\"overflow-wrap:break-word;word-break:break-word;padding:10px;font-family:\\'Lato\\',sans-serif;\" align=\"left\">' +\n        '        ' +\n        '  <div class=\"v-color\" style=\"color: #000000; line-height: 140%; text-align: left; word-wrap: break-word;\">' +\n        '    <p style=\"font-size: 14px; line-height: 140%;\">' + messageAlert + '</p>' +\n        '  </div>' +\n        '' +\n        '      </td>' +\n        '    </tr>' +\n        '  </tbody>' +\n        '</table>' +\n        '' +\n        '' +\n        '' +\n        '<table style=\"font-family:\\'Lato\\',sans-serif;\" role=\"presentation\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" border=\"0\">' +\n        '  <tbody>' +\n        '    <tr>' +\n        '      <td class=\"v-container-padding-padding\" style=\"overflow-wrap:break-word;word-break:break-word;padding:10px;font-family:\\'Lato\\',sans-serif;\" align=\"left\">' +\n        '        ' +\n        '  <div class=\"v-color\" style=\"color: #000000; line-height: 140%; text-align: left; word-wrap: break-word;\">' +\n        '    ' +\n        '  </div>' +\n        '' +\n        '      </td>' +\n        '    </tr>' +\n        '  </tbody>' +\n        '</table>' +\n        '' +\n        '' +\n        '' +\n        '<table style=\"font-family:\\'Lato\\',sans-serif;\" role=\"presentation\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" border=\"0\">' +\n        '  <tbody>' +\n        '    <tr>' +\n        '      <td class=\"v-container-padding-padding\" style=\"overflow-wrap:break-word;word-break:break-word;padding:10px;font-family:\\'Lato\\',sans-serif;\" align=\"left\">' +\n        '        ' +\n        '  <div class=\"v-color\" style=\"color: #000000; line-height: 140%; text-align: left; word-wrap: break-word;\">' +\n        '    <p style=\"font-size: 14px; line-height: 140%;\">' + customer + ', ' + area + ', ' + site + '</p>' +\n        '  </div>' +\n        '' +\n        '      </td>' +\n        '    </tr>' +\n        '  </tbody>' +\n        '</table>' +\n        '' +\n        '' +\n        '' +\n        '<table style=\"font-family:\\'Lato\\',sans-serif;\" role=\"presentation\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" border=\"0\">' +\n        '  <tbody>' +\n        '    <tr>' +\n        '      <td class=\"v-container-padding-padding\" style=\"overflow-wrap:break-word;word-break:break-word;padding:10px;font-family:\\'Lato\\',sans-serif;\" align=\"left\">' +\n        '        ' +\n        '  <div class=\"v-color\" style=\"color: #000000; line-height: 140%; text-align: left; word-wrap: break-word;\">' +\n        '    <p style=\"font-size: 14px; line-height: 140%;\">' + device + '</p>' +\n        '  </div>' +\n        '' +\n        '      </td>' +\n        '    </tr>' +\n        '  </tbody>' +\n        '</table>' +\n        '' +\n        '' +\n        '' +\n        '<table style=\"font-family:\\'Lato\\',sans-serif;\" role=\"presentation\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" border=\"0\">' +\n        '  <tbody>' +\n        '    <tr>' +\n        '      <td class=\"v-container-padding-padding\" style=\"overflow-wrap:break-word;word-break:break-word;padding:10px;font-family:\\'Lato\\',sans-serif;\" align=\"left\">' +\n        '        ' +\n        '  <div class=\"v-color\" style=\"color: #000000; line-height: 140%; text-align: left; word-wrap: break-word;\">' +\n        '    <p style=\"font-size: 14px; line-height: 140%;\">' + actualConsumed + 'g</p>' +\n        '  </div>' +\n        '' +\n        '      </td>' +\n        '    </tr>' +\n        '  </tbody>' +\n        '</table>' +\n        '' +\n        '' +\n        '' +\n        '' +\n        '' +\n        '' +\n        '<table style=\"font-family:\\'Lato\\',sans-serif;\" role=\"presentation\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" border=\"0\">' +\n        '  <tbody>' +\n        '    <tr>' +\n        '      <td class=\"v-container-padding-padding\" style=\"overflow-wrap:break-word;word-break:break-word;padding:10px;font-family:\\'Lato\\',sans-serif;\" align=\"left\">' +\n        '        ' +\n        '  <div class=\"v-color\" style=\"color: #000000; line-height: 140%; text-align: left; word-wrap: break-word;\">' +\n        '    <p style=\"font-size: 14px; line-height: 140%;\">' +   RemainignWeight + '%</p>' +\n        '  </div>' +\n        '' +\n        '      </td>' +\n        '    </tr>' +\n        '  </tbody>' +\n        '</table>' +\n        '' +\n        '' +\n        '' +\n        '<table id=\"u_content_text_60\" style=\"font-family:\\'Lato\\',sans-serif;\" role=\"presentation\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" border=\"0\">' +\n        '  <tbody>' +\n        '    <tr>' +\n        '      <td class=\"v-container-padding-padding\" style=\"overflow-wrap:break-word;word-break:break-word;padding:10px;font-family:\\'Lato\\',sans-serif;\" align=\"left\">' +\n        '        ' +\n        '  <div class=\"v-color\" style=\"color: #000000; line-height: 140%; text-align: left; word-wrap: break-word;\">' +\n        '    ' +\n        '  </div>' +\n        '' +\n        '      </td>' +\n        '    </tr>' +\n        '  </tbody>' +\n        '</table>' +\n        '' +\n        '' +\n        '' +\n        '<table id=\"u_content_text_72\" style=\"font-family:\\'Lato\\',sans-serif;\" role=\"presentation\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" border=\"0\">' +\n        '  <tbody>' +\n        '    <tr>' +\n        '      <td class=\"v-container-padding-padding\" style=\"overflow-wrap:break-word;word-break:break-word;padding:10px;font-family:\\'Lato\\',sans-serif;\" align=\"left\">' +\n        '        ' +\n        '  <div class=\"v-color\" style=\"color: #000000; line-height: 140%; text-align: left; word-wrap: break-word;\">' +\n        '    <p style=\"font-size: 14px; line-height: 140%;\">' + sensorHours + '</p>' +\n        '  </div>' +\n        '' +\n        '      </td>' +\n        '    </tr>' +\n        '  </tbody>' +\n        '</table>' +\n        '' +\n        '' +\n        '' +\n        '<table id=\"u_content_text_71\" style=\"font-family:\\'Lato\\',sans-serif;\" role=\"presentation\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" border=\"0\">' +\n        '  <tbody>' +\n        '    <tr>' +\n        '      <td class=\"v-container-padding-padding\" style=\"overflow-wrap:break-word;word-break:break-word;padding:10px;font-family:\\'Lato\\',sans-serif;\" align=\"left\">' +\n        '        ' +\n        '  <div class=\"v-color\" style=\"color: #000000; line-height: 140%; text-align: left; word-wrap: break-word;\">' +\n        '    <p style=\"font-size: 14px; line-height: 140%;\">' + foodDatePrint + '</p>' +\n        '  </div>' +\n        '' +\n        '      </td>' +\n        '    </tr>' +\n        '  </tbody>' +\n        '</table>' +\n        '' +\n        '' +\n        '' +\n        '<table id=\"u_content_text_70\" style=\"font-family:\\'Lato\\',sans-serif;\" role=\"presentation\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" border=\"0\">' +\n        '  <tbody>' +\n        '    <tr>' +\n        '      <td class=\"v-container-padding-padding\" style=\"overflow-wrap:break-word;word-break:break-word;padding:10px;font-family:\\'Lato\\',sans-serif;\" align=\"left\">' +\n        '        ' +\n        '  <div class=\"v-color\" style=\"color: #000000; line-height: 140%; text-align: left; word-wrap: break-word;\">' +\n        '    <p style=\"font-size: 14px; line-height: 140%;\">' + baitName + '</p>' +\n        '  </div>' +\n        '' +\n        '      </td>' +\n        '    </tr>' +\n        '  </tbody>' +\n        '</table>' +\n        '' +\n        '' +\n        '' +\n        '<table id=\"u_content_text_68\" style=\"font-family:\\'Lato\\',sans-serif;\" role=\"presentation\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" border=\"0\">' +\n        '  <tbody>' +\n        '    <tr>' +\n        '      <td class=\"v-container-padding-padding\" style=\"overflow-wrap:break-word;word-break:break-word;padding:10px;font-family:\\'Lato\\',sans-serif;\" align=\"left\">' +\n        '        ' +\n        '  <div class=\"v-color\" style=\"color: #000000; line-height: 140%; text-align: left; word-wrap: break-word;\">' +\n        '    <p style=\"font-size: 14px; line-height: 140%;\">' + battery + '%</p>' +\n        '  </div>' +\n        '' +\n        '      </td>' +\n        '    </tr>' +\n        '  </tbody>' +\n        '</table>' +\n        '' +\n        '' +\n        '' +\n        '<table id=\"u_content_text_73\" style=\"font-family:\\'Lato\\',sans-serif;\" role=\"presentation\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" border=\"0\">' +\n        '  <tbody>' +\n        '    <tr>' +\n        '      <td class=\"v-container-padding-padding\" style=\"overflow-wrap:break-word;word-break:break-word;padding:10px;font-family:\\'Lato\\',sans-serif;\" align=\"left\">' +\n        '        ' +\n        '  <div class=\"v-color\" style=\"color: #000000; line-height: 140%; text-align: left; word-wrap: break-word;\">' +\n        '    ' +\n        '  </div>' +\n        '' +\n        '      </td>' +\n        '    </tr>' +\n        '  </tbody>' +\n        '</table>' +\n        '' +\n        '' +\n        '  <!--[if (!mso)&(!IE)]><!--></div><!--<![endif]-->' +\n        '  </div>' +\n        '</div>' +\n        '<!--[if (mso)|(IE)]></td><![endif]-->' +\n        '      <!--[if (mso)|(IE)]></tr></table></td></tr></table><![endif]-->' +\n        '    </div>' +\n        '  </div>' +\n        '</div>' +\n        '<!--<![endif]-->' +\n        '' +\n        '' +\n        '<div class=\"u-row-container v-row-padding--vertical\" style=\"padding: 0px;background-color: transparent\">' +\n        '  <div class=\"u-row\" style=\"Margin: 0 auto;min-width: 320px;max-width: 600px;overflow-wrap: break-word;word-wrap: break-word;word-break: break-word; \">' +\n        '    <div style=\"border-collapse: collapse;display: table;width: 100%;background-color: transparent;\">' +\n        '      <!--[if (mso)|(IE)]><table width=\"100%\" cellpadding=\"0\" cellspacing=\"0\" border=\"0\"><tr><td style=\"padding: 0px;background-color: transparent;\" align=\"center\"><table cellpadding=\"0\" cellspacing=\"0\" border=\"0\" style=\"width:600px;\"><tr style=\" \"><![endif]-->' +\n        '      ' +\n        '<!--[if (mso)|(IE)]><td align=\"center\" width=\"600\" class=\"v-col-border\" style=\" border-color:' + status + ';  width: 600px;padding: 0px;border-top: 0px solid transparent;border-left: 0px solid transparent;border-right: 0px solid transparent;border-bottom: 0px solid transparent;\" valign=\"top\"><![endif]-->' +\n        '<div class=\"u-col u-col-100\" style=\"max-width: 320px;min-width: 600px;display: table-cell;vertical-align: top;\">' +\n        '  <div style=\"width: 100% !important;\">' +\n        '  <!--[if (!mso)&(!IE)]><!--><div class=\"v-col-border\" style=\"border-color:' + status + '; padding: 0px;border-top: 0px solid transparent;border-left: 0px solid transparent;border-right: 0px solid transparent;border-bottom: 0px solid transparent;\"><!--<![endif]-->' +\n        '  ' +\n        '' +\n        '<table style=\"font-family:\\'Lato\\',sans-serif;\" role=\"presentation\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" border=\"0\">' +\n        '  <tbody>' +\n        '    <tr>' +\n        '      <td class=\"v-container-padding-padding\" style=\"overflow-wrap:break-word;word-break:break-word;padding:40px 40px 30px;font-family:\\'Lato\\',sans-serif;\" align=\"left\">' +\n        '        ' +\n        '  <div class=\"v-color\" style=\"color: #000000; line-height: 140%; text-align: left; word-wrap: break-word;\">' +\n        '    <p style=\"font-size: 14px; line-height: 140%;\"><span style=\"color: #888888; font-size: 14px; line-height: 19.6px;\"><em><span style=\"font-size: 16px; line-height: 22.4px;\">This is an automated system message, do not reply</span></em></span></p>' +\n        '<p style=\"font-size: 14px; line-height: 140%;\"> </p>' +\n        '  </div>' +\n        '' +\n        '      </td>' +\n        '    </tr>' +\n        '  </tbody>' +\n        '</table>' +\n        '' +\n        '' +\n        '  <!--[if (!mso)&(!IE)]><!--></div><!--<![endif]-->' +\n        '  </div>' +\n        '</div>' +\n        '<!--[if (mso)|(IE)]></td><![endif]-->' +\n        '      <!--[if (mso)|(IE)]></tr></table></td></tr></table><![endif]-->' +\n        '    </div>' +\n        '  </div>' +\n        '</div>' +\n        '' +\n        '' +\n        '' +\n        '<div class=\"u-row-container v-row-padding--vertical\" style=\"padding: 0px;background-color: transparent\">' +\n        '  <div class=\"u-row\" style=\"Margin: 0 auto;min-width: 320px;max-width: 600px;overflow-wrap: break-word;word-wrap: break-word;word-break: break-word;background-color: #f2f2f2;\">' +\n        '    <div style=\"border-collapse: collapse;display: table;width: 100%;background-color: transparent;\">' +\n        '      <!--[if (mso)|(IE)]><table width=\"100%\" cellpadding=\"0\" cellspacing=\"0\" border=\"0\"><tr><td style=\"padding: 0px;background-color: transparent;\" align=\"center\"><table cellpadding=\"0\" cellspacing=\"0\" border=\"0\" style=\"width:600px;\"><tr style=\"background-color: #f2f2f2;\"><![endif]-->' +\n        '      ' +\n        '<!--[if (mso)|(IE)]><td align=\"center\" width=\"300\" class=\"v-col-border\" style=\"border-color:' + status + '; width: 300px;padding: 20px 20px 0px;border-top: 0px solid transparent;border-left: 0px solid transparent;border-right: 0px solid transparent;border-bottom: 0px solid transparent;\" valign=\"top\"><![endif]-->' +\n        '<div class=\"u-col u-col-50\" style=\"max-width: 320px;min-width: 300px;display: table-cell;vertical-align: top;\">' +\n        '  <div style=\"width: 100% !important;\">' +\n        '  <!--[if (!mso)&(!IE)]><!--><div class=\"v-col-border\" style=\"border-color:' + status + '; padding: 20px 20px 0px;border-top: 0px solid transparent;border-left: 0px solid transparent;border-right: 0px solid transparent;border-bottom: 0px solid transparent;\"><!--<![endif]-->' +\n        '  ' +\n        '' +\n        '<table style=\"font-family:\\'Lato\\',sans-serif;\" role=\"presentation\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" border=\"0\">' +\n        '  <tbody>' +\n        '    <tr>' +\n        '      <td class=\"v-container-padding-padding\" style=\"overflow-wrap:break-word;word-break:break-word;padding:10px;font-family:\\'Lato\\',sans-serif;\" align=\"left\">' +\n    \n        '      </td>' +\n        '    </tr>' +\n        '  </tbody>' +\n        '</table>' +\n        '' +\n        '' +\n        '  <!--[if (!mso)&(!IE)]><!--></div><!--<![endif]-->' +\n        '  </div>' +\n        '</div>' +\n        '<!--[if (mso)|(IE)]></td><![endif]-->' +\n        '<!--[if (mso)|(IE)]><td align=\"center\" width=\"300\" class=\"v-col-border\" style=\"border-color:' + status + '; width: 300px;padding: 0px 0px 0px 20px;border-top: 0px solid transparent;border-left: 0px solid transparent;border-right: 0px solid transparent;border-bottom: 0px solid transparent;\" valign=\"top\"><![endif]-->' +\n        '<div class=\"u-col u-col-50\" style=\"max-width: 320px;min-width: 300px;display: table-cell;vertical-align: top;\">' +\n        '  <div style=\"width: 100% !important;\">' +\n        '  <!--[if (!mso)&(!IE)]><!--><div class=\"v-col-border\" style=\"border-color:' + status + '; padding: 0px 0px 0px 20px;border-top: 0px solid transparent;border-left: 0px solid transparent;border-right: 0px solid transparent;border-bottom: 0px solid transparent;\"><!--<![endif]-->' +\n        '  ' +\n        '' +\n        '<table id=\"u_content_social_1\" class=\"hide-mobile\" style=\"font-family:\\'Lato\\',sans-serif;\" role=\"presentation\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" border=\"0\">' +\n        '  <tbody>' +\n        '    <tr>' +\n        '      <td class=\"v-container-padding-padding\" style=\"overflow-wrap:break-word;word-break:break-word;padding:25px 10px 10px;font-family:\\'Lato\\',sans-serif;\" align=\"left\">' +\n        '        ' +\n        '<div align=\"left\">' +\n        ' <p class=\"text-align:center\">' + formatDate(new Date(), \"dd/MM/yy HH:MM\", false) + '</p>' +\n        '</div>' +\n        '' +\n        '      </td>' +\n        '    </tr>' +\n        '  </tbody>' +\n        '</table>' +\n        '' +\n        '' +\n        '' +\n        '<table id=\"u_content_text_6\" style=\"font-family:\\'Lato\\',sans-serif;\" role=\"presentation\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" border=\"0\">' +\n        '  <tbody>' +\n        '    <tr>' +\n        '      <td class=\"v-container-padding-padding\" style=\"overflow-wrap:break-word;word-break:break-word;padding:5px 10px 10px;font-family:\\'Lato\\',sans-serif;\" align=\"left\">' +\n        '        ' +\n        '  <div class=\"v-color\" style=\"color: #000000; line-height: 140%; text-align: left; word-wrap: break-word;\">' +\n        '    <p style=\"line-height: 140%; font-size: 14px; text-align: left;\"><span style=\"font-size: 14px; line-height: 19.6px; color: #000000;\"><span style=\"font-size: 14px; line-height: 19.6px;\"><span style=\"line-height: 19.6px; font-size: 14px;\">PestSense ©  All Rights Reserved</span></span></span></p>' +\n        '  </div>' +\n        '' +\n        '      </td>' +\n        '    </tr>' +\n        '  </tbody>' +\n        '</table>' +\n        '' +\n        '' +\n        '  <!--[if (!mso)&(!IE)]><!--></div><!--<![endif]-->' +\n        '  </div>' +\n        '</div>' +\n        '<!--[if (mso)|(IE)]></td><![endif]-->' +\n        '      <!--[if (mso)|(IE)]></tr></table></td></tr></table><![endif]-->' +\n        '    </div>' +\n        '  </div>' +\n        '</div>' +\n        '' +\n        '' +\n        '' +\n        '<div class=\"u-row-container v-row-padding--vertical\" style=\"padding: 0px;background-color: #f9f9f9\">' +\n        '  <div class=\"u-row\" style=\"Margin: 0 auto;min-width: 320px;max-width: 600px;overflow-wrap: break-word;word-wrap: break-word;word-break: break-word;background-color: #f2f2f2;\">' +\n        '    <div style=\"border-collapse: collapse;display: table;width: 100%;background-color: transparent;\">' +\n        '      <!--[if (mso)|(IE)]><table width=\"100%\" cellpadding=\"0\" cellspacing=\"0\" border=\"0\"><tr><td style=\"padding: 0px;background-color: #f9f9f9;\" align=\"center\"><table cellpadding=\"0\" cellspacing=\"0\" border=\"0\" style=\"width:600px;\"><tr style=\"background-color: #f2f2f2;\"><![endif]-->' +\n        '      ' +\n        '<!--[if (mso)|(IE)]><td align=\"center\" width=\"600\" class=\"v-col-border\" style=\"border-color:' + status + '; width: 600px;padding: 0px;border-top: 0px solid transparent;border-left: 0px solid transparent;border-right: 0px solid transparent;border-bottom: 0px solid transparent;\" valign=\"top\"><![endif]-->' +\n        '<div class=\"u-col u-col-100\" style=\"max-width: 320px;min-width: 600px;display: table-cell;vertical-align: top;\">' +\n        '  <div style=\"width: 100% !important;\">' +\n        '  <!--[if (!mso)&(!IE)]><!--><div class=\"v-col-border\" style=\"border-color:' + status + '; padding: 0px;border-top: 0px solid transparent;border-left: 0px solid transparent;border-right: 0px solid transparent;border-bottom: 0px solid transparent;\"><!--<![endif]-->' +\n        '  ' +\n        '' +\n        '<table style=\"font-family:\\'Lato\\',sans-serif;\" role=\"presentation\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" border=\"0\">' +\n        '  <tbody>' +\n        '    <tr>' +\n        '      <td class=\"v-container-padding-padding\" style=\"overflow-wrap:break-word;word-break:break-word;padding:15px;font-family:\\'Lato\\',sans-serif;\" align=\"left\">' +\n        '        ' +\n        '  <table height=\"0px\" align=\"center\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" style=\"border-collapse: collapse;table-layout: fixed;border-spacing: 0;mso-table-lspace: 0pt;mso-table-rspace: 0pt;vertical-align: top;border-top: 1px solid #1c103b;-ms-text-size-adjust: 100%;-webkit-text-size-adjust: 100%\">' +\n        '    <tbody>' +\n        '      <tr style=\"vertical-align: top\">' +\n        '        <td style=\"word-break: break-word;border-collapse: collapse !important;vertical-align: top;font-size: 0px;line-height: 0px;mso-line-height-rule: exactly;-ms-text-size-adjust: 100%;-webkit-text-size-adjust: 100%\">' +\n        '          <span> </span>' +\n        '        </td>' +\n        '      </tr>' +\n        '    </tbody>' +\n        '  </table>' +\n        '' +\n        '      </td>' +\n        '    </tr>' +\n        '  </tbody>' +\n        '</table>' +\n        '' +\n        '' +\n        '  <!--[if (!mso)&(!IE)]><!--></div><!--<![endif]-->' +\n        '  </div>' +\n        '</div>' +\n        '<!--[if (mso)|(IE)]></td><![endif]-->' +\n        '      <!--[if (mso)|(IE)]></tr></table></td></tr></table><![endif]-->' +\n        '    </div>' +\n        '  </div>' +\n        '</div>' +\n        '' +\n        '' +\n        '    <!--[if (mso)|(IE)]></td></tr></table><![endif]-->' +\n        '    </td>' +\n        '  </tr>' +\n        '  </tbody>' +\n        '  </table>' +\n        '  <!--[if mso]></div><![endif]-->' +\n        '  <!--[if IE]></div><![endif]-->' +\n        '</body>' +\n        '' +\n        '</html>';\n}"},"ev":{}},"EmailRouter":{"t":"Scripting","lX":1295,"lY":950,"sX":1,"sY":1,"s":"Encircle Process","ps":{"enabled":false,"scalingType":"NOSCALE","width":"","height":"","x":"","y":""},"ver":"190104c210519","dis":false,"tt":"","a":{"code editor":"// Javascript flow scripting.\n/**\n * Description: Takes an email object to send. This node could be removed.\n * Create Author/Date: \n * Modified Author/Date: \n * Version: \n */\n\n// Declare global variables here to be initialised at server startup\n\n/**\n * Initialise script state (run once at startup). Pass in channels set in script node widget\n */\nScript.on(\"load\", function() {\n});\n\n/**\n * Response to incoming flow message. eventData object passed in with:\n * eventData.value - incoming data value (string)\n * eventData.startCh - state of channel that initiated the flow and the channel details (Object. Members {channel}, {value})\n * @return {string} return a value to continue the flow or to cancel flow return null\n */\nScript.on(\"flow\", function(eventData) {\n\tvar result;\n\tresult = JSON.parse(eventData.value);      // Adjust result with output of script processing\n \treturn JSON.stringify(result.email);\n});"},"ev":{}},"SMSRouter":{"t":"Scripting","lX":1275,"lY":1115,"sX":1,"sY":1,"s":"Encircle Process","ps":{"enabled":false,"scalingType":"NOSCALE","width":"","height":"","x":"","y":""},"ver":"190104c210519","dis":false,"tt":"","a":{"code editor":"// Javascript flow scripting.\n/**\n * Description: Sends an SMS message if option is enabled\n * Create Author/Date: \n * Modified Author/Date: \n * Version: \n */\n\n// Declare global variables here to be initialised at server startup\n\n/**\n * Initialise script state (run once at startup). Pass in channels set in script node widget\n */\nScript.on(\"load\", function() {\n});\n\n/**\n * Response to incoming flow message. eventData object passed in with:\n * eventData.value - incoming data value (string)\n * eventData.startCh - state of channel that initiated the flow and the channel details (Object. Members {channel}, {value})\n * @return {string} return a value to continue the flow or to cancel flow return null\n */\nScript.on(\"flow\", function(eventData) {\n\tvar result;\n\tresult = JSON.parse(eventData.value);      // Adjust result with output of script processing\n\t \n\n\tif(result.SMSOPTIONS.Enabled)\n\t{\n\t\treturn JSON.stringify(result.SMSOPTIONS.sms);\n\t}\n});"},"ev":{}},"PacketRouter":{"t":"Scripting","lX":345,"lY":525,"sX":1,"sY":1,"s":"Encircle Process","ps":{"enabled":false,"scalingType":"NOSCALE","width":"7.92%","height":"13.77%","x":"27.32%","y":"72.31%"},"ver":"190104c190915","dis":false,"tt":"","a":{"code editor":"// Javascript flow scripting.\n/**\n * Description: This script handles the data packets received from devices from Australian and UK MQTT servers.\n * Create Author/Date: \n * Modified Author/Date: \n * Version: \n */\n var devices = {};\n var FullRange = 1000000;\n var baitTakenChanel = 0;\n var ErrorCodes = {};\n \n \n Script.on(\"load\", function() {\n     GetErrors();\n });\n \n /**\n  * Populates the ErrorCodes object from the database\n  */\n function GetErrors() {\n     var selectTraps = [{\n         \"TableName\": \"ErrorCodes\", // Specify the primary table used to construct the join request\n         \"Join\": 1, // Join type 1 - Inner Join, 2 - Outer Join, 3 - Left join, 4 - Right Join.\n         \"Columns\": [\n             \"CodeId\",\n             \"OOB\",\n             \"Id\",\n             \"Description\",\n             \"ModelId\"\n         ], // Specify the list of columns to take from the reference table.\n \n     }];\n \n \n     var readRecord = Database.readCompound(\"rodent\", \"ErrorCodes\", selectTraps);\n     //Break if device isn't associated with a trap within the relational database.\n \n     var oldRecord = JSON.parse(readRecord);\n \n     for (var item in oldRecord.data) {\n         var current = {};\n         current.ErrorCode = oldRecord.data[item][0];\n         current.OOB = oldRecord.data[item][1];\n         current.Id = oldRecord.data[item][2];\n         current.Description = oldRecord.data[item][3];\n         current.ModelId = oldRecord.data[item][4];\n         // Check the ErrorCodes table in rodent.db3 to see each ErrorCode value\n         // The key for the ErrorCodes object is the CodeId field in the database\n         // ErrorCodes[oldRecord.data[item][0]] = current;\n \n         // Needs to be redone with ModelId being the key to another obj with codeId\n         // ErrorCodes = {\n         //     ModelId1: {\n         //         CodeId1: current1,\n         //         CodeId2: current2\n         //     },\n         //     Model2: {\n         //         CodeId1: current1,\n         //         CodeId2L current2\n         //     }\n         // }\n         let modelId = oldRecord.data[item][4];\n         let codeId = oldRecord.data[item][0];\n         if (!(modelId in ErrorCodes)) {\n             ErrorCodes[modelId] = {};\n         }\n         ErrorCodes[modelId][codeId] = current;\n     }\n }\n \n /**\n  * Response to incoming flow message. eventData object passed in with:\n  * eventData.value - incoming data value (string)\n  * eventData.startCh - state of channel that initiated the flow and the channel details (Object. Members {channel}, {value})\n  * @return {string} return a value to continue the flow or to cancel flow return null\n  */\n Script.on(\"flow\", function(eventData) {\n     var result;\n     var selected;\n \n     var mainDataPacket = JSON.parse(eventData.value);\n     // if the datapacket does not contain decoded payload, just return null as it is mostly likely a router message, or a malformed message\n     if (!('uplink_message' in mainDataPacket)) {\n         console.log(\"Router packet received, ignoring\");\n         return;\n     } else if (!('decoded_payload' in mainDataPacket.uplink_message)) {\n         console.log(\"Router packet received, ignoring\");\n         return;\n     }\n \n     //if(mainDataPacket.uplink_message.decoded_payload\n     var dataPacket = mainDataPacket.uplink_message.decoded_payload;\n     var deviceVersion = dataPacket.FWV;\n \n \n     //console.log(\"Packet before processing \" + JSON.stringify(dataPacket, null, 4));\n \n     var deviceSettingClt = 0;\n     // checke the device version\n     if (typeof deviceVersion === \"undefined\") { // if 7 is in the the dev version\n \n         //delete dataPacket.FW;\n         dataPacket.FWV = 7.10;\n \n         if (dataPacket.PacketType === 0 || dataPacket.PacketType === 3) {\n             //dataPacket.Tilt = 0  = 0;\n             //deviceSettingClt = 1;\n             dataPacket.P5Tolerance = 0;\n             dataPacket.P5Cycles = 0;\n             dataPacket.BlockedIR_timer = 0;\n             dataPacket.P5Active_timer = 0;\n             dataPacket.Heartbeat_timer = 0;\n             dataPacket.AccSensitivity = 0;\n         }\n \n         if (dataPacket.PacketType === 4) {\n             // no changes required\n             dataPacket.IRRight = dataPacket.IRRigth;\n             delete dataPacket.IRRigth;\n \n             //previous load cell\n             dataPacket.PrevLC = 0;\n         }\n \n         if (dataPacket.PacketType === 5) {\n             dataPacket.LoadCell = dataPacket.LoadCellP5Initial;\n             dataPacket.IRLeft = dataPacket.IRLeft1;\n             dataPacket.IRRight = dataPacket.IRRigth1;\n \n             //delete the existing variables\n             delete dataPacket.LoadCellP5Initial;\n             delete dataPacket.IRLeft1;\n             delete dataPacket.IRRigth1;\n \n         }\n \n         if (dataPacket.PacketType === 6) {\n             // no changes required\n             dataPacket.P6_Delta = dataPacket.LoadCell;\n             dataPacket.IRLeft = dataPacket.IR_Left;\n             dataPacket.IRRight = dataPacket.IR_Right;\n             dataPacket.P4LC = dataPacket.l1;\n             dataPacket.LoadCell = dataPacket.l2;\n             //var angle = dataPacket.Angle;\n \n             dataPacket.P6Count = 0;\n \n             dataPacket.IR_Bottom_left = 0;\n             dataPacket.IR_Bottom_right = 0;\n             dataPacket.IR_Top_left = 0;\n             dataPacket.IR_Top_right = 0;\n \n             if (dataPacket.Tilt === undefined) {\n                 dataPacket.Tilt = 0;\n             }\n \n             //delete the existing variables\n \n             delete dataPacket.l1;\n             delete dataPacket.l2;\n             //delete dataPacket.Angle;\n             delete dataPacket.IR_Left;\n             delete dataPacket.IR_Right;\n \n \n \n \n             console.log(\"This is in packet 6 checkig \" + JSON.stringify(dataPacket, null, 4));\n \n \n         }\n         if (dataPacket.PacketType === 7) {\n             dataPacket.Intensity = 1;\n             dataPacket.IRLeft = 0;\n             dataPacket.IRRight = 0;\n             //we \n         }\n \n \n     } else {\n         if (dataPacket.PacketType === 4) {\n             // no changes required\n \n             if (typeof dataPacket.PrevLC === \"undefined\") {\n                 dataPacket.PrevLC = 0;\n             }\n \n         }\n         if (dataPacket.PacketType === 7) {\n \n             if (typeof dataPacket.Intensity === \"undefined\") {\n                 dataPacket.Intensity = 1;\n             }\n \n             if (typeof dataPacket.IRLeft === \"undefined\") {\n \n                 dataPacket.IRLeft = 0;\n                 //we \n             }\n \n             if (typeof dataPacket.IRRight === \"undefined\") {\n                 dataPacket.IRRight = 0;\n                 //we \n             }\n             //we \n         }\n \n         if (dataPacket.PacketType === 0 || dataPacket.PacketType === 3 || dataPacket.PacketType === 1) {\n             //dataPacket.Tilt = 0  = 0;\n             //deviceSettingClt = 1;\n             if (typeof dataPacket.AccSensitivity === \"undefined\") {\n                 dataPacket.AccSensitivity = 0;\n                 //we \n             }\n \n             if (typeof dataPacket.FWV === \"undefined\") {\n                 dataPacket.FWV = 8.04;\n                 //we \n             }\n             //dataPacket.FWV = 7.10;\n \n \n         }\n \n         if (dataPacket.PacketType === 6 && dataPacket.Tilt === undefined) {\n \n             dataPacket.Tilt = 0;\n         }\n \n \n     }\n \n     //selected.FWV = deviceVersion;\n     //  if(dataPacket.PacketType === 0 || dataPacket.PacketType === 3) {\n \n \n     //  }\n     //save device's firmware version\n     //selected.DeviceFWV = dataPacket.FWV;\n \n     //console.log(\"Data packet changed is \" + JSON.stringify(dataPacket, null, 4));\n     baitTakenChanel = 0;\n     var devUpdate = false;\n     var k;\n     var ignoreReading = false;\n     var BaitTaken = 0;\n     var hueristicsPacket = 0;\n     var RangeWeight1 = 0;\n     var RangeWeight2 = 0;\n     var Tilt;\n     var IRLeft = 0;\n     var IRRight = 0;\n \n     var counterTotal = 0;\n     var cycleTotal = 0;\n     var impact = 0;\n     var sendingErrorEmail = false;\n     var allowPublishBait = false;\n     var SelectedError;\n     var lcell3 = 0;\n     var activeStateLeft = 0;\n     var activeStateRight = 0;\n     var activeCycleLeft = 0;\n     var activeCycleRight = 0;\n     var heartbeat = 0;\n \n     // PacketType 0 - Device has turned on or off, initial packet sent to establish connection\n     if (dataPacket.PacketType === 0) {\n \n         // if (typeof dataPacket.FWV === 7.48) {\n         //     return;\n         // }\n \n         selected = GetDeviceData(mainDataPacket.end_device_ids.dev_eui);\n         saveDeviceSettings(selected, dataPacket);\n \n         if (selected.DeviceBattery === undefined) {\n             selected.DeviceBattery = 0;\n         }\n \n         selected.PacketType = 0;\n         selected.DeviceBattery = parseInt(dataPacket.Battery) / 100;\n         selected.IsYellow = 1;\n         selected.IsRed = 1;\n         selected.Expiry = \"\";\n         selected.CommunicationError = 0;\n         selected.Status = 1; ///dataPacket.Status;\n         //version\n         //settings\n \n         //console.log(\"Packet 0 line 225 Battery is \" + dataPacket.Battery + \"  statement \" + (parseInt(dataPacket.Battery) < parseInt(ErrorCodes[selected.ModelId][13].OOB)) + \" OB is \" + ErrorCodes[selected.ModelId][13].OOB  +\" \" + \" error code data  \" + JSON.stringify(ErrorCodes, null, 4));\n         if (parseInt(dataPacket.Battery) < parseInt(ErrorCodes[selected.ModelId][13].OOB)) {\n             sendingErrorEmail = true;\n             SelectedError = ErrorCodes[selected.ModelId][13];\n             RiseError(ErrorCodes[selected.ModelId][13].Id, selected, selected.DeviceBattery);\n         }\n \n         var dBm = parseInt(mainDataPacket.uplink_message.rx_metadata[0].rssi);\n         //This is the lora signal strenght so it has a negative \"DBM\"\n         var quality;\n         quality = ConvertDbm(dBm);\n \n         selected.SignalStrenght = quality;\n         var trapId = selected.Id.toString();\n         /*Database.saveRecordParam(\"Rodent\", \"Devices\", {\n             trapId: selected\n         }, function (data) {\n \n         }); */\n         SaveDevice(trapId, selected);\n \n     }\n \n     // PacketType 1 - Zero calibration\n     // Sets all values to default\n     if (dataPacket.PacketType === 1) {\n \n \n         selected = GetDeviceData(mainDataPacket.end_device_ids.dev_eui);\n         selected.LastP1Weight = selected.P1Weight;\n \n         // from packet 0\n         //saveDeviceSettings(selected, dataPacket);\n \n         //save data for dev 8\n         if (dataPacket.FWV === 8.04 || dataPacket.FWV > 8.00) {\n             saveDeviceSettings(selected, dataPacket);\n         }\n \n         //if (selected.DeviceBattery === undefined) {\n         //  selected.DeviceBattery = 0;\n         //}\n \n         selected.PacketType = 1;\n\t\t selected.P6Count = 0;\n         //selected.DeviceBattery = parseInt(dataPacket.Battery) / 100;\n         selected.IsYellow = 1;\n         selected.IsRed = 1;\n         selected.Expiry = \"\";\n         selected.CommunicationError = 0;\n         selected.Status = 1; ///dataPacket.Status;\n \n \n         var dBm = parseInt(mainDataPacket.uplink_message.rx_metadata[0].rssi);\n         //This is the lora signal strenght so it has a negative \"DBM\"\n         //var quality;\n         var quality = ConvertDbm(dBm);\n \n         var battery = dataPacket.Battery;\n \n         //handling beta8.04 devices\n         if (typeof battery !== \"undefined\") {\n \n             if (parseInt(dataPacket.Battery) < parseInt(ErrorCodes[selected.ModelId][13].OOB)) {\n                 sendingErrorEmail = true;\n                 SelectedError = ErrorCodes[selected.ModelId][13];\n                 RiseError(ErrorCodes[selected.ModelId][13].Id, selected, selected.DeviceBattery);\n             }\n \n         }\n \n         selected.SignalStrenght = quality;\n         //end of codes from packet 0\n         selected.LastP1Weight = selected.P1Weight;\n         selected.LastRebaitRange = selected.RebaitRange;\n         selected.PacketType = 1;\n         selected.ClibrationRange = dataPacket.LoadCell;\n         selected.WeightConsumed = \"\";\n         selected.WeightLeft = \"\";\n         selected.FullRange = \"1000000\";\n         selected.RebaitRange = \"0\"; // we need set this to 0 since we haven't baited the device we, initially it is 0\n         selected.GhostWeight = 0;\n         selected.TareWeight = 0;\n         selected.DeviceRange = 0;\n         selected.PState = 1;\n         selected.Hours = \"\";\n         selected.CalculatedWeight = \"\";\n         selected.Address = \"\";\n         selected.P1Weight = dataPacket.LoadCell; // needs to be saaved to last P1Weitght : need a new field \n         selected.BaitEnalbed = 0;\n         selected.UpdateTime = \"\";\n         selected.Expiry = \"\";\n         selected.CommunicationError = 0;\n         allowPublishBait = true;\n \n         // Device just started communicating, clear out previous errors (if any)\n         // if(selected.ErrorCodeFlag == 1) {\n         //     selected.ErrorCodeFlag = 0;\n         // }\n         //\"LastRebaitRange\",\n         //\"LastP1Weight\"\n \n         var trapId = selected.Id.toString();\n         Database.saveRecordParam(\"Rodent\", \"Devices\", {\n             trapId: selected\n         }, function(data) {\n \n         });\n     }\n \n     // PacketType 2 - Full Weight\n     // Device has been baited\n     if (dataPacket.PacketType === 2) {\n         selected = GetDeviceData(mainDataPacket.end_device_ids.dev_eui);\n         selected.CommunicationError = 0;\n         selected.BaitEnalbed = 0;\n         allowPublishBait = true;\n \n         selected.P2Weight = dataPacket.LoadCell;\n         if (selected.DeviceBattery === undefined) {\n             selected.DeviceBattery = 0;\n         }\n         //console.log(\"Packet 2 line 298 Battery is \" + dataPacket.Battery + \"  statement \" + (parseInt(dataPacket.Battery) < parseInt(ErrorCodes[selected.ModelId][13].OOB)) + \" OB is \" + ErrorCodes[selected.ModelId][13].OOB  +\" \" + \" error code data  \" + JSON.stringify(ErrorCodes, null, 4));\n         /*\n          //We don't have battery data in this packet: likely going to raise error\n          if (parseInt(dataPacket.Battery) < parseInt(ErrorCodes[selected.ModelId][13].OOB)) {\n              // if(parseInt(selected.CommunicationError) !== 2) {\n              //     sendingErrorEmail = true;\n              // }\n              if (parseInt(selected.ErrorCodeFlag) !== 1) {\t\n                  sendingErrorEmail = true;\n              }\n              SelectedError = ErrorCodes[selected.ModelId][13];\n              RiseError(ErrorCodes[selected.ModelId][13].Id, selected, selected.DeviceBattery);\n          }\n          \n          // if (selected.CommunicationError === \"1\") {\n          //     selected.CommunicationError = 0;\n          // }\n          // if(selected.ErrorCodeFlag == 1) {\n          //     selected.ErrorCodeFlag = 0;\n          // }\n          */\n \n         selected.PacketType = 2;\n         selected.DeviceRange = (parseInt(dataPacket.LoadCell) - parseInt(selected.ClibrationRange));\n \n         selected.FullRange = parseInt(dataPacket.LoadCell);\n         selected.BaitEnalbed = 1;\n         Tilt = dataPacket.Tilt;\n         selected.WeightConsumed = 0;\n \n         var trapId = selected.Id.toString();\n \n         // if the device range is less than 30000, set the baitenalbed to -1 (error)\n         var approxBarWeight = 30000;\n         if (selected.DeviceRange < approxBarWeight) {\n             selected.BaitEnalbed = -1;\n         }\n \n         Database.saveRecordParam(\"Rodent\", \"Devices\", {\n             trapId: selected\n         }, function(data) {\n \n         });\n     }\n     // PacketType 3 - Heartbeat packet, this is sent on an hourly interval. Evaluate Delta Count for out-of-bound load cell.\n     // Receives weight left, bait taken, temperature, tilt channels.\n     // Updates battery, signal strength, last communication time\n     if (dataPacket.PacketType === 3) {\n         selected = GetDeviceData(mainDataPacket.end_device_ids.dev_eui);\n         saveDeviceSettings(selected, dataPacket);\n         selected.CommunicationError = 0;\n         Tilt = dataPacket.Tilt;\n         lcell3 = dataPacket.LoadCell;\n         heartbeat = 1;\n         selected.DeviceBattery = parseInt(dataPacket.Battery) / 100;\n         if (selected.PacketType === \"-1\") {\n             selected.PacketType = -1;\n         } else {\n             selected.PacketType = 3;\n         }\n         allowPublishBait = true;\n         selected.BaitEnalbed = 0;\n \n         // if (selected.CommunicationError === \"1\") {\n         //     selected.CommunicationError = 0;\n         // }\n         // if(selected.ErrorCodeFlag == 1) {\n         //     selected.ErrorCodeFlag = 0;\n         // }\n \n         //console.log(\"Packet 2 line 258 Battery is \" + dataPacket.Battery + \"  statement \" + (parseInt(dataPacket.Battery) < parseInt(ErrorCodes[selected.ModelId][13].OOB)) + \" OB is \" + ErrorCodes[selected.ModelId][13].OOB  +\" \" + \" error code data  \" + JSON.stringify(ErrorCodes, null, 4));\n \n         if (parseInt(dataPacket.Battery) < parseInt(ErrorCodes[selected.ModelId][13].OOB)) {\n             // console.log(\"selected.CommunicationError \"+ selected.CommunicationError); \n             // if(selected.CommunicationError != \"2\")\n             // {\t\n             //     sendingErrorEmail = true;\n             // }\n             if (parseInt(selected.ErrorCodeFlag) !== 1) {\n                 sendingErrorEmail = true;\n             }\n             SelectedError = ErrorCodes[selected.ModelId][13];\n             RiseError(ErrorCodes[selected.ModelId][13].Id, selected, selected.DeviceBattery);\n         }\n \n         var trapId = selected.Id.toString();\n         Database.saveRecordParam(\"Rodent\", \"Devices\", {\n             trapId: selected\n         }, function(data) {\n \n         });\n \n     }\n \n     // PacketType 4 - IR sensors have been triggered. The device enters an active state\n     // Evaluates the current count for out-of-bound load cell\n     // Posts the sum of IR Left/Right to motion channels\n     // Update last communication time\n     if (dataPacket.PacketType === 4) {\n         selected = GetDeviceData(mainDataPacket.end_device_ids.dev_eui);\n         selected.CommunicationError = 0;\n         selected.TareWeight = \"d\"; //dataPacket.data.weight1;\n         if (isNaN(parseInt(selected.Hours))) {\n             selected.Hours = 0;\n         }\n         if (isNaN(parseInt(selected.MotionCounters))) {\n             selected.MotionCounters = 0;\n         }\n \n         selected.PacketType = 4;\n         var p4Irs = (parseInt(dataPacket.IRLeft) + parseInt(dataPacket.IRRight));\n         // if both of the IRs are equal to zero, then do nothing with this packet. Implemented 10-01-22 due to device firmware change\n         if (p4Irs == 0) {\n             return;\n         }\n \n \n         counterTotal = p4Irs;\n         IRLeft = parseInt(dataPacket.IRLeft);\n         IRRight = parseInt(dataPacket.IRRight);\n         console.log(\"the two IRs are: left is  \" + IRLeft + \" and right is \" + IRRight);\n         selected.MotionCounters = parseInt(selected.MotionCounters) + (parseInt(dataPacket.IRLeft) + parseInt(dataPacket.IRRight));\n \n         var overrideLoadCell = dataPacket.LoadCellOLC;\n         console.log(\"overrideLoadCell: \" + overrideLoadCell);\n \n         if (overrideLoadCell !== undefined && overrideLoadCell > 0) {\n             selected.OLC = overrideLoadCell;\n         } else {\n             selected.OLC = 0;\n             overrideLoadCell = 0;\n         }\n \n         if (parseInt(dataPacket.IRLeft) > 0) {\n             activeCycleLeft = 1;\n             selected.Hours = parseInt(selected.Hours) + 1; // parseInt(dataPacket.IRLeft);\n             cycleTotal += 1;\n         } else {\n             activeCycleRight = 1;\n             selected.Hours = parseInt(selected.Hours) + 1; // parseInt(dataPacket.IRRigth);\n             cycleTotal += 1;\n         }\n \n         // if (selected.CommunicationError === \"1\") {\n         //     selected.CommunicationError = 0;\n         // }\n         // if(selected.ErrorCodeFlag == 1) {\n         //     selected.ErrorCodeFlag = 0;\n         // }\n         //console.log(\"Packet after processing \" + JSON.stringify(dataPacket, null, 4));\n         var trapId = selected.Id.toString();\n         selected.DeviceFWV = dataPacket.FWV;\n         selected.PrevLC = dataPacket.PrevLC;\n         selected.UpdateTime = new Date().getTime();\n         //console.log(\"Packet 4 save data: \" + JSON.stringify(selected, null, 4));\n         // if the data is within the bounds, save the record now\n         //console.log(\"Model Id is \" + selected.ModelId + \" pairs is \" + p4Irs + \" OB \" + ErrorCodes[selected.ModelId][12].OOB +\" \" + \" error code data  \" + JSON.stringify(ErrorCodes, null, 4));\n         if (p4Irs < parseInt(ErrorCodes[selected.ModelId][12].OOB)) {\n             console.log(\"Saving.. packet 4 data\");\n             Database.saveRecordParam(\"Rodent\", \"Devices\", {\n                 trapId: selected\n             }, function(data) {\n \n             });\n         } else {\n             // if the data is not within the bounds, then run the RiseError function.\n             // sets the error code flag, and saves the device and error transaction\n             // data to the database\n \n             // console.log(\"selected.CommunicationError \"+ selected.CommunicationError);\n             // if(parseInt(selected.CommunicationError) !== 2)\n             // {\t\n             //     sendingErrorEmail = true;\n             // }\n \n             console.log(\"The value in the if statement is \" + JSON.stringify(ErrorCodes[selected.ModelId][12].OOB, null, 4));\n             if (parseInt(selected.ErrorCodeFlag) !== 1) {\n                 sendingErrorEmail = true;\n             }\n             SelectedError = ErrorCodes[selected.ModelId][12];\n             RiseError(ErrorCodes[selected.ModelId][12].Id, selected, p4Irs);\n         }\n \n     }\n \n     // PacketType 5 - Interim Delta, delta count from motion counters. Sent during active state until no activity is detected.\n     // Unpack and process each packet in order. These packet types will arrive as multiple delta values\n     // captured over a specific period. These can be evaluated to determine if they are representative of\n     // the actual rodent activity - future implementation\n     if (dataPacket.PacketType === 5) {\n         selected = GetDeviceData(mainDataPacket.end_device_ids.dev_eui);\n         selected.CommunicationError = 0;\n \n         if (isNaN(parseInt(selected.MotionCounters))) {\n             selected.MotionCounters = 0;\n         }\n         selected.PacketType = 5;\n \n         var irs = (parseInt(dataPacket.IRLeft) + parseInt(dataPacket.IRRight)); // + (parseInt(dataPacket.IRLeft2) + parseInt(dataPacket.IRRigth2));\n \n         IRLeft = 0;\n         IRRight = 0;\n \n \n         if (dataPacket.IRLeft !== \"0\") {\n             IRLeft += parseInt(dataPacket.IRLeft);\n             counterTotal += IRLeft;\n             if (dataPacket.IRLeft !== \"0\") {\n                 activeStateLeft = 1;\n             }\n         }\n         //if (dataPacket.IRLeft2 !== \"0\") {\n         //\tIRLeft1 += parseInt(dataPacket.IRLeft2);\n         //\tcounterTotal += parseInt(dataPacket.IRLeft2);\n         //\tif(dataPacket.IRLeft2 !== \"\")\n         //\t{\n         //\t\tactiveStateLeft = 1;\n         //\t}\n         //}\n \n         if (dataPacket.IRRight !== \"0\") {\n             IRRight += parseInt(dataPacket.IRRight);\n             counterTotal += parseInt(dataPacket.IRRight);\n             if (dataPacket.IRRight !== \"\") {\n                 activeStateRight = 1;\n             }\n \n         }\n \n \n         selected.TareWeight = dataPacket.LoadCell;\n         selected.UpdateTime = new Date().getTime();\n         selected.MotionCounters = parseInt(selected.MotionCounters) + irs;\n \n         // if (selected.CommunicationError === \"1\") {\n         //     selected.CommunicationError = 0;\n         // }\n         // if(selected.ErrorCodeFlag == 1) {\n         //     selected.ErrorCodeFlag = 0;\n         // }\n \n         var trapId = selected.Id.toString();\n \n         // if the data is within the bounds, save the device data now.\n         //console.log(\"Packet 5 line 539 irs is \" + irs + \"  statement \" + (irs < parseInt(ErrorCodes[selected.ModelId][12].OOB)) + \" OB is \" + ErrorCodes[selected.ModelId][12].OOB  +\" \" + \" error code data  \" + JSON.stringify(ErrorCodes, null, 4));\n \n         if (irs < parseInt(ErrorCodes[selected.ModelId][12].OOB)) {\n             Database.saveRecordParam(\"Rodent\", \"Devices\", {\n                 trapId: selected\n             }, function(data) {\n \n             });\n \n             // if the data is out of bounds, run the RiseError function to save the\n             // error transaction data as well as the device data, with the error code\n             // flag set\n         } else {\n             // console.log(\"selected.CommunicationError \"+ selected.CommunicationError);\n             // if(parseInt(selected.CommunicationError) !== 2)\n             // {\t\n             //     sendingErrorEmail = true;\n             // }\n             if (parseInt(selected.ErrorCodeFlag) !== 1) {\n                 sendingErrorEmail = true;\n             }\n             SelectedError = ErrorCodes[selected.ModelId][12];\n             RiseError(ErrorCodes[selected.ModelId][12].Id, selected, irs);\n         }\n         // hueristicsPacket = dataPacket.data.weight1;\n     }\n \n     // PacketType 6 - Final Delta, end active state. Sent after activity stops\n     // Evaluate Delta Count for out-of-bound load cell\n     // Calculate weight taken (using rebate range formulae)\n     // Post sum of IR Left/Right to motion channels and app\n     // update last communication time\n     if (dataPacket.PacketType === 6) {\n         selected = GetDeviceData(mainDataPacket.end_device_ids.dev_eui);\n         selected.CommunicationError = 0;\n \n         //selected.P6Count = dataPacket.P6Count;\n         //P6CountValue = dataPacket.P6Count;\n \n         if (selected.PState === \"\" || selected.PState === null || selected.PState === undefined) {\n             selected.PState = 1;\n         } else {\n             selected.PState = parseInt(selected.PState) + 1;\n         }\n         selected.PacketType = 6;\n         selected.L1 = parseInt(dataPacket.P4LC);\n         selected.L2 = parseInt(dataPacket.LoadCell);\n         console.log(\"selected.OLC: \" + selected.OLC);\n \n         if (parseInt(selected.OLC) > 0) {\n             var olcL2Difference = parseInt(selected.OLC) - parseInt(dataPacket.LoadCell);\n             console.log(\"olcL2Difference: \" + olcL2Difference);\n \n             if (olcL2Difference > parseFloat(selected.RebaitRangeDelimiter)) {\n                 selected.L1 = parseInt(selected.OLC);\n                 console.log(\"OLC Bigger than Rebait Range delimiter\");\n             } else if (olcL2Difference < (parseFloat(selected.RebaitRangeDelimiter) * -1)) {\n                 selected.L1 = parseInt(selected.OLC);\n                 console.log(\"OLC Less than Rebait Range delimiter\");\n             }\n             selected.OLC = 0;\n         }\n         console.log(\"selected.L1: \" + selected.L1);\n         //selected.L1 = parseInt(dataPacket.P4LC);\n         var BaitTaken = selected.L1 - selected.L2;\n         var packet6Range = BaitTaken;\n         var takenG = BaitTaken / parseFloat(selected.RebaitRange);\n         BaitTaken = BaitTaken / parseFloat(selected.RebaitRange);\n \n         //var takenG = BaitTaken;\n         //console.log(\"BaitTaken \" +BaitTaken);\n \n         // && (dataPacket.P6Count !== P6CountValue || dataPacket.P6Count === 0\n         //if(selected.P6Count !== dataPacket.P6Count || dataPacket.P6Count == 0) {\n \n         //selected.P6Count = dataPacket.P6Count;\n \n         var lastTransactionId = Database.readLastPrimaryKey(\"Rodent\", \"P6Transactions\", function(eventData) {});\n         //var lastId = eventData.value;\n         //var primaryKey = isNaN(lastId) ? 1 : parseInt(lastId) + 1;\n         //var primaryKey = null;\n         if (lastTransactionId === null || lastTransactionId === undefined || isNaN(lastTransactionId)) {\n             lastTransactionId = 1;\n         } else {\n             lastTransactionId = parseInt(lastTransactionId) + 1;\n         }\n \n         if (selected.RebaitRange !== 0.00) {\n \n         }\n         console.log(`values dev  l1  l2, ${selected.L1}, ${selected.L2}, ${dataPacket.P4LC}, ${dataPacket.LoadCell},`);\n         console.log(\"About to save  packet 6 data with transaction \" + lastTransactionId);\n         //console.log(\"Inside reading last value with primary key \" + primaryKey);\n \n         //selected.PrevLC = dataPacket.PrevLC;\n         //if(\n \n         //console.log(\"Packet 6 line 637 irs is \"+ \" data packet data  \" + JSON.stringify(dataPacket, null, 4));\n         if (parseInt(selected.P6Count) !== parseInt(dataPacket.P6Count) || parseInt(dataPacket.P6Count) === 0) {\n             //console.log(`Inside saving values dev  l1  l2, ${selected.L1}, ${selected.L2}, ${dataPacket.P4LC}, ${dataPacket.LoadCell},`);\n             //console.log(\"In the saving About to save  packet 6 data with transaction \" + lastTransactionId + \" with packet count \" + dataPacket.P6Count + \" and selected count is \" + selected.P6Count);\n             selected.P6Count = parseInt(dataPacket.P6Count);\n             takenG = parseFloat(takenG).toFixed(2);\n \n             if (takenG === Infinity || takenG === -Infinity || parseFloat(selected.RebaitRange).toFixed(2) == 0.00) {\n                 takenG = 0.00;\n             }\n             Database.saveRecordParam(\"Rodent\", \"P6Transactions\", {\n \n                 lastTransactionId: {\n                     \"Id\": lastTransactionId,\n                     \"DateTime\": new Date().getTime(),\n                     \"DeviceNumber\": selected.DeviceNumber, //,deviceNum,\n                     \"P5Total\": dataPacket.P5_total,\n                     \"IRLeft\": parseInt(dataPacket.IRLeft),\n                     \"IRRight\": parseInt(dataPacket.IRRight),\n                     \"AvgDelta\": parseInt(dataPacket.average),\n                     \"MinDelta\": dataPacket.min_delta,\n                     \"MaxDelta\": dataPacket.max_delta,\n                     \"L1\": parseInt(dataPacket.P4LC),\n                     \"L2\": parseInt(dataPacket.LoadCell),\n                     \"Range\": packet6Range,\n                     \"RebaitRange\": parseFloat(selected.RebaitRange).toFixed(2),\n                     \"TakenG\": takenG,\n                     \"PrevLC\": selected.PrevLC,\n                     \"LocationId\": selected.LocationId,\n                     \"SiteId\": selected.SiteId,\n                     \"IRLTop\": dataPacket.IR_Top_left,\n                     \"IRLBottom\": dataPacket.IR_Bottom_left,\n                     \"IRRTop\": dataPacket.IR_Top_right,\n                     \"IRRBottom\": dataPacket.IR_Bottom_right,\n                     \"Tilt\": dataPacket.Tilt\n                 }\n \n             }, function(data) {\n                 //console.log(\"inisde save: \" + selected.Id.toString() + \" data is \" + JSON.stringify(data, null, 4));\n             });\n \n \n             if (BaitTaken > 0) {\n                 // Bait taken is positive result, post to respective channel\n                 // Update the percentage and consumed values on the app\n                 var takenVale = BaitTaken / (parseInt(selected.EnteredWeight) - 11) * 100;\n \n \n \n \n                 if (takenVale < parseInt(ErrorCodes[selected.ModelId][11].OOB)) {\n                     selected.WeightConsumed = (BaitTaken) + parseFloat(selected.WeightConsumed);\n \n                     if (selected.WeightConsumed > (parseInt(selected.EnteredWeight) - 11)) {\n                         selected.WeightConsumed = parseInt(selected.EnteredWeight) - 11;\n                     }\n \n                     if (BaitTaken > 0) {\n                         if ((parseInt(selected.WeightLeft) - (BaitTaken)) < 0) {\n                             BaitTaken = selected.WeightLeft;\n                             selected.WeightLeft = 0;\n                         } else {\n                             selected.WeightLeft = parseFloat(selected.WeightLeft) - (BaitTaken);\n                         }\n \n                     }\n                     baitTakenChanel = BaitTaken;\n \n                     if (isNaN(selected.WeightLeft)) {\n                         selected.CalculatedWeight = 0;\n                     } else {\n                         // Removed:: Math.round(BaitTaken)\n                        if (BaitTaken > 0) {\n                             selected.CalculatedWeight = Math.round((parseFloat(selected.WeightLeft) / (parseInt(selected.EnteredWeight) -11)) * 100);\n                            }\n                     }\n \n                     if (selected.CalculatedWeight < 0) {\n                         selected.CalculatedWeight = 0;\n                     }\n                     var TakenChannel = System.getChannelValue(\"BaitTaken\");\n                     // if (selected.CommunicationError === \"1\") {\n                     //     selected.CommunicationError = 0;\n                     // }\n                     // if(selected.ErrorCodeFlag == 1) {\n                     //     selected.ErrorCodeFlag = 0;\n                     // }\n                     selected.GhostWeight = parseFloat(selected.GhostWeight) - (BaitTaken);\n                     devices[mainDataPacket.sid] = selected;\n                     var trapId = selected.Id.toString();\n \n \n                     Database.saveRecordParam(\"Rodent\", \"Devices\", {\n                         trapId: selected\n                     }, function(data) {});\n                 } else {\n                     // console.log(\"selected.CommunicationError \"+ selected.CommunicationError);\n                     // if(parseInt(selected.CommunicationError) !== 2)\n                     // {\t\n                     //     sendingErrorEmail = true;\n                     // }\n \n                     if (parseInt(selected.ErrorCodeFlag) !== 1) {\n                         sendingErrorEmail = true;\n                     }\n                     console.log(\"Packet 6 line 709 takenvale is \" + takenVale + \"  statement \" + (takenVale < parseInt(ErrorCodes[selected.ModelId][11].OOB)) + \" OB is \" + ErrorCodes[selected.ModelId][11].OOB + \" \" + \" error code data  \" + JSON.stringify(ErrorCodes, null, 4));\n                     SelectedError = ErrorCodes[selected.ModelId][11];\n                     console.log(\"Bait Taken is \" + BaitTaken + \" Error raised is \" + JSON.stringify(SelectedError, null, 4));\n                     RiseError(ErrorCodes[selected.ModelId][11].Id, selected, BaitTaken);\n                 }\n \n             } else {\n                 SaveDevice(selected.Id.toString(), selected);\n             }\n \n         }\n \n     }\n     // PacketType 7 - Impact detected\n     if (dataPacket.PacketType === 7) {\n         impact = dataPacket.Intensity;\n         IRLeft = dataPacket.IRLeft;\n         IRRight = dataPacket.IRRight;\n \n         console.log(\"On receiving packet 7: ########\");\n         selected = GetDeviceData(mainDataPacket.end_device_ids.dev_eui);\n         selected.CommunicationError = 0;\n         Database.saveRecordParam(\"Rodent\", \"Devices\", {\n             trapId: selected\n         }, function(data) {});\n     }\n \n     //handling data from device when it turns off to set the device status to 0\n     if (dataPacket.PacketType === 8) {\n         selected = GetDeviceData(mainDataPacket.end_device_ids.dev_eui);\n \n         selected.Status = 0; ///dataPacket.Status;\n         selected.State = 1;\n         console.log(\"Saving device data with status ############## \" + selected.Status + \" received data is \" + dataPacket.Off);\n         //console.log(\"Packet 8 is coming with value \" + dataPacket.Off);\n         var trapId = selected.Id.toString();\n         /*Database.saveRecordParam(\"Rodent\", \"Devices\", {\n             trapId: selected\n         }, function (data) {\n             console.log(\"DATA saved is \" + JSON.stringify(data, null, 4));\n         }); */\n         SaveDevice(trapId, selected);\n     }\n \n     // PacketType 9 - Error received, typically during IR malfunction\n     // Raises error with the given code\n     if (dataPacket.PacketType === 9) {\n         selected = GetDeviceData(mainDataPacket.end_device_ids.dev_eui);\n         selected.CommunicationError = 0;\n         // console.log(\"selected.CommunicationError \"+ selected.CommunicationError);\n         // if (parseInt(selected.CommunicationError) !== 2) {\n         //     sendingErrorEmail = true;\n         // }\n         if (parseInt(selected.ErrorCodeFlag) !== 1) {\n             sendingErrorEmail = true;\n         }\n         SelectedError = ErrorCodes[selected.ModelId][dataPacket.Error];\n         System.writeLog(\"#### Packet 9 ####\\nSelected Error: \" + SelectedError + \", Data Packet Error: \" + dataPacket.Error + \", Model ID: \" + selected.ModelId + \", ErrorCodes: \" + ErrorCodes[selected.ModelId][dataPacket.Error].Id + \", Device ID: \" + selected.Id);\n         RiseError(ErrorCodes[selected.ModelId][dataPacket.Error].Id, selected, \"\");\n     }\n \n     let weightPacket = {\n         \"WeightConsumed\": parseFloat(selected.WeightConsumed),\n         \"WeightLeft\": parseFloat(selected.WeightLeft),\n         \"WeightLeftIndividual\": parseFloat(baitTakenChanel),\n         \"CalculatedWeight\": parseInt(selected.CalculatedWeight),\n         \"RangeWeight1\": RangeWeight1,\n         \"RangeWeight2\": RangeWeight2,\n         \"EnteredWeight\": selected.EnteredWeight,\n     }\n \n     let devicePacket = {\n         \"lcell3\": lcell3,\n         \"IRLeft\": IRLeft,\n         \"IRRight\": IRRight,\n         \"CounterTotal\": counterTotal,\n         \"CycleTotal\": cycleTotal,\n         \"Impact\": impact,\n         \"DeviceNumber\": selected.DeviceNumber,\n         \"PacketType\": dataPacket.PacketType,\n         \"activeStateRight\": activeStateRight,\n         \"activeStateLeft\": activeStateLeft,\n         \"activeCycleLeft\": activeCycleLeft,\n         \"activeCycleRight\": activeCycleRight,\n         \"heartbeat\": heartbeat,\n     }\n \n     let miscPacket = {\n         \"Packet\": dataPacket.packet,\n         \"data\": dataPacket.data,\n         \"HeuristicsPacket\": parseInt(hueristicsPacket),\n     }\n \n     // Return the packet to be parsed by flows and sent to respective channels and email handlers\n     return JSON.stringify({\n         \"sid\": mainDataPacket.end_device_ids.dev_eui,\n         \"WeightLeftIndividual\": parseFloat(baitTakenChanel),\n         \"SetTime\": selected.SetTime,\n         \"EnteredWeight\": selected.EnteredWeight,\n         \"BaitEnalbed\": selected.BaitEnalbed,\n         \"BaitTaken\": baitTakenChanel,\n         \"allowPublishBait\": allowPublishBait,\n         \"sendingErrorEmail\": sendingErrorEmail,\n         \"DeviceNumber\": selected.DeviceNumber,\n         \"SelectedError\": SelectedError,\n         \"Owner\": selected.Owner,\n         \"weightPacket\": weightPacket,\n         \"devicePacket\": devicePacket\n     });\n });\n \n \n /**\n  * \n  * @param {*} id \n  * @param {*} deviceData \n  */\n function SaveDevice(id, deviceData) {\n     var trapId = id;\n     Database.saveRecordParam(\"Rodent\", \"Devices\", {\n         trapId: deviceData\n     });\n }\n \n function RiseError(errorCode, selected, value) {\n     var lastId = Database.readLastPrimaryKey(\"Rodent\", \"ErrorTransactions\", function(eventData) {\n \n     });\n     if (isNaN(lastId)) {\n         lastId = 0;\n     }\n \n     var getErrorLogs = [{\n         \"TableName\": \"ErrorTransactions\", // Specify the primary table used to construct the join request\n         \"Join\": 1, // Join type 1 - Inner Join, 2 - Outer Join, 3 - Left join, 4 - Right Join.\n         \"Columns\": [\n             \"Id\",\n             \"DeviceId\",\n             \"IsActive\"\n         ], // Specify the list of columns to take from the reference table.\n         \"Filters\": // Filter options in case they are needed.\n             [{\n                     \"Column\": \"DeviceId\", //Column that will be applied (don't include table name will be resolved if its contained within the reference table.\n                     \"ParamName\": \"DeviceId\", // Parameter name, must be unique and should not contain $ as its resolved by the mapper. \n                     \"Value\": selected.Id // Value that you want to pass for comparison (any object)\n                 },\n                 {\n                     \"Column\": \"IssueId\", //Column that will be applied (don't include table name will be resolved if its contained within the reference table.\n                     \"ParamName\": \"IssueId\", // Parameter name, must be unique and should not contain $ as its resolved by the mapper. \n                     \"Value\": errorCode // Value that you want to pass for comparison (any object)\n                 }\n             ]\n     }];\n \n \n     var transactionRecord = Database.readCompound(\"rodent\", \"IssueTransactions\", getErrorLogs);\n     //Break if device isn't associated with a trap within the relational database.\n \n     var transactionRecordOld = JSON.parse(transactionRecord);\n     var currentFoundTransaction;\n \n     for (var item in transactionRecordOld.data) {\n         currentFoundTransaction = {};\n         currentFoundTransaction.Id = transactionRecordOld.data[item][0];\n     }\n \n \n     var trapId = parseInt(lastId) + 1;\n \n     if (currentFoundTransaction !== undefined) {\n         trapId = currentFoundTransaction.Id;\n     }\n \n     System.writeLog(\"######### ERRORTRANSACTION INFO\\nTrap ID: \" +  trapId + \", Selected Id: \" + selected.Id + \", Error Code: \" + errorCode + \", Value: \" + value);\n \n     Database.saveRecordParam(\"Rodent\", \"ErrorTransactions\", {\n         trapId: {\n             \"Id\": trapId,\n             \"DeviceId\": selected.Id,\n             \"State\": 3,\n             \"IssueId\": errorCode,\n             \"CreatedBy\": \"System Flow\",\n             \"CreatedAt\": new Date().getTime(),\n             \"TransactionValue\": value == undefined || value == null || isNaN(value) ? \"999\" : value,\n             \"IsActive\": 1\n         }\n \n     }, function(data) {\n \n     });\n \n     // selected.CommunicationError = 2;\n     selected.ErrorCodeFlag = 1;\n     var deviceTrap = selected.Id;\n     Database.saveRecordParam(\"Rodent\", \"Devices\", {\n         deviceTrap: selected\n     }, function(data) {\n \n     });\n \n     return errorCode;\n }\n \n function saveDeviceSettings(selectedValue, dataPacketValue) {\n     Database.saveRecordParam(\"Rodent\", \"DeviceSettings\", {\n         devSetingId: {\n             \"DeviceId\": selectedValue.Id,\n             \"Settings\": \"P5Info\",\n             \"Value\": JSON.stringify({\n                 \"P5Tolerance\": dataPacketValue.P5Tolerance,\n                 \"P5Cycles\": dataPacketValue.P5Cycles,\n                 \"BlockedIRTimer\": dataPacketValue.BlockedIR_timer,\n                 \"P5ActiveTimer\": dataPacketValue.P5Active_timer,\n                 \"HeartBeatTimer\": dataPacketValue.Heartbeat_timer,\n                 \"AccSensitivity\": dataPacketValue.AccSensitivity,\n                 \"FirmwareVersion\": dataPacketValue.FWV.toFixed(2)\n             })\n         }\n     }, function(data) {\n \n     });\n }\n \n function GetDeviceData(id) {\n     var selectTraps = [{\n         \"TableName\": \"Devices\", // Specify the primary table used to construct the join request\n         \"Join\": 1, // Join type 1 - Inner Join, 2 - Outer Join, 3 - Left join, 4 - Right Join.\n         \"Columns\": [\n             \"Id\",\n             \"Sid\",\n             \"EnteredWeight\",\n             \"WeightConsumed\",\n             \"WeightLeft\",\n             \"ClibrationRange\",\n             \"EnteredRange\",\n             \"GhostWeight\",\n             \"DeviceRange\",\n             \"TareWeight\",\n             \"FullRange\",\n             \"RebaitRange\",\n             \"Hours\",\n             \"PState\",\n             \"SetTime\",\n             \"CalculatedWeight\",\n             \"BaitEnalbed\",\n             \"CommunicationError\",\n             \"DeviceBattery\",\n             \"DeviceNumber\",\n             \"Owner\",\n             \"MotionCounters\",\n             \"RebaitRangeDelimiter\",\n             \"OLC\",\n             \"ModelId\",\n             \"ErrorCodeFlag\",\n             \"LocationId\",\n             \"SiteId\",\n             \"P6Count\",\n             \"DeviceFWV\",\n             \"P1Weight\",\n             \"PrevLC\"\n             //\"LastRebaitRange\",\n             //\"LastP1Weight\"\n             //\"DeviceSettings\"\n         ], // Specify the list of columns to take from the reference table.\n         \"Filters\": // Filter options in case they are needed.\n             [{\n                 \"Column\": \"Sid\", //Column that will be applied (don't include table name will be resolved if its contained within the reference table.\n                 \"ParamName\": \"sid\", // Parameter name, must be unique and should not contain $ as its resolved by the mapper. \n                 \"Value\": id.toString() // Value that you want to pass for comparison (any object)\n             }]\n     }];\n \n     var readRecord = Database.readCompound(\"rodent\", \"Devices\", selectTraps); //NB: \"Traps\" is does not exist\n     //Break if device isn't associated with a trap within the relational database.\n \n     var selected;\n     var oldRecord = JSON.parse(readRecord);\n     var result;\n     for (var row in oldRecord.data) {\n         selected = oldRecord.data[row];\n \n         result = {\n             \"Id\": selected[0],\n             \"ClibrationRange\": selected[5],\n             \"EnteredWeight\": selected[2],\n             \"WeightConsumed\": selected[3],\n             \"WeightLeft\": selected[4],\n             \"EnteredRange\": selected[6],\n             \"GhostWeight\": selected[7],\n             \"DeviceRange\": selected[8],\n             \"TareWeight\": selected[9],\n             \"FullRange\": selected[10],\n             \"RebaitRange\": selected[11],\n             \"Hours\": selected[12],\n             \"PState\": selected[13],\n             \"SetTime\": selected[14],\n             \"CalculatedWeight\": selected[15],\n             \"BaitEnalbed\": selected[16],\n             \"CommunicationError\": selected[17],\n             \"DeviceBattery\": selected[18],\n             \"DeviceNumber\": selected[19],\n             \"Owner\": selected[20],\n             \"MotionCounters\": selected[21],\n             \"RebaitRangeDelimiter\": selected[22],\n             \"OLC\": selected[23],\n             \"ModelId\": selected[24],\n             \"ErrorCodeFlag\": selected[25],\n             \"LocationId\": selected[26],\n             \"SiteId\": selected[27],\n             \"P6Count\": selected[28],\n             \"DeviceFWV\": selected[29],\n             \"P1Weight\": selected[30],\n             \"PrevLC\": selected[31]\n         };\n     }\n \n     if (typeof result === \"undefined\") {\n         throw new Error('Error, incoming message is from unprovisioned device. Device EUI: ' + id);\n     }\n \n     return result;\n }\n \n function SetValues(data, id) {\n     var updateItem = {\n         \"Id\": id,\n         \"ClibrationRange\": \"1000000\",\n     };\n     return updateItem;\n }\n \n \n function ConvertDbm(dBm) {\n     if (dBm < -120) {\n         return 10;\n     }\n \n     if (dBm < -115) {\n         return 20;\n     }\n \n     if (dBm < -111) {\n         return 30;\n     }\n \n     if (dBm < -107) {\n         return 40;\n     }\n \n     if (dBm < -101) {\n         return 50;\n     }\n \n     if (dBm < -95) {\n         return 60;\n     }\n \n     if (dBm < -90) {\n         return 70;\n     }\n \n     if (dBm > -90) {\n         return 100;\n     }\n }"},"ev":{}},"End#3":{"t":"End","lX":1450,"lY":675,"sX":1,"sY":1,"s":"Encircle Process","ps":{"enabled":false,"scalingType":"NOSCALE","width":"","height":"","x":"","y":""},"ver":"200819c190915","z":"100","dis":false,"tt":"","a":{"channel":"Pestco/Rodents/+/P2Enabled","[object Attr]":"P2Enabled","category":"Pestco","class":"Rodents","instance":"+","scope":"P2Enabled"},"ev":{}},"MQTT#0":{"t":"MQTT","lX":50,"lY":545,"sX":1,"sY":1,"s":"Encircle Process","ps":{"enabled":false,"scalingType":"NOSCALE","width":"5.74%","height":"11.88%","x":"0.57%","y":"212%"},"ver":"190104c210519","dis":false,"tt":"MQTT client and broker for receiving MQTT publish messages matching topic subscription","a":{"device authorization":"json","model":"Pestsense10","topic level":"none","text":"OR","json key":"dev_eui","encryption":"false","broker":"false","topic":"","server password":"","subscription":"#","client username":"pestsenseuk@pestsense","client password":"NNSXS.OXAMH6LFYGSBYYWITJHBJBQTW24WOCJUQQ5K2AY.PCQC33INX7HYNHWGIBO4YCWZPPFHZLI2XQVIEPWP6J2YMYCFVN2Q","certificate name":"","protocol":"3.1.1","quality of service":"at most once","remote broker":"52.17.144.232","clean session":"false","retain published":"true","OR":"OR"},"ev":{}},"publishBaitEnabled":{"t":"Scripting","lX":895,"lY":655,"sX":1,"sY":1,"s":"Encircle Process","ps":{"enabled":false,"scalingType":"NOSCALE","width":"4.2%","height":"8.04%","x":"39.07%","y":"131.83%"},"ver":"190104c210519","dis":false,"tt":"","a":{"code editor":"// Javascript flow scripting.\n/**\n * Description: Returns baitEnabled value if allowed\n * Create Author/Date: \n * Modified Author/Date: \n * Version: \n */\n\n// Declare global variables here to be initialised at server startup\n\n/**\n * Initialise script state (run once at startup). Pass in channels set in script node widget\n */\nScript.on(\"load\", function() {\n});\n\n/**\n * Response to incoming flow message. eventData object passed in with:\n * eventData.value - incoming data value (string)\n * eventData.startCh - state of channel that initiated the flow and the channel details (Object. Members {channel}, {value})\n * @return {string} return a value to continue the flow or to cancel flow return null\n */\nScript.on(\"flow\", function(eventData) {\n\tvar result;\n\tresult = JSON.parse(eventData.value);\n\t// This flow will only progress if the allowPublishBait value is true\n\tif(result.allowPublishBait)\n\t{\n\t\treturn result.BaitEnalbed;\n\t}\n});"},"ev":{}},"ErrorAlerts":{"t":"Scripting","lX":860,"lY":830,"sX":1,"sY":1,"s":"Encircle Process","ps":{"enabled":false,"scalingType":"NOSCALE","width":"5.74%","height":"11.88%","x":"56.8%","y":"204.28%"},"ver":"190104c210519","dis":false,"tt":"","a":{"code editor":"// Javascript flow scripting.\n/**\n * Description: \n * Create Author/Date: \n * Modified Author/Date: \n * Version: \n */\n\n// Declare global variables here to be initialised at server startup\n\n/**\n * Initialise script state (run once at startup). Pass in channels set in script node widget\n */\nScript.on(\"load\", function() {\n});\n\n/**\n * Response to incoming flow message. eventData object passed in with:\n * eventData.value - incoming data value (string)\n * eventData.startCh - state of channel that initiated the flow and the channel details (Object. Members {channel}, {value})\n * @return {string} return a value to continue the flow or to cancel flow return null\n */\nScript.on(\"flow\", function(eventData) {\n\tvar result;\n\tresult = JSON.parse(eventData.value);      // Adjust result with output of script processing\n\tconsole.log(result.sendingErrorEmail);\n\tif(result.sendingErrorEmail)\n\t{\n\t\tconsole.log(result.Owner);\n\t\t\n\t\tvar selectUsers = [\n\t\t\t{\n\t\t\t\t\"TableName\": \"users\", // Specify the primary table used to construct the join request\n\t\t\t\t\"Join\": 1, // Join type 1 - Inner Join, 2 - Outer Join, 3 - Left join, 4 - Right Join.\n\t\t\t\t\"Columns\":\n\t\t\t\t\t[\n\t\t\t\t\t\t\"username\",\n\t\t\t\t\t\t\"email\",\n\t\t\t\t\t\t\"mobile\"\n\t\t\t\t\t], // Specify the list of columns to take from the reference table.\n\t\t\t\t\"Filters\":[\n\t\t\t\t\t{\n\t\t\t\t\t\"Column\": \"username\", //Column that will be applied (don't include table name will be resolved if its contained within the reference table.\n\t\t\t\t\t\"ParamName\": \"receiver\", // Parameter name, must be unique and should not contain $ as its resolved by the mapper. \n\t\t\t\t\t\"Value\": result.Owner // Value that you want to pass for comparison (any object)\n\t\t\t\t\t}\n\t\t\t\t\t] // Filter options in case they are needed.\n\n\t\t\t}];\n\n\n\t\tvar readRecord = Database.readCompound(\"Directory\", \"users\", selectUsers);\n\t\tvar recordData = JSON.parse(readRecord);\n \n\t\tvar usrArr = [];\n\t\tvar mobile;\n\t\tif (Object.keys(recordData.data).length > 0) {\n\n\t\t\tfor (var user in recordData.data) {\n\n\t\t\t\tif (recordData.data[user][1] !== \"\") {\n\t\t\t\t\tusrArr.push(recordData.data[user][1]);\n \t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t console.log(result.DeviceNumber );\n\t\tconsole.log(result.SelectedError.Description);\n \t\tvar subject = \"Error Alert - \" + result.DeviceNumber +\" \"+ result.SelectedError.Description;  \n\t    usrArr.push(\"alertstg@sensahub.com\");\n\t\t//usrArr.push(result.Owner);\n\n\t\t\n\t\tvar email = { \"To\": usrArr, \"subject\": subject, \"body\": result.SelectedError.Description };\n\t\treturn JSON.stringify(email);\n\t}\n\t\n });"},"ev":{}},"JsonParser#14":{"t":"JsonParser","lX":515,"lY":345,"sX":1,"sY":1,"s":"Encircle Process","ps":{"enabled":false,"scalingType":"NOSCALE","width":"","height":"","x":"","y":""},"ver":"190104c210519","dis":false,"tt":"","a":{"field name":"weightPacket"},"ev":{}},"JsonParser#15":{"t":"JsonParser","lX":525,"lY":455,"sX":1,"sY":1,"s":"Encircle Process","ps":{"enabled":false,"scalingType":"NOSCALE","width":"","height":"","x":"","y":""},"ver":"190104c210519","dis":false,"tt":"","a":{"field name":"devicePacket"},"ev":{}},"End#12":{"t":"End","lX":680,"lY":480,"sX":1,"sY":1,"s":"Encircle Process","ps":{"enabled":false,"scalingType":"NOSCALE","width":"4.2%","height":"5.36%","x":"34.41%","y":"118.4%"},"ver":"200819c210519","dis":false,"tt":"","a":{"channel":"PESTCO/RODENTS/+/DEVICEPACKET","[object Attr]":"DEVICEPACKET","category":"PESTCO","class":"RODENTS","instance":"+","scope":"DEVICEPACKET"},"ev":{}},"End#13":{"t":"End","lX":685,"lY":370,"sX":1,"sY":1,"s":"Encircle Process","ps":{"enabled":false,"scalingType":"NOSCALE","width":"","height":"","x":"","y":""},"ver":"200819c210519","dis":false,"tt":"","a":{"channel":"PESTCO/RODENTS/+/WEIGHTPACKET","[object Attr]":"WEIGHTPACKET","category":"PESTCO","class":"RODENTS","instance":"+","scope":"WEIGHTPACKET"},"ev":{}},"Start#1":{"t":"Start","lX":20,"lY":545,"sX":1,"sY":1,"s":"Manage Device Packet","ps":{"enabled":"false","scalingType":"NOSCALE","width":"4.2%","height":"5.36%","x":"2.35%","y":"49.92%"},"ver":"200819c210519","dis":false,"tt":"","a":{"channel":"PESTCO/RODENTS/+/DEVICEPACKET","[object Attr]":"DEVICEPACKET","category":"PESTCO","class":"RODENTS","instance":"+","scope":"DEVICEPACKET"},"ev":{}},"JsonParser#16":{"t":"JsonParser","lX":300,"lY":220,"sX":1,"sY":1,"s":"Manage Device Packet","ps":{"enabled":"false","scalingType":"NOSCALE","width":"","height":"","x":"","y":""},"ver":"190104c210519","dis":false,"tt":"","a":{"field name":"Impact"},"ev":{}},"JsonParser#17":{"t":"JsonParser","lX":295,"lY":320,"sX":1,"sY":1,"s":"Manage Device Packet","ps":{"enabled":"false","scalingType":"NOSCALE","width":"","height":"","x":"","y":""},"ver":"190104c210519","dis":false,"tt":"","a":{"field name":"CounterTotal"},"ev":{}},"JsonParser#19":{"t":"JsonParser","lX":295,"lY":0,"sX":1,"sY":1,"s":"Manage Device Packet","ps":{"enabled":"false","scalingType":"NOSCALE","width":"4.2%","height":"8.25%","x":"11.5%","y":"57.1%"},"ver":"190104c210519","dis":false,"tt":"","a":{"field name":"PacketType"},"ev":{}},"JsonParser#20":{"t":"JsonParser","lX":300,"lY":860,"sX":1,"sY":1,"s":"Manage Device Packet","ps":{"enabled":"false","scalingType":"NOSCALE","width":"","height":"","x":"","y":""},"ver":"190104c210519","dis":false,"tt":"","a":{"field name":"activeStateLeft"},"ev":{}},"JsonParser#21":{"t":"JsonParser","lX":295,"lY":105,"sX":1,"sY":1,"s":"Manage Device Packet","ps":{"enabled":"false","scalingType":"NOSCALE","width":"","height":"","x":"","y":""},"ver":"190104c210519","dis":false,"tt":"","a":{"field name":"lcell3"},"ev":{}},"JsonParser#23":{"t":"JsonParser","lX":300,"lY":530,"sX":1,"sY":1,"s":"Manage Device Packet","ps":{"enabled":"false","scalingType":"NOSCALE","width":"10.01%","height":"8.47%","x":"30.03%","y":"44.92%"},"ver":"190104c210519","dis":false,"tt":"","a":{"field name":"IRLeft"},"ev":{}},"JsonParser#27":{"t":"JsonParser","lX":300,"lY":975,"sX":1,"sY":1,"s":"Manage Device Packet","ps":{"enabled":"false","scalingType":"NOSCALE","width":"4.2%","height":"8.25%","x":"10.62%","y":"85.97%"},"ver":"190104c210519","dis":false,"tt":"","a":{"field name":"activeCycleRight"},"ev":{}},"JsonParser#30":{"t":"JsonParser","lX":300,"lY":755,"sX":1,"sY":1,"s":"Manage Device Packet","ps":{"enabled":"false","scalingType":"NOSCALE","width":"","height":"","x":"","y":""},"ver":"190104c210519","dis":false,"tt":"","a":{"field name":"activeStateRight"},"ev":{}},"JsonParser#31":{"t":"JsonParser","lX":300,"lY":1085,"sX":1,"sY":1,"s":"Manage Device Packet","ps":{"enabled":"false","scalingType":"NOSCALE","width":"","height":"","x":"","y":""},"ver":"190104c210519","dis":false,"tt":"","a":{"field name":"activeCycleLeft"},"ev":{}},"End#0":{"t":"End","lX":470,"lY":665,"sX":1,"sY":1,"s":"Manage Device Packet","ps":{"enabled":"false","scalingType":"NOSCALE","width":"9.08%","height":"5.41%","x":"42.6%","y":"2.08%"},"ver":"200819c210519","dis":false,"tt":"","a":{"channel":"PESTCO/RODENTS/+/heartbeat","[object Attr]":"heartbeat","category":"PESTCO","class":"RODENTS","instance":"+","scope":"heartbeat"},"ev":{}},"End#14":{"t":"End","lX":470,"lY":135,"sX":1,"sY":1,"s":"Manage Device Packet","ps":{"enabled":"false","scalingType":"NOSCALE","width":"","height":"","x":"","y":""},"ver":"200819c210519","dis":false,"tt":"","a":{"channel":"PESTCO/RODENTS/+/p3oob","[object Attr]":"p3oob","category":"PESTCO","class":"RODENTS","instance":"+","scope":"p3oob"},"ev":{}},"End#15":{"t":"End","lX":470,"lY":245,"sX":1,"sY":1,"s":"Manage Device Packet","ps":{"enabled":"false","scalingType":"NOSCALE","width":"","height":"","x":"","y":""},"ver":"200819c210519","dis":false,"tt":"","a":{"channel":"PESTCO/RODENTS/+/impacts","[object Attr]":"impacts","category":"PESTCO","class":"RODENTS","instance":"+","scope":"impacts"},"ev":{}},"End#16":{"t":"End","lX":470,"lY":345,"sX":1,"sY":1,"s":"Manage Device Packet","ps":{"enabled":"false","scalingType":"NOSCALE","width":"9.08%","height":"5.41%","x":"42.6%","y":"28.7%"},"ver":"200819c210519","dis":false,"tt":"","a":{"channel":"PESTCO/RODENTS/+/CounterTotal","[object Attr]":"CounterTotal","category":"PESTCO","class":"RODENTS","instance":"+","scope":"CounterTotal"},"ev":{}},"End#17":{"t":"End","lX":470,"lY":440,"sX":1,"sY":1,"s":"Manage Device Packet","ps":{"enabled":"false","scalingType":"NOSCALE","width":"","height":"","x":"","y":""},"ver":"200819c210519","dis":false,"tt":"","a":{"channel":"PESTCO/RODENTS/+/MotionRight","[object Attr]":"MotionRight","category":"PESTCO","class":"RODENTS","instance":"+","scope":"MotionRight"},"ev":{}},"End#18":{"t":"End","lX":470,"lY":555,"sX":1,"sY":1,"s":"Manage Device Packet","ps":{"enabled":"false","scalingType":"NOSCALE","width":"","height":"","x":"","y":""},"ver":"200819c210519","dis":false,"tt":"","a":{"channel":"PESTCO/RODENTS/+/MotionLeft","[object Attr]":"MotionLeft","category":"PESTCO","class":"RODENTS","instance":"+","scope":"MotionLeft"},"ev":{}},"End#19":{"t":"End","lX":470,"lY":35,"sX":1,"sY":1,"s":"Manage Device Packet","ps":{"enabled":"false","scalingType":"NOSCALE","width":"","height":"","x":"","y":""},"ver":"200819c210519","dis":false,"tt":"","a":{"channel":"PESTCO/RODENTS/+/PacketType","[object Attr]":"PacketType","category":"PESTCO","class":"RODENTS","instance":"+","scope":"PacketType"},"ev":{}},"End#20":{"t":"End","lX":470,"lY":780,"sX":1,"sY":1,"s":"Manage Device Packet","ps":{"enabled":"false","scalingType":"NOSCALE","width":"","height":"","x":"","y":""},"ver":"200819c210519","dis":false,"tt":"","a":{"channel":"PESTCO/RODENTS/+/activeStateRight","[object Attr]":"activeStateRight","category":"PESTCO","class":"RODENTS","instance":"+","scope":"activeStateRight"},"ev":{}},"End#21":{"t":"End","lX":470,"lY":885,"sX":1,"sY":1,"s":"Manage Device Packet","ps":{"enabled":"false","scalingType":"NOSCALE","width":"","height":"","x":"","y":""},"ver":"200819c210519","dis":false,"tt":"","a":{"channel":"PESTCO/RODENTS/+/activeStateLeft","[object Attr]":"activeStateLeft","category":"PESTCO","class":"RODENTS","instance":"+","scope":"activeStateLeft"},"ev":{}},"End#22":{"t":"End","lX":470,"lY":995,"sX":1,"sY":1,"s":"Manage Device Packet","ps":{"enabled":"false","scalingType":"NOSCALE","width":"","height":"","x":"","y":""},"ver":"200819c210519","dis":false,"tt":"","a":{"channel":"PESTCO/RODENTS/+/activeCycleRight","[object Attr]":"activeCycleRight","category":"PESTCO","class":"RODENTS","instance":"+","scope":"activeCycleRight"},"ev":{}},"End#23":{"t":"End","lX":470,"lY":1110,"sX":1,"sY":1,"s":"Manage Device Packet","ps":{"enabled":"false","scalingType":"NOSCALE","width":"","height":"","x":"","y":""},"ver":"200819c210519","dis":false,"tt":"","a":{"channel":"PESTCO/RODENTS/+/activeCycleLeft","[object Attr]":"activeCycleLeft","category":"PESTCO","class":"RODENTS","instance":"+","scope":"activeCycleLeft"},"ev":{}},"JsonParser#22":{"t":"JsonParser","lX":295,"lY":645,"sX":1,"sY":1,"s":"Manage Device Packet","ps":{"enabled":"false","scalingType":"NOSCALE","width":"9.08%","height":"8.32%","x":"27.07%","y":"0%"},"ver":"190104c210519","dis":false,"tt":"","a":{"field name":"heartbeat"},"ev":{}},"Start#2":{"t":"Start","lX":45,"lY":375,"sX":1,"sY":1,"s":"Manage Weight Packet","ps":{"enabled":"false","scalingType":"NOSCALE","width":"","height":"","x":"","y":""},"ver":"200819c210519","dis":false,"tt":"","a":{"channel":"PESTCO/RODENTS/+/WEIGHTPACKET","[object Attr]":"WEIGHTPACKET","category":"PESTCO","class":"RODENTS","instance":"+","scope":"WEIGHTPACKET"},"ev":{}},"JsonParser#25":{"t":"JsonParser","lX":210,"lY":120,"sX":1,"sY":1,"s":"Manage Weight Packet","ps":{"enabled":"false","scalingType":"NOSCALE","width":"9.08%","height":"8.32%","x":"19.16%","y":"9.98%"},"ver":"190104c210519","dis":false,"tt":"","a":{"field name":"WeightLeftIndividual"},"ev":{}},"JsonParser#28":{"t":"JsonParser","lX":210,"lY":255,"sX":1,"sY":1,"s":"Manage Weight Packet","ps":{"enabled":"false","scalingType":"NOSCALE","width":"","height":"","x":"","y":""},"ver":"190104c210519","dis":false,"tt":"","a":{"field name":"WeightConsumed"},"ev":{}},"JsonParser#33":{"t":"JsonParser","lX":210,"lY":435,"sX":1,"sY":1,"s":"Manage Weight Packet","ps":{"enabled":"false","scalingType":"NOSCALE","width":"","height":"","x":"","y":""},"ver":"190104c210519","dis":false,"tt":"","a":{"field name":"WeightLeft"},"ev":{}},"JsonParser#34":{"t":"JsonParser","lX":210,"lY":550,"sX":1,"sY":1,"s":"Manage Weight Packet","ps":{"enabled":"false","scalingType":"NOSCALE","width":"","height":"","x":"","y":""},"ver":"190104c210519","dis":false,"tt":"","a":{"field name":"CalculatedWeight"},"ev":{}},"End#24":{"t":"End","lX":350,"lY":145,"sX":1,"sY":1,"s":"Manage Weight Packet","ps":{"enabled":"false","scalingType":"NOSCALE","width":"","height":"","x":"","y":""},"ver":"200819c210519","dis":false,"tt":"","a":{"channel":"PESTCO/RODENTS/+/BaitTaken","[object Attr]":"BaitTaken","category":"PESTCO","class":"RODENTS","instance":"+","scope":"BaitTaken"},"ev":{}},"End#25":{"t":"End","lX":350,"lY":280,"sX":1,"sY":1,"s":"Manage Weight Packet","ps":{"enabled":"false","scalingType":"NOSCALE","width":"","height":"","x":"","y":""},"ver":"200819c210519","dis":false,"tt":"","a":{"channel":"PESTCO/RODENTS/+/WeightConsumed","[object Attr]":"WeightConsumed","category":"PESTCO","class":"RODENTS","instance":"+","scope":"WeightConsumed"},"ev":{}},"End#26":{"t":"End","lX":350,"lY":460,"sX":1,"sY":1,"s":"Manage Weight Packet","ps":{"enabled":"false","scalingType":"NOSCALE","width":"","height":"","x":"","y":""},"ver":"200819c210519","dis":false,"tt":"","a":{"channel":"PESTCO/RODENTS/+/weight","[object Attr]":"weight","category":"PESTCO","class":"RODENTS","instance":"+","scope":"weight"},"ev":{}},"End#27":{"t":"End","lX":350,"lY":570,"sX":1,"sY":1,"s":"Manage Weight Packet","ps":{"enabled":"false","scalingType":"NOSCALE","width":"","height":"","x":"","y":""},"ver":"200819c210519","dis":false,"tt":"","a":{"channel":"PESTCO/RODENTS/+/CalculatedWeight","[object Attr]":"CalculatedWeight","category":"PESTCO","class":"RODENTS","instance":"+","scope":"CalculatedWeight"},"ev":{}},"JsonParser#18":{"t":"JsonParser","lX":295,"lY":420,"sX":1,"sY":1,"s":"Manage Device Packet","ps":{"enabled":"false","scalingType":"NOSCALE","width":"","height":"","x":"","y":""},"ver":"190104c210519","dis":false,"tt":"","a":{"field name":"IRRight"},"ev":{}},"Notes#2":{"t":"Notes","lX":605,"lY":665,"sX":3.3,"sY":4.95,"s":"Manage Device Packet","ps":{"enabled":"false","scalingType":"OK","width":"13.85%","height":"40.84%","x":"25.39%","y":"54.95%"},"ver":"190104c210519","z":"110","dis":false,"tt":"","a":{"color":"blue","3D shadow":"false","title":"Notes","notes":"These channels are in device level dashboard when an active cycle triggers (PacketType 4)"},"ev":{}},"Notes#1":{"t":"Notes","lX":465,"lY":220,"sX":2.95,"sY":1.25,"s":"Encircle Process","ps":{"enabled":false,"scalingType":"OK","width":"26.75%","height":"25.35%","x":"42.16%","y":"42.6%"},"ver":"190104c210519","z":"110","dis":false,"tt":"","a":{"color":"blue","3D shadow":"false","title":"Notes","notes":"The weightPacket and devicePacket channels are handled on their own flow screen."},"ev":{}},"Notes#3":{"t":"Notes","lX":1575,"lY":125,"sX":1.45,"sY":5.95,"s":"Encircle Process","ps":{"enabled":false,"scalingType":"OK","width":"13.17%","height":"49.5%","x":"143.05%","y":"10.23%"},"ver":"190104c210519","z":"110","dis":false,"tt":"","a":{"color":"blue","3D shadow":"false","title":"Notes","notes":"These channels are received by the widgets on the screens"},"ev":{}},"EndMQTT#0":{"t":"EndMQTT","lX":2150,"lY":360,"sX":1,"sY":1,"s":"Encircle Process","ps":{"enabled":false,"scalingType":"NOSCALE","width":"","height":"","x":"","y":""},"ver":"201114c210519","dis":false,"tt":"Send flow result to remote MQTT device subscribing to registered topic","a":{"mqtt start node":"3.104.210.16","publish topic":"v3/pestsenseau@pestsense/devices/eui-7cdfa14150b41000/down/push","use usrmeta":"false","retained":"false","message topic level":"none","substitute usrmeta":"false"},"ev":{}},"Start#3":{"t":"Start","lX":1860,"lY":370,"sX":1,"sY":1,"s":"Encircle Process","ps":{"enabled":false,"scalingType":"NOSCALE","width":"","height":"","x":"","y":""},"ver":"200819c210519","dis":false,"tt":"","a":{"channel":"test/poc/downlink/data","[object Attr]":"data","category":"test","class":"poc","instance":"downlink","scope":"data"},"ev":{}},"Container#0":{"t":"Container","lX":1815,"lY":305,"sX":4.8,"sY":2.75,"s":"Encircle Process","ps":{"enabled":false,"scalingType":"OK","width":"20.14%","height":"23.36%","x":"76.16%","y":"25.83%"},"ver":"190104c210519","z":"100","dis":false,"tt":"","a":{"3D shadow":"false","color":"green","title":"PoC for downlink - temporary"},"ev":{}},"JsonParser#3":{"t":"JsonParser","lX":295,"lY":1195,"sX":1,"sY":1,"s":"Manage Device Packet","ps":{"enabled":"false","scalingType":"NOSCALE","width":"","height":"","x":"","y":""},"ver":"190104c210519","dis":false,"tt":"","a":{"field name":"CycleTotal"},"ev":{}},"End#4":{"t":"End","lX":465,"lY":1220,"sX":1,"sY":1,"s":"Manage Device Packet","ps":{"enabled":"false","scalingType":"NOSCALE","width":"9.08%","height":"5.41%","x":"42.23%","y":"101.5%"},"ver":"200819c210519","dis":false,"tt":"","a":{"channel":"PESTCO/RODENTS/+/CycleTotal","[object Attr]":"CycleTotal","category":"PESTCO","class":"RODENTS","instance":"+","scope":"CycleTotal"},"ev":{}}},"screens":{"Heartbeat":{"index":0,"icon":"swap_calls","meta":""},"Encircle Process":{"index":1,"icon":"swap_calls","meta":""},"Manage Device Packet":{"index":2,"icon":"swap_calls","meta":""},"Manage Weight Packet":{"index":3,"icon":"swap_calls","meta":""}},"meta":"","links":[{"inpNodeName":"Heartbeat#0","inpNodeType":"Heartbeat","inpPin":0,"outNodeName":"Start#0","outNodeType":"Start","outPin":0,"path":"M 310 337 C 345 337 345 338 380 338","screen":"Heartbeat"},{"inpNodeName":"EmailController","inpNodeType":"Scripting","inpPin":0,"outNodeName":"Heartbeat#0","outNodeType":"Heartbeat","outPin":0,"path":"M 469 338 C 501 338 501 341 532 340","screen":"Heartbeat"},{"inpNodeName":"SMTP#1","inpNodeType":"SMTP","inpPin":0,"outNodeName":"EmailController","outNodeType":"Scripting","outPin":0,"path":"M 621 340 C 648 337 648 337 675 337","screen":"Heartbeat"},{"inpNodeName":"End#36","inpNodeType":"End","inpPin":0,"outNodeName":"JsonParser#26","outNodeType":"JsonParser","outPin":0,"path":"M 1064 358 C 1261.5 358 1261.5 352 1460 352","screen":"Encircle Process"},{"inpNodeName":"JsonParser#32","inpNodeType":"JsonParser","inpPin":0,"outNodeName":"MQTT#0-DEV","outNodeType":"MQTT","outPin":0,"path":"M 141 144 C 266 144 266 142 392 142","screen":"Encircle Process"},{"inpNodeName":"PacketRouter","inpNodeType":"Scripting","inpPin":0,"outNodeName":"MQTT#0-DEV","outNodeType":"MQTT","outPin":0,"path":"M 141 144 C 247 144 247 576 353 576","screen":"Encircle Process"},{"inpNodeName":"JsonParser#0","inpNodeType":"JsonParser","inpPin":0,"outNodeName":"JsonParser#32","outNodeType":"JsonParser","outPin":0,"path":"M 481 142 C 551 141 551 143 622 143","screen":"Encircle Process"},{"inpNodeName":"JsonParser#24","inpNodeType":"JsonParser","inpPin":0,"outNodeName":"JsonParser#0","outNodeType":"JsonParser","outPin":0,"path":"M 711 143 C 840.5 143 840.5 251 971 251","screen":"Encircle Process"},{"inpNodeName":"JsonParser#26","inpNodeType":"JsonParser","inpPin":0,"outNodeName":"JsonParser#0","outNodeType":"JsonParser","outPin":0,"path":"M 711 143 C 842.5 143 842.5 358 975 358","screen":"Encircle Process"},{"inpNodeName":"JsonParser#29","inpNodeType":"JsonParser","inpPin":0,"outNodeName":"JsonParser#0","outNodeType":"JsonParser","outPin":0,"path":"M 711 143 C 820.5 143 820.5 463 931 462","screen":"Encircle Process"},{"inpNodeName":"JsonParser#1","inpNodeType":"JsonParser","inpPin":0,"outNodeName":"JsonParser#0","outNodeType":"JsonParser","outPin":0,"path":"M 711 143 C 806.5 143 806.5 567 900 568","screen":"Encircle Process"},{"inpNodeName":"JsonParser#2","inpNodeType":"JsonParser","inpPin":0,"outNodeName":"JsonParser#0","outNodeType":"JsonParser","outPin":0,"path":"M 711 143 C 838 143 838 149 966 149","screen":"Encircle Process"},{"inpNodeName":"End#1","inpNodeType":"End","inpPin":0,"outNodeName":"JsonParser#2","outNodeType":"JsonParser","outPin":0,"path":"M 1055 149 C 1254.5 146 1254.5 144 1456 143","screen":"Encircle Process"},{"inpNodeName":"EmailHandler","inpNodeType":"Scripting","inpPin":0,"outNodeName":"PacketRouter","outNodeType":"Scripting","outPin":0,"path":"M 442 576 C 648.5 576 648.5 993 855 993","screen":"Encircle Process"},{"inpNodeName":"ConsumedHandler","inpNodeType":"Scripting","inpPin":0,"outNodeName":"ConsumedAlertsController","outNodeType":"Scripting","outPin":0,"path":"M 947 1143 C 983.5 1143 983.5 1162 1020 1163","screen":"Encircle Process"},{"inpNodeName":"End#2","inpNodeType":"End","inpPin":0,"outNodeName":"SMSRouter","outNodeType":"Scripting","outPin":0,"path":"M 1369 1161 C 1430.5 1161 1430.5 1163 1491 1162","screen":"Encircle Process"},{"inpNodeName":"SMSRouter","inpNodeType":"Scripting","inpPin":0,"outNodeName":"ConsumedHandler","outNodeType":"Scripting","outPin":0,"path":"M 1109 1163 C 1194.5 1162 1194.5 1161 1280 1161","screen":"Encircle Process"},{"inpNodeName":"SMSRouter","inpNodeType":"Scripting","inpPin":0,"outNodeName":"EmailHandler","outNodeType":"Scripting","outPin":0,"path":"M 944 993 C 1112.5 993 1112.5 1161 1280 1161","screen":"Encircle Process"},{"inpNodeName":"EmailRouter","inpNodeType":"Scripting","inpPin":0,"outNodeName":"EmailHandler","outNodeType":"Scripting","outPin":0,"path":"M 944 993 C 1122.5 993 1122.5 993 1300 993","screen":"Encircle Process"},{"inpNodeName":"ConsumedAlertsController","inpNodeType":"Scripting","inpPin":0,"outNodeName":"PacketRouter","outNodeType":"Scripting","outPin":0,"path":"M 442 576 C 650 576 650 1143 858 1143","screen":"Encircle Process"},{"inpNodeName":"End#32","inpNodeType":"End","inpPin":0,"outNodeName":"Operator#3","outNodeType":"Operator","outPin":0,"path":"M 1210 561 C 1334.5 561 1334.5 565 1461 563","screen":"Encircle Process"},{"inpNodeName":"End#35","inpNodeType":"End","inpPin":0,"outNodeName":"JsonParser#24","outNodeType":"JsonParser","outPin":0,"path":"M 1060 251 C 1260.5 251 1260.5 245 1462 243","screen":"Encircle Process"},{"inpNodeName":"Operator#3","inpNodeType":"Operator","inpPin":0,"outNodeName":"JsonParser#1","outNodeType":"JsonParser","outPin":0,"path":"M 989 568 C 1059.5 567 1059.5 537 1128 537","screen":"Encircle Process"},{"inpNodeName":"publishBaitEnabled","inpNodeType":"Scripting","inpPin":0,"outNodeName":"PacketRouter","outNodeType":"Scripting","outPin":0,"path":"M 442 576 C 671.5 576 671.5 699 901 699","screen":"Encircle Process"},{"inpNodeName":"End#3","inpNodeType":"End","inpPin":0,"outNodeName":"publishBaitEnabled","outNodeType":"Scripting","outPin":0,"path":"M 990 699 C 1221.5 698 1221.5 691 1455 692","screen":"Encircle Process"},{"inpNodeName":"ErrorAlerts","inpNodeType":"Scripting","inpPin":0,"outNodeName":"PacketRouter","outNodeType":"Scripting","outPin":0,"path":"M 442 571 C 653.5 571 653.5 873 865 873","screen":"Encircle Process"},{"inpNodeName":"SMTP#0","inpNodeType":"SMTP","inpPin":0,"outNodeName":"EmailRouter","outNodeType":"Scripting","outPin":0,"path":"M 1389 993 C 1439.5 993 1439.5 871 1490 872","screen":"Encircle Process"},{"inpNodeName":"EmailRouter","inpNodeType":"Scripting","inpPin":0,"outNodeName":"ConsumedHandler","outNodeType":"Scripting","outPin":0,"path":"M 1109 1163 C 1204.5 1162 1204.5 993 1300 993","screen":"Encircle Process"},{"inpNodeName":"SMTP#0","inpNodeType":"SMTP","inpPin":0,"outNodeName":"ErrorAlerts","outNodeType":"Scripting","outPin":0,"path":"M 954 873 C 1222 873 1222 872 1490 872","screen":"Encircle Process"},{"inpNodeName":"JsonParser#14","inpNodeType":"JsonParser","inpPin":0,"outNodeName":"PacketRouter","outNodeType":"Scripting","outPin":0,"path":"M 442 571 C 481 571 481 386 520 386","screen":"Encircle Process"},{"inpNodeName":"JsonParser#15","inpNodeType":"JsonParser","inpPin":0,"outNodeName":"PacketRouter","outNodeType":"Scripting","outPin":0,"path":"M 442 571 C 486 571 486 496 530 496","screen":"Encircle Process"},{"inpNodeName":"JsonParser#19","inpNodeType":"JsonParser","inpPin":0,"outNodeName":"Start#1","outNodeType":"Start","outPin":0,"path":"M 114 562 C 207 562 207 41 300 41","screen":"Manage Device Packet"},{"inpNodeName":"JsonParser#30","inpNodeType":"JsonParser","inpPin":0,"outNodeName":"Start#1","outNodeType":"Start","outPin":0,"path":"M 114 562 C 209 562 209 795 305 796","screen":"Manage Device Packet"},{"inpNodeName":"JsonParser#20","inpNodeType":"JsonParser","inpPin":0,"outNodeName":"Start#1","outNodeType":"Start","outPin":0,"path":"M 114 562 C 209.5 563 209.5 901 305 901","screen":"Manage Device Packet"},{"inpNodeName":"JsonParser#27","inpNodeType":"JsonParser","inpPin":0,"outNodeName":"Start#1","outNodeType":"Start","outPin":0,"path":"M 114 562 C 209.5 563 209.5 1016 305 1016","screen":"Manage Device Packet"},{"inpNodeName":"JsonParser#17","inpNodeType":"JsonParser","inpPin":0,"outNodeName":"Start#1","outNodeType":"Start","outPin":0,"path":"M 114 562 C 207 563 207 361 300 361","screen":"Manage Device Packet"},{"inpNodeName":"JsonParser#16","inpNodeType":"JsonParser","inpPin":0,"outNodeName":"Start#1","outNodeType":"Start","outPin":0,"path":"M 114 562 C 209.5 563 209.5 261 305 261","screen":"Manage Device Packet"},{"inpNodeName":"JsonParser#21","inpNodeType":"JsonParser","inpPin":0,"outNodeName":"Start#1","outNodeType":"Start","outPin":0,"path":"M 114 562 C 207 563 207 146 300 146","screen":"Manage Device Packet"},{"inpNodeName":"JsonParser#31","inpNodeType":"JsonParser","inpPin":0,"outNodeName":"Start#1","outNodeType":"Start","outPin":0,"path":"M 114 562 C 209.5 563 209.5 1126 305 1126","screen":"Manage Device Packet"},{"inpNodeName":"End#14","inpNodeType":"End","inpPin":0,"outNodeName":"JsonParser#21","outNodeType":"JsonParser","outPin":0,"path":"M 389 146 C 433 148 433 152 475 152","screen":"Manage Device Packet"},{"inpNodeName":"End#15","inpNodeType":"End","inpPin":0,"outNodeName":"JsonParser#16","outNodeType":"JsonParser","outPin":0,"path":"M 394 261 C 433.5 260 433.5 262 475 262","screen":"Manage Device Packet"},{"inpNodeName":"End#16","inpNodeType":"End","inpPin":0,"outNodeName":"JsonParser#17","outNodeType":"JsonParser","outPin":0,"path":"M 389 361 C 432.5 361 432.5 362 475 362","screen":"Manage Device Packet"},{"inpNodeName":"End#18","inpNodeType":"End","inpPin":0,"outNodeName":"JsonParser#23","outNodeType":"JsonParser","outPin":0,"path":"M 394 571 C 434.5 571 434.5 572 475 572","screen":"Manage Device Packet"},{"inpNodeName":"End#19","inpNodeType":"End","inpPin":0,"outNodeName":"JsonParser#19","outNodeType":"JsonParser","outPin":0,"path":"M 389 41 C 432 41 432 52 475 52","screen":"Manage Device Packet"},{"inpNodeName":"End#20","inpNodeType":"End","inpPin":0,"outNodeName":"JsonParser#30","outNodeType":"JsonParser","outPin":0,"path":"M 394 796 C 434 796 434 796 475 797","screen":"Manage Device Packet"},{"inpNodeName":"End#21","inpNodeType":"End","inpPin":0,"outNodeName":"JsonParser#20","outNodeType":"JsonParser","outPin":0,"path":"M 394 901 C 433.5 901 433.5 902 475 902","screen":"Manage Device Packet"},{"inpNodeName":"End#22","inpNodeType":"End","inpPin":0,"outNodeName":"JsonParser#27","outNodeType":"JsonParser","outPin":0,"path":"M 394 1016 C 433.5 1016 433.5 1014 475 1012","screen":"Manage Device Packet"},{"inpNodeName":"End#23","inpNodeType":"End","inpPin":0,"outNodeName":"JsonParser#31","outNodeType":"JsonParser","outPin":0,"path":"M 394 1126 C 434.5 1126 434.5 1129 475 1127","screen":"Manage Device Packet"},{"inpNodeName":"JsonParser#22","inpNodeType":"JsonParser","inpPin":0,"outNodeName":"Start#1","outNodeType":"Start","outPin":0,"path":"M 114 562 C 208 562 208 684 300 686","screen":"Manage Device Packet"},{"inpNodeName":"End#0","inpNodeType":"End","inpPin":0,"outNodeName":"JsonParser#22","outNodeType":"JsonParser","outPin":0,"path":"M 389 686 C 433 684 433 682 475 682","screen":"Manage Device Packet"},{"inpNodeName":"JsonParser#25","inpNodeType":"JsonParser","inpPin":0,"outNodeName":"Start#2","outNodeType":"Start","outPin":0,"path":"M 139 392 C 177.5 392 177.5 161 215 161","screen":"Manage Weight Packet"},{"inpNodeName":"JsonParser#28","inpNodeType":"JsonParser","inpPin":0,"outNodeName":"Start#2","outNodeType":"Start","outPin":0,"path":"M 139 392 C 176.5 392 176.5 297 215 296","screen":"Manage Weight Packet"},{"inpNodeName":"JsonParser#33","inpNodeType":"JsonParser","inpPin":0,"outNodeName":"Start#2","outNodeType":"Start","outPin":0,"path":"M 139 392 C 177 392 177 476 215 476","screen":"Manage Weight Packet"},{"inpNodeName":"JsonParser#34","inpNodeType":"JsonParser","inpPin":0,"outNodeName":"Start#2","outNodeType":"Start","outPin":0,"path":"M 139 392 C 178 392 178 591 215 591","screen":"Manage Weight Packet"},{"inpNodeName":"End#24","inpNodeType":"End","inpPin":0,"outNodeName":"JsonParser#25","outNodeType":"JsonParser","outPin":0,"path":"M 304 161 C 329.5 161 329.5 163 355 162","screen":"Manage Weight Packet"},{"inpNodeName":"End#25","inpNodeType":"End","inpPin":0,"outNodeName":"JsonParser#28","outNodeType":"JsonParser","outPin":0,"path":"M 304 296 C 326.5 296 326.5 298 355 297","screen":"Manage Weight Packet"},{"inpNodeName":"End#26","inpNodeType":"End","inpPin":0,"outNodeName":"JsonParser#33","outNodeType":"JsonParser","outPin":0,"path":"M 304 476 C 330 476 330 477 355 477","screen":"Manage Weight Packet"},{"inpNodeName":"End#27","inpNodeType":"End","inpPin":0,"outNodeName":"JsonParser#34","outNodeType":"JsonParser","outPin":0,"path":"M 304 591 C 329.5 591 329.5 589 355 587","screen":"Manage Weight Packet"},{"inpNodeName":"JsonParser#18","inpNodeType":"JsonParser","inpPin":0,"outNodeName":"Start#1","outNodeType":"Start","outPin":0,"path":"M 114 562 C 204 562 204 462 300 461","screen":"Manage Device Packet"},{"inpNodeName":"End#17","inpNodeType":"End","inpPin":0,"outNodeName":"JsonParser#18","outNodeType":"JsonParser","outPin":0,"path":"M 389 461 C 429.5 461 429.5 453 475 457","screen":"Manage Device Packet"},{"inpNodeName":"JsonParser#23","inpNodeType":"JsonParser","inpPin":0,"outNodeName":"Start#1","outNodeType":"Start","outPin":0,"path":"M 114 562 C 209.5 562 209.5 571 305 571","screen":"Manage Device Packet"},{"inpNodeName":"End#12","inpNodeType":"End","inpPin":0,"outNodeName":"JsonParser#15","outNodeType":"JsonParser","outPin":0,"path":"M 619 496 C 652 496 652 495 685 497","screen":"Encircle Process"},{"inpNodeName":"End#13","inpNodeType":"End","inpPin":0,"outNodeName":"JsonParser#14","outNodeType":"JsonParser","outPin":0,"path":"M 609 386 C 649 386 649 385 690 387","screen":"Encircle Process"},{"inpNodeName":"JsonParser#32","inpNodeType":"JsonParser","inpPin":0,"outNodeName":"MQTT#0","outNodeType":"MQTT","outPin":0,"path":"M 144 572 C 266 572 266 141 390 141","screen":"Encircle Process"},{"inpNodeName":"PacketRouter","inpNodeType":"Scripting","inpPin":0,"outNodeName":"MQTT#0","outNodeType":"MQTT","outPin":0,"path":"M 144 572 C 248.5 572 248.5 571 353 571","screen":"Encircle Process"},{"inpNodeName":"EndMQTT#0","inpNodeType":"EndMQTT","inpPin":0,"outNodeName":"Start#3","outNodeType":"Start","outPin":0,"path":"M 1954 387 C 2054.5 387 2054.5 386 2155 387","screen":"Encircle Process"},{"inpNodeName":"End#4","inpNodeType":"End","inpPin":0,"outNodeName":"JsonParser#3","outNodeType":"JsonParser","outPin":0,"path":"M 389 1236 C 429.5 1236 429.5 1237 470 1237","screen":"Manage Device Packet"},{"inpNodeName":"JsonParser#3","inpNodeType":"JsonParser","inpPin":0,"outNodeName":"Start#1","outNodeType":"Start","outPin":0,"path":"M 114 562 C 207.5 562 207.5 1235 300 1236","screen":"Manage Device Packet"},{"inpNodeName":"End#37","inpNodeType":"End","inpPin":0,"outNodeName":"JsonParser#29","outNodeType":"JsonParser","outPin":0,"path":"M 1019 461 C 1236.5 461 1236.5 449 1460 447","screen":"Encircle Process"}]}